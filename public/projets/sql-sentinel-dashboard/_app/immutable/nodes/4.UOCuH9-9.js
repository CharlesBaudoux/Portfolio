import{s as wt,q as Oe,d,i as b,f as at,ad as Hi,G as gt,R as D,F as ai,b as O,e as Q,r as ve,k as J,E as ml,c as V,j,I as oi,C as cn,a as xe,g as Ne,z as ri,ae as Ll,l as fi,aj as mn,af as $t,ag as Pi,M as dn,D as dl,t as wi,u as Li,S as Xi,T as Qi,n as al,v as qi,w as Wi,x as zi,y as Vi,ak as Zl,h as hn,m as yn,o as _n,p as gn}from"../chunks/scheduler.DOwO_r-Y.js";import{S as Lt,i as Ot,h as bn,d as oe,t as P,a as N,g as mt,c as dt,m as fe,b as ue,e as ce}from"../chunks/index.Yeb2f34e.js";import{aa as Bi,ab as Sn,ac as An,ad as hl,ae as yl,af as vl,ag as En,h as ei,f as Cn,ah as Tn,t as pl,ai as pt,aj as kn,ak as wn,al as sl,am as ol,an as fl,a7 as ze,ao as ul,w as Zi,ap as Ln,aq as It,ar as vt,as as Ji,y as Ft,at as $l,au as _l,av as gl,aw as en,ax as tn,Q as kt,a2 as ln,a5 as nn,ay as sn,az as On,aA as Mn,aB as Rn,aC as Dn,a9 as Nn,D as rl,e as In,s as Fn,p as Hn,a as Ol,r as Ml,C as Pn}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.ZBlNpbKH.js";import{w as cl}from"../chunks/entry.BAgL86M9.js";import{h as Tt,p as Bn}from"../chunks/setTrackProxy.DjIbdjlZ.js";import{p as Un}from"../chunks/stores.5PJ9DAk4.js";import{Q as Mi}from"../chunks/QueryViewer.DnNcUq1m.js";function Rl(l){return t=>t.map(i=>{var n;const s={},r=Object.keys(i);for(const o of r){const a=(n=l[o])!=null?n:o;s[a]=i[o]}return s})}function Gn(l,e){if(l.length===0||e.length===0)return{};const t=Object.keys(l[0]),i=Object.keys(e[0]),n={};for(const s of t)i.includes(s)&&(n[s]=s);return n}function qn(l,e,t){for(const i in t){const n=t[i];if(l[n]!==e[i])return!1}return!0}function Wn(l,e){return i=>{if(!l.length)return i;const n=Gn(i,l),s=Object.keys(l[0]);return i.flatMap(o=>{const a=l.filter(C=>qn(o,C,n));if(a.length)return a.map(C=>({...o,...C}));const h=Object.fromEntries(s.filter(C=>o[C]==null).map(C=>[C,void 0]));return{...o,...h}})}}function Dl(l){return t=>{const i=t.map(n=>({...n}));for(const n in l){const s=l[n],r=typeof s=="function"?s(i):s,o=r!=null&&r[Symbol.iterator]&&typeof r!="string"?r:t.map(()=>r);let a=-1;for(const h of i)h[n]=o[++a]}return i}}function zn(l){return t=>{const i=jn(l),n=[];for(const s in i){const r=i[s];let o;typeof r=="function"?o=r(t):Array.isArray(r)?o=r:o=Array.from(new Set(t.map(a=>a[s]))),n.push(o.map(a=>({[s]:a})))}return Vn(n)}}function Vn(l){function e(i,n,s){if(!s.length&&n!=null){i.push(n);return}const r=s[0],o=s.slice(1);for(const a of r)e(i,{...n,...a},o)}const t=[];return e(t,null,l),t}function jn(l){if(Array.isArray(l)){const e={};for(const t of l)e[t]=t;return e}else if(typeof l=="object")return l;return{[l]:l}}function rn(l){return t=>{const i=[];for(const n of t){const s={...n};for(const r in l)s[r]==null&&(s[r]=l[r]);i.push(s)}return i}}function Nl(l,e){return i=>{const n=zn(l)(i),s=Wn(i)(n);return e?rn(e)(s):s}}function Il(l,e,t){return l==null||e==null?void 0:e===0&&l===0?0:!t&&e===0?void 0:l/e}function Fl(l,e,t){const i=typeof l=="function"?l:o=>o[l],n=o=>o[e],{predicate:s,allowDivideByZero:r}={};return s==null?(o,a,h)=>{const C=n(o),E=i(o,a,h);return Il(E,C,r)}:(o,a,h)=>{if(!s(o,a,h))return;const C=n(o),E=i(o,a,h);return Il(E,C,r)}}const Oi=Symbol.for("__evidence-chart-window-debug__"),Yn=(l,e)=>{window[Oi]||(window[Oi]={}),window[Oi][l]=e},xn=l=>{window[Oi]||(window[Oi]={}),delete window[Oi][l]},ki=500,Xn=(l,e)=>{var S;const t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)&&l.clientWidth*3*l.clientHeight*3>16777215;Bi("light",yl),Bi("dark",vl);let i;const n=()=>{i=hl(l,e.theme,{renderer:t?"svg":e.renderer??"canvas"})};n(),Yn(i.id,i),e.connectGroup&&(i.group=e.connectGroup,Sn(e.connectGroup));const s=()=>{if(e.seriesColors){const m=i.getOption();if(!m)return;const L={...m};for(const R of Object.keys(e.seriesColors)){const G=m.series.findIndex(I=>I.name===R);G!==-1&&(L.series[G]={...L.series[G],itemStyle:{...L.series[G].itemStyle,color:e.seriesColors[R]}})}i.setOption(L)}},r=()=>{e.echartsOptions&&i.setOption({...e.echartsOptions})},o=()=>{let m=[];if(e.seriesOptions){const L=e.config.series.reduce((R,{evidenceSeriesType:G},I)=>((G==="reference_line"||G==="reference_area"||G==="reference_point")&&R.push(I),R),[]);for(let R=0;R<e.config.series.length;R++)L.includes(R)?m.push({}):m.push({...e.seriesOptions});i.setOption({series:m})}};i.setOption({...e.config,animationDuration:ki,animationDurationUpdate:ki}),s(),r(),o();const a=e.dispatch;i.on("click",function(m){a("click",m)});const h=l.parentElement,C=An(()=>{i.resize({animation:{duration:ki}}),w()},100);let E;window.ResizeObserver&&h?(E=new ResizeObserver(C),E.observe(h)):window.addEventListener("resize",C);const w=()=>{if(e.showAllXAxisLabels){const m=i.getOption();if(!m)return;const L=new Set(m.series.flatMap(I=>{var z;return(z=I.data)==null?void 0:z.map(q=>q[0])})),R=4/5,G=(l==null?void 0:l.clientWidth)??0;if(!e.swapXY){const I={xAxis:{axisLabel:{interval:0,overflow:e.xAxisLabelOverflow,width:G*R/L.size}}};i.setOption(I)}}},k=m=>{m.theme!==e.theme&&(i.dispose(),e=m,n()),e=m,i.setOption({...e.config,animationDuration:ki,animationDurationUpdate:ki},!0),s(),r(),o(),i.resize({animation:{duration:ki}}),w()};return C(),window[S=Symbol.for("chart renders")]??(window[S]=0),window[Symbol.for("chart renders")]++,{update(m){window[Symbol.for("chart renders")]++,k(m)},destroy(){E?E.unobserve(h):window.removeEventListener("resize",C),i.dispose(),xn(i.id)}}},Qn=(l,e)=>{Bi("light",yl),Bi("dark",vl),console.log("echartsCanvasDownloadAction",e.theme);const t=hl(l,e.theme,{renderer:"canvas"});e.config.animation=!1,t.setOption(e.config);const i=()=>{if(e.seriesColors){const h=t.getOption();if(!h)return;const C={...h};for(const E of Object.keys(e.seriesColors)){const w=h.series.findIndex(k=>k.name===E);w!==-1&&(C.series[w]={...C.series[w],itemStyle:{...C.series[w].itemStyle,color:e.seriesColors[E]}})}t.setOption(C)}},n=()=>{e.echartsOptions&&t.setOption({...e.echartsOptions})},s=()=>{let h=[];if(e.seriesOptions){const C=e.config.series.reduce((E,{evidenceSeriesType:w},k)=>((w==="reference_line"||w==="reference_area"||w==="reference_point")&&E.push(k),E),[]);for(let E=0;E<e.config.series.length;E++)C.includes(E)?h.push({}):h.push({...e.seriesOptions});t.setOption({series:h})}};n(),i(),s();let r=t.getConnectedDataURL({type:"png",pixelRatio:3,backgroundColor:e.backgroundColor,excludeComponents:["toolbox"]});const o=new Date,a=new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,19).replaceAll(":","-");return En(r,(e.evidenceChartTitle??e.queryID??"evidence-chart")+`_${a}.png`),t.dispose(),{destroy(){t.dispose()}}},Ui=(l,e)=>{Bi("evidence-light",yl);const{config:t,ratio:i,echartsOptions:n,seriesOptions:s,seriesColors:r,isMap:o,extraHeight:a,width:h}=e;let C={renderer:"canvas"};o&&(C.height=h*.5+a,l&&l.parentNode&&(l.style.height=C.height+"px",l.parentNode.style.height=C.height+"px"));const E=hl(l,"evidence-light",C);t.animation=!1,E.setOption(t),n&&E.setOption(n);const w=()=>{if(r){const L=E.getOption();if(!L)return;const R={...L};for(const G of Object.keys(r)){const I=L.series.findIndex(z=>z.name===G);I!==-1&&(R.series[I]={...R.series[I],itemStyle:{...R.series[I].itemStyle,color:r[G]}})}E.setOption(R)}},k=()=>{n&&E.setOption({...n})},S=()=>{let L=[];if(s){const R=t.series.reduce((G,{evidenceSeriesType:I},z)=>((I==="reference_line"||I==="reference_area"||I==="reference_point")&&G.push(z),G),[]);for(let G=0;G<t.series.length;G++)R.includes(G)?L.push({}):L.push({...s});E.setOption({series:L})}};k(),w(),S();let m=E.getConnectedDataURL({type:"jpeg",pixelRatio:i,backgroundColor:"#fff",excludeComponents:["toolbox"]});l.innerHTML=`<img src=${m} width="100%" style="
        position: absolute; 
        top: 0;
        user-select: all;
        -webkit-user-select: all;
        -moz-user-select: all;
        -ms-user-select: all;
    " />`,e.config.animation=!0};function Jn(l){let e;function t(s,r){return s[9]?vn:Zn}let i=t(l),n=i(l);return{c(){n.c(),e=at()},l(s){n.l(s),e=at()},m(s,r){n.m(s,r),b(s,e,r)},p(s,r){i===(i=t(s))&&n?n.p(s,r):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&d(e),n.d(s)}}}function Kn(l){let e,t,i,n;return{c(){e=J("div"),this.h()},l(s){e=Q(s,"DIV",{class:!0,style:!0}),ve(e).forEach(d),this.h()},h(){O(e,"class","chart"),D(e,"height",l[1]),D(e,"width",l[2]),D(e,"margin-left","0"),D(e,"margin-top","15px"),D(e,"margin-bottom","10px"),D(e,"overflow","visible"),D(e,"break-inside","avoid")},m(s,r){b(s,e,r),i||(n=ai(t=Ui.call(null,e,{config:l[0],ratio:2,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13]})),i=!0)},p(s,r){r&2&&D(e,"height",s[1]),r&4&&D(e,"width",s[2]),t&&oi(t.update)&&r&8289&&t.update.call(null,{config:s[0],ratio:2,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[13]})},d(s){s&&d(e),i=!1,n()}}}function Zn(l){let e,t,i,n,s,r,o;return{c(){e=J("div"),i=j(),n=J("div"),this.h()},l(a){e=Q(a,"DIV",{class:!0,style:!0}),ve(e).forEach(d),i=V(a),n=Q(a,"DIV",{class:!0,style:!0}),ve(n).forEach(d),this.h()},h(){O(e,"class","chart md:hidden"),D(e,"height",l[1]),D(e,"width","650px"),D(e,"margin-left","0"),D(e,"margin-top","15px"),D(e,"margin-bottom","10px"),D(e,"overflow","visible"),D(e,"break-inside","avoid"),O(n,"class","chart hidden md:block"),D(n,"height",l[1]),D(n,"width","841px"),D(n,"margin-left","0"),D(n,"margin-top","15px"),D(n,"margin-bottom","10px"),D(n,"overflow","visible"),D(n,"break-inside","avoid")},m(a,h){b(a,e,h),b(a,i,h),b(a,n,h),r||(o=[ai(t=Ui.call(null,e,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:650})),ai(s=Ui.call(null,n,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:841}))],r=!0)},p(a,h){h&2&&D(e,"height",a[1]),t&&oi(t.update)&&h&8673&&t.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:650}),h&2&&D(n,"height",a[1]),s&&oi(s.update)&&h&8673&&s.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:841})},d(a){a&&(d(e),d(i),d(n)),r=!1,ml(o)}}}function vn(l){let e,t,i,n,s,r,o;return{c(){e=J("div"),i=j(),n=J("div"),this.h()},l(a){e=Q(a,"DIV",{class:!0,style:!0}),ve(e).forEach(d),i=V(a),n=Q(a,"DIV",{class:!0,style:!0}),ve(n).forEach(d),this.h()},h(){O(e,"class","chart md:hidden"),D(e,"height",l[1]),D(e,"width",l[11]+"px"),D(e,"margin-left","0"),D(e,"margin-top","15px"),D(e,"margin-bottom","10px"),D(e,"overflow","visible"),D(e,"break-inside","avoid"),O(n,"class","chart hidden md:block"),D(n,"height",l[1]),D(n,"width",l[10]+"px"),D(n,"margin-left","0"),D(n,"margin-top","15px"),D(n,"margin-bottom","10px"),D(n,"overflow","visible"),D(n,"break-inside","avoid")},m(a,h){b(a,e,h),b(a,i,h),b(a,n,h),r||(o=[ai(t=Ui.call(null,e,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:l[11]})),ai(s=Ui.call(null,n,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:l[10]}))],r=!0)},p(a,h){h&2&&D(e,"height",a[1]),h&2048&&D(e,"width",a[11]+"px"),t&&oi(t.update)&&h&10721&&t.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:a[11]}),h&2&&D(n,"height",a[1]),h&1024&&D(n,"width",a[10]+"px"),s&&oi(s.update)&&h&9697&&s.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:a[10]})},d(a){a&&(d(e),d(i),d(n)),r=!1,ml(o)}}}function pn(l){let e;function t(s,r){if(s[3])return Kn;if(s[4])return Jn}let i=t(l),n=i&&i(l);return{c(){n&&n.c(),e=at()},l(s){n&&n.l(s),e=at()},m(s,r){n&&n.m(s,r),b(s,e,r)},p(s,[r]){i===(i=t(s))&&n?n.p(s,r):(n&&n.d(1),n=i&&i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Oe,o:Oe,d(s){s&&d(e),n&&n.d(s)}}}function $n(l,e,t){let i,n,s,r,o,a,h=Oe,C=()=>(h(),h=gt(i,_=>t(13,a=_)),i);l.$$.on_destroy.push(()=>h());const{resolveColorsObject:E}=ei();let{config:w=void 0}=e,{height:k="291px"}=e,{width:S="100%"}=e,{copying:m=!1}=e,{printing:L=!1}=e,{echartsOptions:R=void 0}=e,{seriesOptions:G=void 0}=e,{seriesColors:I=void 0}=e,{isMap:z=!1}=e,{extraHeight:q=void 0}=e,B=!1,$,Z;const U=Hi("gridConfig");return U&&(B=!0,{cols:$,gapWidth:Z}=U),l.$$set=_=>{"config"in _&&t(0,w=_.config),"height"in _&&t(1,k=_.height),"width"in _&&t(2,S=_.width),"copying"in _&&t(3,m=_.copying),"printing"in _&&t(4,L=_.printing),"echartsOptions"in _&&t(5,R=_.echartsOptions),"seriesOptions"in _&&t(6,G=_.seriesOptions),"seriesColors"in _&&t(14,I=_.seriesColors),"isMap"in _&&t(7,z=_.isMap),"extraHeight"in _&&t(8,q=_.extraHeight)},l.$$.update=()=>{l.$$.dirty&16384&&C(t(12,i=E(I))),l.$$.dirty&32768&&t(18,n=Math.min(Number($),2)),l.$$.dirty&327680&&t(11,s=(650-Number(Z)*(n-1))/n),l.$$.dirty&32768&&t(17,r=Math.min(Number($),3)),l.$$.dirty&196608&&t(10,o=(841-Number(Z)*(r-1))/r)},[w,k,S,m,L,R,G,z,q,B,o,s,i,a,I,$,Z,r,n]}class es extends Lt{constructor(e){super(),Ot(this,e,$n,pn,wt,{config:0,height:1,width:2,copying:3,printing:4,echartsOptions:5,seriesOptions:6,seriesColors:14,isMap:7,extraHeight:8})}}function ts(l){let e,t,i="Loading...",n,s,r;return{c(){e=J("div"),t=J("span"),t.textContent=i,n=j(),s=J("div"),this.h()},l(o){e=Q(o,"DIV",{role:!0,class:!0});var a=ve(e);t=Q(a,"SPAN",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1wtojot"&&(t.textContent=i),n=V(a),s=Q(a,"DIV",{class:!0,style:!0}),ve(s).forEach(d),a.forEach(d),this.h()},h(){O(t,"class","sr-only"),O(s,"class","bg-base-100 rounded-md max-w-[100%]"),D(s,"height",l[0]),D(s,"margin-top","15px"),D(s,"margin-bottom","31px"),O(e,"role","status"),O(e,"class","animate-pulse")},m(o,a){b(o,e,a),xe(e,t),xe(e,n),xe(e,s)},p(o,[a]){a&1&&D(s,"height",o[0])},i(o){o&&(r||cn(()=>{r=bn(e,Cn,{}),r.start()}))},o:Oe,d(o){o&&d(e)}}}function is(l,e,t){let{height:i="231px"}=e;return l.$$set=n=>{"height"in n&&t(0,i=n.height)},[i]}class ls extends Lt{constructor(e){super(),Ot(this,e,is,ts,wt,{height:0})}}function Hl(l){let e,t,i,n;const s=[ss,ns],r=[];function o(a,h){return 1}return e=o(),t=r[e]=s[e](l),{c(){t.c(),i=at()},l(a){t.l(a),i=at()},m(a,h){r[e].m(a,h),b(a,i,h),n=!0},p(a,h){t.p(a,h)},i(a){n||(N(t),n=!0)},o(a){P(t),n=!1},d(a){a&&d(i),r[e].d(a)}}}function ns(l){let e,t,i,n;return{c(){e=J("div"),this.h()},l(s){e=Q(s,"DIV",{class:!0,style:!0}),ve(e).forEach(d),this.h()},h(){O(e,"class","chart svelte-19r8f8"),D(e,"height",l[3]),D(e,"width",l[4]),D(e,"overflow","visible"),D(e,"display",l[15]?"none":"inherit")},m(s,r){b(s,e,r),i||(n=ai(t=Xn.call(null,e,{config:l[0],...l[25],echartsOptions:l[9],seriesOptions:l[10],dispatch:l[24],renderer:l[6],connectGroup:l[12],xAxisLabelOverflow:l[13],seriesColors:l[19],theme:l[20]})),i=!0)},p(s,r){r[0]&8&&D(e,"height",s[3]),r[0]&16&&D(e,"width",s[4]),r[0]&32768&&D(e,"display",s[15]?"none":"inherit"),t&&oi(t.update)&&r[0]&35141185&&t.update.call(null,{config:s[0],...s[25],echartsOptions:s[9],seriesOptions:s[10],dispatch:s[24],renderer:s[6],connectGroup:s[12],xAxisLabelOverflow:s[13],seriesColors:s[19],theme:s[20]})},i:Oe,o:Oe,d(s){s&&d(e),i=!1,n()}}}function ss(l){let e,t;return e=new ls({props:{height:l[3]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.height=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Pl(l){let e,t,i,n=l[8]&&Bl(l),s=l[5]&&l[7]&&Ul(l);return{c(){e=J("div"),n&&n.c(),t=j(),s&&s.c(),this.h()},l(r){e=Q(r,"DIV",{class:!0});var o=ve(e);n&&n.l(o),t=V(o),s&&s.l(o),o.forEach(d),this.h()},h(){O(e,"class","chart-footer svelte-19r8f8")},m(r,o){b(r,e,o),n&&n.m(e,null),xe(e,t),s&&s.m(e,null),i=!0},p(r,o){r[8]?n?(n.p(r,o),o[0]&256&&N(n,1)):(n=Bl(r),n.c(),N(n,1),n.m(e,t)):n&&(mt(),P(n,1,1,()=>{n=null}),dt()),r[5]&&r[7]?s?(s.p(r,o),o[0]&160&&N(s,1)):(s=Ul(r),s.c(),N(s,1),s.m(e,null)):s&&(mt(),P(s,1,1,()=>{s=null}),dt())},i(r){i||(N(n),N(s),i=!0)},o(r){P(n),P(s),i=!1},d(r){r&&d(e),n&&n.d(),s&&s.d()}}}function Bl(l){let e,t;return e=new pl({props:{text:"Save Image",class:"download-button",downloadData:l[32],display:l[17],queryID:l[1],$$slots:{default:[rs]},$$scope:{ctx:l}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&16384&&(s.downloadData=i[32]),n[0]&131072&&(s.display=i[17]),n[0]&2&&(s.queryID=i[1]),n[1]&32&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function rs(l){let e,t,i,n;return{c(){e=Qi("svg"),t=Qi("rect"),i=Qi("circle"),n=Qi("path"),this.h()},l(s){e=Xi(s,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=ve(e);t=Xi(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),ve(t).forEach(d),i=Xi(r,"circle",{cx:!0,cy:!0,r:!0}),ve(i).forEach(d),n=Xi(r,"path",{d:!0}),ve(n).forEach(d),r.forEach(d),this.h()},h(){O(t,"x","3"),O(t,"y","3"),O(t,"width","18"),O(t,"height","18"),O(t,"rx","2"),O(i,"cx","8.5"),O(i,"cy","8.5"),O(i,"r","1.5"),O(n,"d","M20.4 14.5L16 10 4 20"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"width","12"),O(e,"height","12"),O(e,"viewBox","0 0 24 24"),O(e,"fill","none"),O(e,"stroke","#000"),O(e,"stroke-width","2"),O(e,"stroke-linecap","round"),O(e,"stroke-linejoin","round")},m(s,r){b(s,e,r),xe(e,t),xe(e,i),xe(e,n)},p:Oe,d(s){s&&d(e)}}}function Ul(l){let e,t;return e=new pl({props:{text:"Download Data",data:l[5],queryID:l[1],class:"download-button",display:l[17]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&32&&(s.data=i[5]),n[0]&2&&(s.queryID=i[1]),n[0]&131072&&(s.display=i[17]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Gl(l){let e,t;return e=new Tn({props:{source:JSON.stringify(l[0],void 0,3),copyToClipboard:!0,$$slots:{default:[as]},$$scope:{ctx:l}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&1&&(s.source=JSON.stringify(i[0],void 0,3)),n[0]&1|n[1]&32&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function as(l){let e=JSON.stringify(l[0],void 0,3)+"",t;return{c(){t=Li(e)},l(i){t=wi(i,e)},m(i,n){b(i,t,n)},p(i,n){n[0]&1&&e!==(e=JSON.stringify(i[0],void 0,3)+"")&&dl(t,e)},d(i){i&&d(t)}}}function ql(l){let e,t,i,n;return{c(){e=J("div"),this.h()},l(s){e=Q(s,"DIV",{class:!0,style:!0}),ve(e).forEach(d),this.h()},h(){O(e,"class","chart svelte-19r8f8"),D(e,"display","none"),D(e,"visibility","visible"),D(e,"height",l[3]),D(e,"width","666px"),D(e,"margin-left","0"),D(e,"margin-top","15px"),D(e,"margin-bottom","15px"),D(e,"overflow","visible")},m(s,r){b(s,e,r),i||(n=ai(t=Qn.call(null,e,{config:l[0],...l[25],echartsOptions:l[9],seriesOptions:l[10],seriesColors:l[19],queryID:l[1],evidenceChartTitle:l[2],theme:l[20],backgroundColor:l[21].colors["base-100"]})),i=!0)},p(s,r){r[0]&8&&D(e,"height",s[3]),t&&oi(t.update)&&r[0]&37225991&&t.update.call(null,{config:s[0],...s[25],echartsOptions:s[9],seriesOptions:s[10],seriesColors:s[19],queryID:s[1],evidenceChartTitle:s[2],theme:s[20],backgroundColor:s[21].colors["base-100"]})},d(s){s&&d(e),i=!1,n()}}}function os(l){let e,t,i,n,s,r,o,a,h,C,E=!l[16]&&Hl(l);i=new es({props:{config:l[0],height:l[3],width:l[4],copying:l[15],printing:l[16],echartsOptions:l[9],seriesOptions:l[10],seriesColors:l[18]}});let w=(l[7]||l[8])&&Pl(l),k=l[11]&&!l[16]&&Gl(l),S=l[14]&&ql(l);return{c(){e=J("div"),E&&E.c(),t=j(),ce(i.$$.fragment),n=j(),w&&w.c(),s=j(),k&&k.c(),r=j(),S&&S.c(),o=at(),this.h()},l(m){e=Q(m,"DIV",{role:!0,class:!0});var L=ve(e);E&&E.l(L),t=V(L),ue(i.$$.fragment,L),n=V(L),w&&w.l(L),s=V(L),k&&k.l(L),L.forEach(d),r=V(m),S&&S.l(m),o=at(),this.h()},h(){O(e,"role","none"),O(e,"class","chart-container mt-2 mb-3 svelte-19r8f8")},m(m,L){b(m,e,L),E&&E.m(e,null),xe(e,t),fe(i,e,null),xe(e,n),w&&w.m(e,null),xe(e,s),k&&k.m(e,null),b(m,r,L),S&&S.m(m,L),b(m,o,L),a=!0,h||(C=[ri(window,"copy",l[27]),ri(window,"beforeprint",l[28]),ri(window,"afterprint",l[29]),ri(window,"export-beforeprint",l[30]),ri(window,"export-afterprint",l[31]),ri(e,"mouseenter",l[33]),ri(e,"mouseleave",l[34])],h=!0)},p(m,L){m[16]?E&&(mt(),P(E,1,1,()=>{E=null}),dt()):E?(E.p(m,L),L[0]&65536&&N(E,1)):(E=Hl(m),E.c(),N(E,1),E.m(e,t));const R={};L[0]&1&&(R.config=m[0]),L[0]&8&&(R.height=m[3]),L[0]&16&&(R.width=m[4]),L[0]&32768&&(R.copying=m[15]),L[0]&65536&&(R.printing=m[16]),L[0]&512&&(R.echartsOptions=m[9]),L[0]&1024&&(R.seriesOptions=m[10]),L[0]&262144&&(R.seriesColors=m[18]),i.$set(R),m[7]||m[8]?w?(w.p(m,L),L[0]&384&&N(w,1)):(w=Pl(m),w.c(),N(w,1),w.m(e,s)):w&&(mt(),P(w,1,1,()=>{w=null}),dt()),m[11]&&!m[16]?k?(k.p(m,L),L[0]&67584&&N(k,1)):(k=Gl(m),k.c(),N(k,1),k.m(e,null)):k&&(mt(),P(k,1,1,()=>{k=null}),dt()),m[14]?S?S.p(m,L):(S=ql(m),S.c(),S.m(o.parentNode,o)):S&&(S.d(1),S=null)},i(m){a||(N(E),N(i.$$.fragment,m),N(w),N(k),a=!0)},o(m){P(E),P(i.$$.fragment,m),P(w),P(k),a=!1},d(m){m&&(d(e),d(r),d(o)),E&&E.d(),oe(i),w&&w.d(),k&&k.d(),S&&S.d(m),h=!1,ml(C)}}}function fs(l,e,t){let i;const n=["config","queryID","evidenceChartTitle","height","width","data","renderer","downloadableData","downloadableImage","echartsOptions","seriesOptions","printEchartsConfig","seriesColors","connectGroup","xAxisLabelOverflow"];let s=Ll(e,n),r,o=Oe,a=()=>(o(),o=gt(i,H=>t(19,r=H)),i),h,C;l.$$.on_destroy.push(()=>o());const{activeAppearance:E,theme:w,resolveColorsObject:k}=ei();fi(l,E,H=>t(20,h=H)),fi(l,w,H=>t(21,C=H));let{config:S=void 0}=e,{queryID:m=void 0}=e,{evidenceChartTitle:L=void 0}=e,{height:R="291px"}=e,{width:G="100%"}=e,{data:I}=e,{renderer:z=void 0}=e,{downloadableData:q=void 0}=e,{downloadableImage:B=void 0}=e,{echartsOptions:$=void 0}=e,{seriesOptions:Z=void 0}=e,{printEchartsConfig:U}=e,{seriesColors:_=void 0}=e,{connectGroup:Y=void 0}=e,{xAxisLabelOverflow:F=void 0}=e;const M=mn();let W=!1,x=!1,te=!1,me=!1;const de=()=>{t(15,x=!0),dn(),setTimeout(()=>{t(15,x=!1)},0)},p=()=>t(16,te=!0),Ce=()=>t(16,te=!1),re=()=>t(16,te=!0),K=()=>t(16,te=!1),ie=()=>{t(14,W=!0),setTimeout(()=>{t(14,W=!1)},0)},ge=()=>t(17,me=!0),be=()=>t(17,me=!1);return l.$$set=H=>{e=$t($t({},e),Pi(H)),t(25,s=Ll(e,n)),"config"in H&&t(0,S=H.config),"queryID"in H&&t(1,m=H.queryID),"evidenceChartTitle"in H&&t(2,L=H.evidenceChartTitle),"height"in H&&t(3,R=H.height),"width"in H&&t(4,G=H.width),"data"in H&&t(5,I=H.data),"renderer"in H&&t(6,z=H.renderer),"downloadableData"in H&&t(7,q=H.downloadableData),"downloadableImage"in H&&t(8,B=H.downloadableImage),"echartsOptions"in H&&t(9,$=H.echartsOptions),"seriesOptions"in H&&t(10,Z=H.seriesOptions),"printEchartsConfig"in H&&t(11,U=H.printEchartsConfig),"seriesColors"in H&&t(26,_=H.seriesColors),"connectGroup"in H&&t(12,Y=H.connectGroup),"xAxisLabelOverflow"in H&&t(13,F=H.xAxisLabelOverflow)},l.$$.update=()=>{l.$$.dirty[0]&67108864&&a(t(18,i=k(_)))},[S,m,L,R,G,I,z,q,B,$,Z,U,Y,F,W,x,te,me,i,r,h,C,E,w,M,s,_,de,p,Ce,re,K,ie,ge,be]}class us extends Lt{constructor(e){super(),Ot(this,e,fs,os,wt,{config:0,queryID:1,evidenceChartTitle:2,height:3,width:4,data:5,renderer:6,downloadableData:7,downloadableImage:8,echartsOptions:9,seriesOptions:10,printEchartsConfig:11,seriesColors:26,connectGroup:12,xAxisLabelOverflow:13},null,[-1,-1])}}function Gi(l,e){const t=new Set(l.map(i=>i[e]));return Array.from(t)}function cs(l,e){return pt(l,kn({count:wn(e)}))[0].count}function ms(l,e,t){let i;if(typeof t!="object")i=pt(l,ol(e,Dl({xTotal:fl(t)})),sl({percentOfX:Fl(t,"xTotal")}),Rl({percentOfX:t+"_pct"}));else{i=pt(l,sl({valueSum:0}));for(let n=0;n<i.length;n++){i[n].valueSum=0;for(let s=0;s<t.length;s++)i[n].valueSum=i[n].valueSum+i[n][t[s]]}i=pt(i,ol(e,Dl({xTotal:fl("valueSum")})));for(let n=0;n<t.length;n++)i=pt(i,sl({percentOfX:Fl(t[n],"xTotal")}),Rl({percentOfX:t[n]+"_pct"}))}return i}function Fi(l,e,t){return[...l].sort((i,n)=>(i[e]<n[e]?-1:1)*(t?1:-1))}function an(l,e,t){const i=e+t;return l%i<e?0:1}function ds(l){let e,t;return e=new en({props:{error:l[14],title:l[8]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&16384&&(s.error=i[14]),n[0]&256&&(s.title=i[8]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function hs(l){let e,t,i;const n=l[136].default,s=qi(n,l,l[135],null);return t=new us({props:{config:l[20],height:l[15],width:l[13],data:l[0],queryID:l[6],evidenceChartTitle:l[7],showAllXAxisLabels:l[1],swapXY:l[3],echartsOptions:l[9],seriesOptions:l[10],printEchartsConfig:l[2],renderer:l[11],downloadableData:l[4],downloadableImage:l[5],connectGroup:l[12],xAxisLabelOverflow:l[23],seriesColors:l[16]}}),{c(){s&&s.c(),e=j(),ce(t.$$.fragment)},l(r){s&&s.l(r),e=V(r),ue(t.$$.fragment,r)},m(r,o){s&&s.m(r,o),b(r,e,o),fe(t,r,o),i=!0},p(r,o){s&&s.p&&(!i||o[4]&2048)&&Wi(s,n,r,r[135],i?Vi(n,r[135],o,null):zi(r[135]),null);const a={};o[0]&1048576&&(a.config=r[20]),o[0]&32768&&(a.height=r[15]),o[0]&8192&&(a.width=r[13]),o[0]&1&&(a.data=r[0]),o[0]&64&&(a.queryID=r[6]),o[0]&128&&(a.evidenceChartTitle=r[7]),o[0]&2&&(a.showAllXAxisLabels=r[1]),o[0]&8&&(a.swapXY=r[3]),o[0]&512&&(a.echartsOptions=r[9]),o[0]&1024&&(a.seriesOptions=r[10]),o[0]&4&&(a.printEchartsConfig=r[2]),o[0]&2048&&(a.renderer=r[11]),o[0]&16&&(a.downloadableData=r[4]),o[0]&32&&(a.downloadableImage=r[5]),o[0]&4096&&(a.connectGroup=r[12]),o[0]&65536&&(a.seriesColors=r[16]),t.$set(a)},i(r){i||(N(s,r),N(t.$$.fragment,r),i=!0)},o(r){P(s,r),P(t.$$.fragment,r),i=!1},d(r){r&&d(e),s&&s.d(r),oe(t,r)}}}function ys(l){let e,t,i,n;const s=[hs,ds],r=[];function o(a,h){return a[14]?1:0}return e=o(l),t=r[e]=s[e](l),{c(){t.c(),i=at()},l(a){t.l(a),i=at()},m(a,h){r[e].m(a,h),b(a,i,h),n=!0},p(a,h){let C=e;e=o(a),e===C?r[e].p(a,h):(mt(),P(r[C],1,1,()=>{r[C]=null}),dt(),t=r[e],t?t.p(a,h):(t=r[e]=s[e](a),t.c()),N(t,1),t.m(i.parentNode,i))},i(a){n||(N(t),n=!0)},o(a){P(t),n=!1},d(a){a&&d(i),r[e].d(a)}}}function _s(l,e,t){let i,n,s,r,o,a=Oe,h=()=>(a(),a=gt(s,c=>t(131,o=c)),s),C,E,w=Oe,k=()=>(w(),w=gt(n,c=>t(133,E=c)),n),S,m=Oe,L=()=>(m(),m=gt(i,c=>t(134,S=c)),i),R;l.$$.on_destroy.push(()=>a()),l.$$.on_destroy.push(()=>w()),l.$$.on_destroy.push(()=>m());let{$$slots:G={},$$scope:I}=e,z=cl({}),q=cl({});fi(l,q,c=>t(20,R=c));const{theme:B,resolveColor:$,resolveColorsObject:Z,resolveColorPalette:U}=ei();fi(l,B,c=>t(132,C=c));let{data:_=void 0}=e,{queryID:Y=void 0}=e,{x:F=void 0}=e,{y:M=void 0}=e,{y2:W=void 0}=e,{series:x=void 0}=e,{size:te=void 0}=e,{tooltipTitle:me=void 0}=e,{showAllXAxisLabels:de=void 0}=e,{printEchartsConfig:p=!1}=e,Ce=!!M,re=!!F,{swapXY:K=!1}=e,{title:ie=void 0}=e,{subtitle:ge=void 0}=e,{chartType:be="Chart"}=e,{bubble:H=!1}=e,{hist:ne=!1}=e,{boxplot:le=!1}=e,Te,{xType:ee=void 0}=e,{xAxisTitle:he="false"}=e,{xBaseline:v=!0}=e,{xTickMarks:ae=!1}=e,{xGridlines:ke=!1}=e,{xAxisLabels:Ae=!0}=e,{sort:ye=!0}=e,{xFmt:Xe=void 0}=e,{xMin:Ve=void 0}=e,{xMax:we=void 0}=e,{yLog:Se=!1}=e,{yType:Qe=Se===!0?"log":"value"}=e,{yLogBase:Me=10}=e,{yAxisTitle:T="false"}=e,{yBaseline:Ie=!1}=e,{yTickMarks:Le=!1}=e,{yGridlines:Ze=!0}=e,{yAxisLabels:Re=!0}=e,{yMin:Je=void 0}=e,{yMax:je=void 0}=e,{yScale:Ee=!1}=e,{yFmt:pe=void 0}=e,{yAxisColor:it="true"}=e,{y2AxisTitle:Ye="false"}=e,{y2Baseline:Fe=!1}=e,{y2TickMarks:A=!1}=e,{y2Gridlines:se=!0}=e,{y2AxisLabels:$e=!0}=e,{y2Min:y=void 0}=e,{y2Max:bt=void 0}=e,{y2Scale:yt=!1}=e,{y2Fmt:tt=void 0}=e,{y2AxisColor:qt="true"}=e,{sizeFmt:St=void 0}=e,{colorPalette:ot="default"}=e,{legend:lt=void 0}=e,{echartsOptions:Mt=void 0}=e,{seriesOptions:ht=void 0}=e,{seriesColors:Wt=void 0}=e,{stackType:Rt=void 0}=e,{stacked100:ft=!1}=e,{chartAreaHeight:Ke}=e,{renderer:Ht=void 0}=e,{downloadableData:u=!0}=e,{downloadableImage:zt=!0}=e,{connectGroup:At=void 0}=e,{leftPadding:ui=void 0}=e,{rightPadding:Jt=void 0}=e,{xLabelWrap:Et=!1}=e;const Pt=Et?"break":"truncate";let _e,Bt,Vt=[],nt=[],ci,Ut,et,mi,ut,He,Ct,jt,Yt,Gt,_t,di,xt,st,Ri,ji,Dt,rt,Pe,Be,Ue,Ge,qe,We,f,g,ct,hi,yi,Xt,Kt,Zt,ti,ii,_i,pi,gi,$i,el,Yi,bl,tl,li=[],bi=!0,Qt=[],Di=[],Nt,Ni,il,ni;return l.$$set=c=>{"data"in c&&t(0,_=c.data),"queryID"in c&&t(6,Y=c.queryID),"x"in c&&t(24,F=c.x),"y"in c&&t(25,M=c.y),"y2"in c&&t(49,W=c.y2),"series"in c&&t(50,x=c.series),"size"in c&&t(51,te=c.size),"tooltipTitle"in c&&t(52,me=c.tooltipTitle),"showAllXAxisLabels"in c&&t(1,de=c.showAllXAxisLabels),"printEchartsConfig"in c&&t(2,p=c.printEchartsConfig),"swapXY"in c&&t(3,K=c.swapXY),"title"in c&&t(7,ie=c.title),"subtitle"in c&&t(53,ge=c.subtitle),"chartType"in c&&t(8,be=c.chartType),"bubble"in c&&t(54,H=c.bubble),"hist"in c&&t(55,ne=c.hist),"boxplot"in c&&t(56,le=c.boxplot),"xType"in c&&t(26,ee=c.xType),"xAxisTitle"in c&&t(27,he=c.xAxisTitle),"xBaseline"in c&&t(28,v=c.xBaseline),"xTickMarks"in c&&t(29,ae=c.xTickMarks),"xGridlines"in c&&t(30,ke=c.xGridlines),"xAxisLabels"in c&&t(31,Ae=c.xAxisLabels),"sort"in c&&t(32,ye=c.sort),"xFmt"in c&&t(57,Xe=c.xFmt),"xMin"in c&&t(58,Ve=c.xMin),"xMax"in c&&t(59,we=c.xMax),"yLog"in c&&t(33,Se=c.yLog),"yType"in c&&t(60,Qe=c.yType),"yLogBase"in c&&t(61,Me=c.yLogBase),"yAxisTitle"in c&&t(34,T=c.yAxisTitle),"yBaseline"in c&&t(35,Ie=c.yBaseline),"yTickMarks"in c&&t(36,Le=c.yTickMarks),"yGridlines"in c&&t(37,Ze=c.yGridlines),"yAxisLabels"in c&&t(38,Re=c.yAxisLabels),"yMin"in c&&t(62,Je=c.yMin),"yMax"in c&&t(63,je=c.yMax),"yScale"in c&&t(39,Ee=c.yScale),"yFmt"in c&&t(64,pe=c.yFmt),"yAxisColor"in c&&t(65,it=c.yAxisColor),"y2AxisTitle"in c&&t(40,Ye=c.y2AxisTitle),"y2Baseline"in c&&t(41,Fe=c.y2Baseline),"y2TickMarks"in c&&t(42,A=c.y2TickMarks),"y2Gridlines"in c&&t(43,se=c.y2Gridlines),"y2AxisLabels"in c&&t(44,$e=c.y2AxisLabels),"y2Min"in c&&t(66,y=c.y2Min),"y2Max"in c&&t(67,bt=c.y2Max),"y2Scale"in c&&t(45,yt=c.y2Scale),"y2Fmt"in c&&t(68,tt=c.y2Fmt),"y2AxisColor"in c&&t(69,qt=c.y2AxisColor),"sizeFmt"in c&&t(70,St=c.sizeFmt),"colorPalette"in c&&t(71,ot=c.colorPalette),"legend"in c&&t(46,lt=c.legend),"echartsOptions"in c&&t(9,Mt=c.echartsOptions),"seriesOptions"in c&&t(10,ht=c.seriesOptions),"seriesColors"in c&&t(72,Wt=c.seriesColors),"stackType"in c&&t(73,Rt=c.stackType),"stacked100"in c&&t(74,ft=c.stacked100),"chartAreaHeight"in c&&t(47,Ke=c.chartAreaHeight),"renderer"in c&&t(11,Ht=c.renderer),"downloadableData"in c&&t(4,u=c.downloadableData),"downloadableImage"in c&&t(5,zt=c.downloadableImage),"connectGroup"in c&&t(12,At=c.connectGroup),"leftPadding"in c&&t(75,ui=c.leftPadding),"rightPadding"in c&&t(76,Jt=c.rightPadding),"xLabelWrap"in c&&t(48,Et=c.xLabelWrap),"$$scope"in c&&t(135,I=c.$$scope)},l.$$.update=()=>{var c,Sl,Al,El,Cl,Tl;if(l.$$.dirty[0]&4&&t(2,p=ze(p)),l.$$.dirty[0]&8&&t(3,K=ze(K)),l.$$.dirty[0]&268435456&&t(28,v=ze(v)),l.$$.dirty[0]&536870912&&t(29,ae=ze(ae)),l.$$.dirty[0]&1073741824&&t(30,ke=ze(ke)),l.$$.dirty[1]&1&&t(31,Ae=ze(Ae)),l.$$.dirty[1]&2&&t(32,ye=ze(ye)),l.$$.dirty[1]&4&&t(33,Se=ze(Se)),l.$$.dirty[1]&16&&t(35,Ie=ze(Ie)),l.$$.dirty[1]&32&&t(36,Le=ze(Le)),l.$$.dirty[1]&64&&t(37,Ze=ze(Ze)),l.$$.dirty[1]&128&&t(38,Re=ze(Re)),l.$$.dirty[1]&256&&t(39,Ee=ze(Ee)),l.$$.dirty[2]&8&&L(t(19,i=$(it))),l.$$.dirty[1]&1024&&t(41,Fe=ze(Fe)),l.$$.dirty[1]&2048&&t(42,A=ze(A)),l.$$.dirty[1]&4096&&t(43,se=ze(se)),l.$$.dirty[1]&8192&&t(44,$e=ze($e)),l.$$.dirty[1]&16384&&t(45,yt=ze(yt)),l.$$.dirty[2]&128&&k(t(18,n=$(qt))),l.$$.dirty[2]&512&&h(t(17,s=U(ot))),l.$$.dirty[2]&1024&&t(16,r=Z(Wt)),l.$$.dirty[0]&16&&t(4,u=ze(u)),l.$$.dirty[0]&32&&t(5,zt=ze(zt)),l.$$.dirty[1]&131072&&t(48,Et=ze(Et)),l.$$.dirty[0]&2130731403|l.$$.dirty[1]&2147352575|l.$$.dirty[2]&2147481975|l.$$.dirty[3]&2147483647|l.$$.dirty[4]&2047)try{if(t(14,Ni=void 0),t(124,li=[]),t(83,nt=[]),t(126,Qt=[]),t(127,Di=[]),t(85,Ut=[]),t(77,Ce=!!M),t(78,re=!!F),ul(_),t(80,_e=Zi(_)),t(81,Bt=Object.keys(_e)),re||t(24,F=Bt[0]),!Ce){t(82,Vt=Bt.filter(function(X){return![F,x,te].includes(X)}));for(let X=0;X<Vt.length;X++)t(85,Ut=Vt[X]),t(84,ci=_e[Ut].type),ci==="number"&&nt.push(Ut);t(25,M=nt.length>1?nt:nt[0])}H?t(79,Te={x:F,y:M,size:te}):ne?t(79,Te={x:F}):le?t(79,Te={}):t(79,Te={x:F,y:M});for(let X in Te)Te[X]==null&&li.push(X);if(li.length===1)throw Error(new Intl.ListFormat().format(li)+" is required");if(li.length>1)throw Error(new Intl.ListFormat().format(li)+" are required");if(ft===!0&&M.includes("_pct")&&bi===!1)if(typeof M=="object"){for(let X=0;X<M.length;X++)t(25,M[X]=M[X].replace("_pct",""),M);t(125,bi=!1)}else t(25,M=M.replace("_pct","")),t(125,bi=!1);if(F&&Qt.push(F),M)if(typeof M=="object")for(t(128,Nt=0);Nt<M.length;t(128,Nt++,Nt))Qt.push(M[Nt]);else Qt.push(M);if(W)if(typeof W=="object")for(t(128,Nt=0);Nt<W.length;t(128,Nt++,Nt))Qt.push(W[Nt]);else Qt.push(W);if(te&&Qt.push(te),x&&Di.push(x),me&&Di.push(me),ul(_,Qt,Di),ft===!0){if(t(0,_=ms(_,F,M)),typeof M=="object"){for(let X=0;X<M.length;X++)t(25,M[X]=M[X]+"_pct",M);t(125,bi=!1)}else t(25,M=M+"_pct"),t(125,bi=!1);t(80,_e=Zi(_))}switch(t(86,et=_e[F].type),et){case"number":t(86,et="value");break;case"string":t(86,et="category");break;case"date":t(86,et="time");break;default:break}if(t(26,ee=ee==="category"?"category":et),de?t(1,de=de==="true"||de===!0):t(1,de=ee==="category"),K&&ee!=="category")throw Error("Horizontal charts do not support a value or time-based x-axis. You can either change your SQL query to output string values or set swapXY=false.");if(K&&W)throw Error("Horizontal charts do not support a secondary y-axis. You can either set swapXY=false or remove the y2 prop from your chart.");if(K&&t(26,ee="category"),t(87,mi=et==="value"&&ee==="category"),t(0,_=ye?et==="category"?Fi(_,M,!1):Fi(_,F,!0):_),et==="time"&&t(0,_=Fi(_,F,!0)),t(129,il=Zi(_,"array")),t(130,ni=il.filter(X=>X.type==="date")),t(130,ni=ni.map(X=>X.id)),ni.length>0)for(let X=0;X<ni.length;X++)t(0,_=Ln(_,ni[X]));Xe?t(88,ut=It(Xe,(c=_e[F].format)==null?void 0:c.valueType)):t(88,ut=_e[F].format),M?pe?typeof M=="object"?t(89,He=It(pe,(Sl=_e[M[0]].format)==null?void 0:Sl.valueType)):t(89,He=It(pe,(Al=_e[M].format)==null?void 0:Al.valueType)):typeof M=="object"?t(89,He=_e[M[0]].format):t(89,He=_e[M].format):t(89,He="str"),W&&(tt?typeof W=="object"?t(90,Ct=It(tt,(El=_e[W[0]].format)==null?void 0:El.valueType)):t(90,Ct=It(tt,(Cl=_e[W].format)==null?void 0:Cl.valueType)):typeof W=="object"?t(90,Ct=_e[W[0]].format):t(90,Ct=_e[W].format)),te&&(St?t(91,jt=It(St,(Tl=_e[te].format)==null?void 0:Tl.valueType)):t(91,jt=_e[te].format)),t(92,Yt=_e[F].columnUnitSummary),M&&(typeof M=="object"?t(93,Gt=_e[M[0]].columnUnitSummary):t(93,Gt=_e[M].columnUnitSummary)),W&&(typeof W=="object"?t(94,_t=_e[W[0]].columnUnitSummary):t(94,_t=_e[W].columnUnitSummary)),t(27,he=he==="true"?vt(F,ut):he==="false"?"":he),t(34,T=T==="true"?typeof M=="object"?"":vt(M,He):T==="false"?"":T),t(40,Ye=Ye==="true"?typeof W=="object"?"":vt(W,Ct):Ye==="false"?"":Ye);let Si=typeof M=="object"?M.length:1,kl=x?cs(_,x):1,Ii=Si*kl,ll=typeof W=="object"?W.length:W?1:0,nl=Ii+ll;if(lt!==void 0&&t(46,lt=lt==="true"||lt===!0),t(46,lt=lt??nl>1),ft===!0&&Se===!0)throw Error("Log axis cannot be used in a 100% stacked chart");if(Rt==="stacked"&&nl>1&&Se===!0)throw Error("Log axis cannot be used in a stacked chart");let Ai;if(typeof M=="object"){Ai=_e[M[0]].columnUnitSummary.min;for(let X=0;X<M.length;X++)_e[M[X]].columnUnitSummary.min<Ai&&(Ai=_e[M[X]].columnUnitSummary.min)}else M&&(Ai=_e[M].columnUnitSummary.min);if(Se===!0&&Ai<=0&&Ai!==null)throw Error("Log axis cannot display values less than or equal to zero");z.update(X=>({...X,data:_,x:F,y:M,y2:W,series:x,swapXY:K,sort:ye,xType:ee,xFormat:ut,yFormat:He,y2Format:Ct,sizeFormat:jt,xMismatch:mi,size:te,yMin:Je,y2Min:y,columnSummary:_e,xAxisTitle:he,yAxisTitle:T,y2AxisTitle:Ye,tooltipTitle:me,chartAreaHeight:Ke,chartType:be,yCount:Si,y2Count:ll})),t(95,di=Gi(_,F));let wl;if(K?t(96,xt={type:Qe,logBase:Me,position:"top",axisLabel:{show:Re,hideOverlap:!0,showMaxLabel:!0,formatter(X){return Ji(X,He,Gt)},margin:4},min:Je,max:je,scale:Ee,splitLine:{show:Ze},axisLine:{show:Ie,onZero:!1},axisTick:{show:Le},boundaryGap:!1,z:2}):t(96,xt={type:ee,min:Ve,max:we,tooltip:{show:!0,position:"inside",formatter(X){if(X.isTruncated())return X.name}},splitLine:{show:ke},axisLine:{show:v},axisTick:{show:ae},axisLabel:{show:Ae,hideOverlap:!0,showMaxLabel:ee==="category"||ee==="value",formatter:ee==="time"||ee==="category"?!1:function(X){return Ji(X,ut,Yt)},margin:6},scale:!0,z:2}),K?t(97,st={type:ee,inverse:"true",splitLine:{show:ke},axisLine:{show:v},axisTick:{show:ae},axisLabel:{show:Ae,hideOverlap:!0},scale:!0,min:Ve,max:we,z:2}):(t(97,st={type:Qe,logBase:Me,splitLine:{show:Ze},axisLine:{show:Ie,onZero:!1},axisTick:{show:Le},axisLabel:{show:Re,hideOverlap:!0,margin:4,formatter(X){return Ji(X,He,Gt)},color:W?S==="true"?o[0]:S!=="false"?S:void 0:void 0},name:T,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0],color:W?S==="true"?o[0]:S!=="false"?S:void 0:void 0},nameGap:6,min:Je,max:je,scale:Ee,boundaryGap:["0%","1%"],z:2}),wl={type:"value",show:!1,alignTicks:!0,splitLine:{show:se},axisLine:{show:Fe,onZero:!1},axisTick:{show:A},axisLabel:{show:$e,hideOverlap:!0,margin:4,formatter(X){return Ji(X,Ct,_t)},color:E==="true"?o[Ii]:E!=="false"?E:void 0},name:Ye,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,0,0,5],color:E==="true"?o[Ii]:E!=="false"?E:void 0},nameGap:6,min:y,max:bt,scale:yt,boundaryGap:["0%","1%"],z:2},t(97,st=[st,wl])),Ke){if(t(47,Ke=Number(Ke)),isNaN(Ke))throw Error("chartAreaHeight must be a number");if(Ke<=0)throw Error("chartAreaHeight must be a positive number")}else t(47,Ke=180);t(100,Dt=!!ie),t(101,rt=!!ge),t(102,Pe=lt*(x!==null||typeof M=="object"&&M.length>1)),t(103,Be=T!==""&&K),t(104,Ue=he!==""&&!K),t(105,Ge=15),t(106,qe=13),t(107,We=6*rt),t(108,f=Dt*Ge+rt*qe+We*Math.max(Dt,rt)),t(109,g=10),t(110,ct=10),t(111,hi=14),t(112,yi=14),t(113,Xt=15),t(113,Xt=Xt*Pe),t(114,Kt=7),t(114,Kt=Kt*Math.max(Dt,rt)),t(115,Zt=f+Kt),t(116,ti=Zt+Xt+yi*Be+g),t(117,ii=Ue*hi+ct),t(121,$i=8),t(123,Yi=1),K&&(t(122,el=di.length),t(123,Yi=Math.max(1,el/$i))),t(118,_i=Ke*Yi+ti+ii),t(119,pi=Zt+Xt+7),t(15,bl=_i+"px"),t(13,tl="100%"),t(120,gi=K?T:he),gi!==""&&t(120,gi=gi+" â†’"),t(98,Ri={id:"horiz-axis-title",type:"text",style:{text:gi,textAlign:"right",fill:C.colors["base-content-muted"]},cursor:"auto",right:K?"2%":"3%",top:K?pi:null,bottom:K?null:"2%"}),t(99,ji={title:{text:ie,subtext:ge,subtextStyle:{width:tl}},tooltip:{trigger:"axis",show:!0,formatter(X){let Ei,Ci,Ti,xi;if(nl>1){Ci=X[0].value[K?1:0],Ei=`<span id="tooltip" style='font-weight: 600;'>${Ft(Ci,ut)}</span>`;for(let si=X.length-1;si>=0;si--)X[si].seriesName!=="stackTotal"&&(Ti=X[si].value[K?0:1],Ei=Ei+`<br> <span style='font-size: 11px;'>${X[si].marker} ${X[si].seriesName}<span/><span style='float:right; margin-left: 10px; font-size: 12px;'>${Ft(Ti,an(X[si].componentIndex,Si,ll)===0?He:Ct)}</span>`)}else ee==="value"?(Ci=X[0].value[K?1:0],Ti=X[0].value[K?0:1],xi=X[0].seriesName,Ei=`<span id="tooltip" style='font-weight: 600;'>${vt(F,ut)}: </span><span style='float:right; margin-left: 10px;'>${Ft(Ci,ut)}</span><br/><span style='font-weight: 600;'>${vt(xi,He)}: </span><span style='float:right; margin-left: 10px;'>${Ft(Ti,He)}</span>`):(Ci=X[0].value[K?1:0],Ti=X[0].value[K?0:1],xi=X[0].seriesName,Ei=`<span id="tooltip" style='font-weight: 600;'>${Ft(Ci,ut)}</span><br/><span>${vt(xi,He)}: </span><span style='float:right; margin-left: 10px;'>${Ft(Ti,He)}</span>`);return Ei},confine:!0,axisPointer:{type:"shadow"},extraCssText:'box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1; font-feature-settings: "cv02", "tnum";',order:"valueDesc"},legend:{show:lt,type:"scroll",top:Zt,padding:[0,0,0,0],data:[]},grid:{left:ui??(K?"1%":"0.8%"),right:Jt??(K?"4%":"3%"),bottom:ii,top:ti,containLabel:!0},xAxis:xt,yAxis:st,series:[],animation:!0,graphic:Ri,color:o}),q.update(()=>ji)}catch(Si){if(t(14,Ni=Si.message),console.error("\x1B[31m%s\x1B[0m",`Error in ${be}: ${Si.message}`),$l)throw Ni;z.update(Ii=>({...Ii,error:Ni}))}l.$$.dirty[0]&1},al(_l,z),al(gl,q),[_,de,p,K,u,zt,Y,ie,be,Mt,ht,Ht,At,tl,Ni,bl,r,s,n,i,R,q,B,Pt,F,M,ee,he,v,ae,ke,Ae,ye,Se,T,Ie,Le,Ze,Re,Ee,Ye,Fe,A,se,$e,yt,lt,Ke,Et,W,x,te,me,ge,H,ne,le,Xe,Ve,we,Qe,Me,Je,je,pe,it,y,bt,tt,qt,St,ot,Wt,Rt,ft,ui,Jt,Ce,re,Te,_e,Bt,Vt,nt,ci,Ut,et,mi,ut,He,Ct,jt,Yt,Gt,_t,di,xt,st,Ri,ji,Dt,rt,Pe,Be,Ue,Ge,qe,We,f,g,ct,hi,yi,Xt,Kt,Zt,ti,ii,_i,pi,gi,$i,el,Yi,li,bi,Qt,Di,Nt,il,ni,o,C,E,S,I,G]}class gs extends Lt{constructor(e){super(),Ot(this,e,_s,ys,wt,{data:0,queryID:6,x:24,y:25,y2:49,series:50,size:51,tooltipTitle:52,showAllXAxisLabels:1,printEchartsConfig:2,swapXY:3,title:7,subtitle:53,chartType:8,bubble:54,hist:55,boxplot:56,xType:26,xAxisTitle:27,xBaseline:28,xTickMarks:29,xGridlines:30,xAxisLabels:31,sort:32,xFmt:57,xMin:58,xMax:59,yLog:33,yType:60,yLogBase:61,yAxisTitle:34,yBaseline:35,yTickMarks:36,yGridlines:37,yAxisLabels:38,yMin:62,yMax:63,yScale:39,yFmt:64,yAxisColor:65,y2AxisTitle:40,y2Baseline:41,y2TickMarks:42,y2Gridlines:43,y2AxisLabels:44,y2Min:66,y2Max:67,y2Scale:45,y2Fmt:68,y2AxisColor:69,sizeFmt:70,colorPalette:71,legend:46,echartsOptions:9,seriesOptions:10,seriesColors:72,stackType:73,stacked100:74,chartAreaHeight:47,renderer:11,downloadableData:4,downloadableImage:5,connectGroup:12,leftPadding:75,rightPadding:76,xLabelWrap:48},null,[-1,-1,-1,-1,-1])}}function bs(l){let e;const t=l[7].default,i=qi(t,l,l[8],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&256)&&Wi(i,t,n,n[8],e?Vi(t,n[8],s,null):zi(n[8]),null)},i(n){e||(N(i,n),e=!0)},o(n){P(i,n),e=!1},d(n){i&&i.d(n)}}}function Ss(l){let e,t;const i=[l[5],{data:kt.isQuery(l[11])?Array.from(l[11]):l[11]},{queryID:l[6]}];let n={$$slots:{default:[bs]},$$scope:{ctx:l}};for(let s=0;s<i.length;s+=1)n=$t(n,i[s]);return e=new gs({props:n}),{c(){ce(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,r){fe(e,s,r),t=!0},p(s,r){const o=r&2144?ln(i,[r&32&&nn(s[5]),r&2048&&{data:kt.isQuery(s[11])?Array.from(s[11]):s[11]},r&64&&{queryID:s[6]}]):{};r&256&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function As(l){let e,t;return e=new sn({props:{slot:"empty",emptyMessage:l[2],emptySet:l[1],chartType:l[5].chartType,isInitial:l[4]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n&4&&(s.emptyMessage=i[2]),n&2&&(s.emptySet=i[1]),n&32&&(s.chartType=i[5].chartType),n&16&&(s.isInitial=i[4]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Es(l){let e,t;return e=new en({props:{slot:"error",title:l[5].chartType,error:l[11].error.message}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n&32&&(s.title=i[5].chartType),n&2048&&(s.error=i[11].error.message),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Cs(l){let e,t;return e=new tn({props:{data:l[0],height:l[3],$$slots:{error:[Es,({loaded:i})=>({11:i}),({loaded:i})=>i?2048:0],empty:[As],default:[Ss,({loaded:i})=>({11:i}),({loaded:i})=>i?2048:0]},$$scope:{ctx:l}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,[n]){const s={};n&1&&(s.data=i[0]),n&8&&(s.height=i[3]),n&2358&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ts(l,e,t){let i,{$$slots:n={},$$scope:s}=e,{data:r}=e;const o=kt.isQuery(r)?r.hash:void 0;let a=(r==null?void 0:r.hash)===o,{emptySet:h=void 0}=e,{emptyMessage:C=void 0}=e,{height:E=200}=e,w=r==null?void 0:r.id;return l.$$set=k=>{t(10,e=$t($t({},e),Pi(k))),"data"in k&&t(0,r=k.data),"emptySet"in k&&t(1,h=k.emptySet),"emptyMessage"in k&&t(2,C=k.emptyMessage),"height"in k&&t(3,E=k.height),"$$scope"in k&&t(8,s=k.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(4,a=(r==null?void 0:r.hash)===o),t(5,i={...Object.fromEntries(Object.entries(e).filter(([,k])=>k!==void 0))})},e=Pi(e),[r,h,C,E,a,i,w,n,s]}class on extends Lt{constructor(e){super(),Ot(this,e,Ts,Cs,wt,{data:0,emptySet:1,emptyMessage:2,height:3})}}function fn(l,e,t,i,n,s,r,o,a,h,C=void 0,E=void 0,w=void 0,k=void 0){function S(_,Y,F,M){let W={name:Y,data:_,yAxisIndex:F};return W={...M,...W},W}let m,L,R,G=[],I,z,q,B,$;function Z(_,Y){const F=[];function M(x){return typeof x>"u"}function W(x,te){M(x)||(Array.isArray(x)?x.forEach(me=>F.push([me,te])):F.push([x,te]))}return W(_,0),W(Y,1),F}let U=Z(t,w);if(i!=null&&U.length===1)for(B=Gi(l,i),m=0;m<B.length;m++){if(z=l.filter(_=>_[i]===B[m]),n?I=z.map(_=>[_[U[0][0]],o?_[e].toString():_[e]]):I=z.map(_=>[o?_[e].toString():_[e],_[U[0][0]]]),C){let _=z.map(Y=>Y[C]);I.forEach((Y,F)=>Y.push(_[F]))}if(E){let _=z.map(Y=>Y[E]);I.forEach((Y,F)=>Y.push(_[F]))}q=B[m]??"null",$=U[0][1],R=S(I,q,$,s),G.push(R)}if(i!=null&&U.length>1)for(B=Gi(l,i),m=0;m<B.length;m++)for(z=l.filter(_=>_[i]===B[m]),L=0;L<U.length;L++){if(n?I=z.map(_=>[_[U[L][0]],o?_[e].toString():_[e]]):I=z.map(_=>[o?_[e].toString():_[e],_[U[L][0]]]),C){let _=z.map(Y=>Y[C]);I.forEach((Y,F)=>Y.push(_[F]))}if(E){let _=z.map(Y=>Y[E]);I.forEach((Y,F)=>Y.push(_[F]))}q=(B[m]??"null")+" - "+a[U[L][0]].title,$=U[L][1],R=S(I,q,$,s),G.push(R)}if(i==null&&U.length>1)for(m=0;m<U.length;m++){if(n?I=l.map(_=>[_[U[m][0]],o?_[e].toString():_[e]]):I=l.map(_=>[o?_[e].toString():_[e],_[U[m][0]]]),C){let _=l.map(Y=>Y[C]);I.forEach((Y,F)=>Y.push(_[F]))}if(E){let _=l.map(Y=>Y[E]);I.forEach((Y,F)=>Y.push(_[F]))}q=a[U[m][0]].title,$=U[m][1],R=S(I,q,$,s),G.push(R)}if(i==null&&U.length===1){if(n?I=l.map(_=>[_[U[0][0]],o?_[e].toString():_[e]]):I=l.map(_=>[o?_[e].toString():_[e],_[U[0][0]]]),C){let _=l.map(Y=>Y[C]);I.forEach((Y,F)=>Y.push(_[F]))}if(E){let _=l.map(Y=>Y[E]);I.forEach((Y,F)=>Y.push(_[F]))}q=a[U[0][0]].title,$=U[0][1],R=S(I,q,$,s),G.push(R)}return h&&G.sort((_,Y)=>h.indexOf(_.name)-h.indexOf(Y.name)),k&&G.forEach(_=>{_.name=On(_.name,k)}),G}function Wl(l,e){let t={};if(typeof e=="object")for(let i=0;i<e.length;i++)t[e[i]]=0;else t[e]=0;return l=pt(l,rn(t)),l}function ks(l){let e=[];for(let t=1;t<l.length;t++)e.push(l[t]-l[t-1]);return e}function un(l,e){return(typeof l!="number"||isNaN(l))&&(l=0),(typeof e!="number"||isNaN(e))&&(e=0),l=Math.abs(l),e=Math.abs(e),e<=.01?l:un(e,l%e)}function ws(l,e){if(!Array.isArray(l))throw new TypeError("Cannot calculate extent of non-array value.");let t,i;for(const n of l)typeof n=="number"&&(t===void 0?n>=n&&(t=i=n):(t>n&&(t=n),i<n&&(i=n)));return[t,i]}function Ls(l,e){let[t,i]=ws(l);const n=[];let s=t;for(;s<=i;)n.push(Math.round((s+Number.EPSILON)*1e8)/1e8),s+=e;return n}function Os(l){if(l.length<=1)return;l.sort(function(t,i){return t-i}),l=l.map(function(t){return t*1e8}),l=ks(l);let e=l.reduce((t,i)=>un(t,i))/1e8;return e=Math.round((e+Number.EPSILON)*1e8)/1e8,e}function vi(l,e,t,i,n=!1,s=!1){var k;let r=!1;const o=l.map(S=>Object.assign({},S,{[e]:S[e]instanceof Date?(r=!0,S[e].toISOString()):S[e]})).filter(S=>S[e]!==void 0&&S[e]!==null),a=Array.from(o).reduce((S,m)=>(m[e]instanceof Date&&(m[e]=m[e].toISOString(),r=!0),i?(S[m[i]??"null"]||(S[m[i]??"null"]=[]),S[m[i]??"null"].push(m)):(S.default||(S.default=[]),S.default.push(m)),S),{}),h={};let C;const E=((k=o.find(S=>S&&S[e]!==null&&S[e]!==void 0))==null?void 0:k[e])??null;switch(typeof E){case"object":throw E===null?new Error(`Column '${e}' is entirely null. Column must contain at least one non-null value.`):new Error("Unexpected object property, expected string, date, or number");case"number":if(C=Gi(o,e),s){const S=Os(C);h[e]=Ls(C,S)}break;case"string":C=Gi(o,e),h[e]=C;break}const w=[];for(const S of Object.values(a)){const m=i?{[i]:null}:{};if(n)if(t instanceof Array)for(let R=0;R<t.length;R++)m[t[R]]=0;else m[t]=0;else if(t instanceof Array)for(let R=0;R<t.length;R++)m[t[R]]=null;else m[t]=null;i&&(h[i]=i);const L=[];Object.keys(h).length===0?L.push(Nl([e],m)):L.push(Nl(h,m)),w.push(pt(S,...L))}return r?w.flat().map(S=>({...S,[e]:new Date(S[e])})):w.flat()}function Ms(l,e,t){let i,n,s,r,o,a,h,C,E,w,k,S,m,L,R=Oe,G=()=>(R(),R=gt(s,T=>t(38,L=T)),s),I,z=Oe,q=()=>(z(),z=gt(n,T=>t(39,I=T)),n),B,$=Oe,Z=()=>($(),$=gt(i,T=>t(40,B=T)),i),U;l.$$.on_destroy.push(()=>R()),l.$$.on_destroy.push(()=>z()),l.$$.on_destroy.push(()=>$());let _=Hi(_l);fi(l,_,T=>t(41,U=T));let Y=Hi(gl);const{resolveColor:F}=ei();let{y:M=void 0}=e;const W=!!M;let{series:x=void 0}=e;const te=!!x;let{options:me=void 0}=e,{name:de=void 0}=e,{type:p="stacked"}=e,{fillColor:Ce=void 0}=e,{lineColor:re=void 0}=e,{fillOpacity:K=void 0}=e,{line:ie=!0}=e,{markers:ge=!1}=e,{markerShape:be="circle"}=e,{markerSize:H=8}=e,{handleMissing:ne="gap"}=e,{step:le=!1}=e,{stepPosition:Te="end"}=e,{labels:ee=!1}=e,{labelSize:he=11}=e,{labelPosition:v="top"}=e,{labelColor:ae=void 0}=e,{labelFmt:ke=void 0}=e,Ae;ke&&(Ae=It(ke));let{showAllLabels:ye=!1}=e,{seriesOrder:Xe=void 0}=e,{seriesLabelFmt:Ve=void 0}=e,we;const Se={above:"top",below:"bottom",middle:"inside"},Qe={above:"right",below:"left",middle:"inside"};let Me=a?"right":"top";return Zl(()=>{Y.update(T=>(T.tooltip={...T.tooltip,order:"seriesDesc"},a?(T.yAxis={...T.yAxis,...m.xAxis},T.xAxis={...T.xAxis,...m.yAxis}):(T.yAxis[0]={...T.yAxis[0],...m.yAxis},T.xAxis={...T.xAxis,...m.xAxis}),p==="stacked100"&&(a?T.xAxis={...T.xAxis,max:1}:T.yAxis[0]={...T.yAxis[0],max:1}),ee&&(T.axisPointer={triggerEmphasis:!1}),T))}),l.$$set=T=>{"y"in T&&t(4,M=T.y),"series"in T&&t(5,x=T.series),"options"in T&&t(12,me=T.options),"name"in T&&t(6,de=T.name),"type"in T&&t(13,p=T.type),"fillColor"in T&&t(14,Ce=T.fillColor),"lineColor"in T&&t(15,re=T.lineColor),"fillOpacity"in T&&t(16,K=T.fillOpacity),"line"in T&&t(7,ie=T.line),"markers"in T&&t(8,ge=T.markers),"markerShape"in T&&t(17,be=T.markerShape),"markerSize"in T&&t(18,H=T.markerSize),"handleMissing"in T&&t(19,ne=T.handleMissing),"step"in T&&t(9,le=T.step),"stepPosition"in T&&t(20,Te=T.stepPosition),"labels"in T&&t(10,ee=T.labels),"labelSize"in T&&t(21,he=T.labelSize),"labelPosition"in T&&t(11,v=T.labelPosition),"labelColor"in T&&t(22,ae=T.labelColor),"labelFmt"in T&&t(23,ke=T.labelFmt),"showAllLabels"in T&&t(24,ye=T.showAllLabels),"seriesOrder"in T&&t(25,Xe=T.seriesOrder),"seriesLabelFmt"in T&&t(26,Ve=T.seriesLabelFmt)},l.$$.update=()=>{l.$$.dirty[0]&16384&&Z(t(2,i=F(Ce))),l.$$.dirty[0]&32768&&q(t(1,n=F(re))),l.$$.dirty[0]&128&&t(7,ie=ie==="true"||ie===!0),l.$$.dirty[0]&256&&t(8,ge=ge==="true"||ge===!0),l.$$.dirty[0]&512&&t(9,le=le==="true"||le===!0),l.$$.dirty[0]&1024&&t(10,ee=ee==="true"||ee===!0),l.$$.dirty[0]&4194304&&G(t(0,s=F(ae))),l.$$.dirty[1]&1024&&t(36,r=U.data),l.$$.dirty[1]&1024&&t(35,o=U.x),l.$$.dirty[0]&16|l.$$.dirty[1]&1024&&t(4,M=W?M:U.y),l.$$.dirty[1]&1024&&t(29,a=U.swapXY),l.$$.dirty[1]&1024&&t(37,h=U.yFormat),l.$$.dirty[1]&1024&&t(30,C=U.xType),l.$$.dirty[1]&1024&&t(33,E=U.xMismatch),l.$$.dirty[1]&1024&&t(32,w=U.columnSummary),l.$$.dirty[0]&32|l.$$.dirty[1]&1024&&t(5,x=te?x:U.series),l.$$.dirty[0]&1073741936|l.$$.dirty[1]&50&&(!x&&typeof M!="object"?t(6,de=de??vt(M,w[M].title)):(t(28,we="area"),t(36,r=vi(r,o,M,x,!1,C==="value")),t(36,r=Wl(r,M)),t(30,C=C==="value"?"category":C))),l.$$.dirty[0]&524304|l.$$.dirty[1]&32&&ne==="zero"&&t(36,r=Wl(r,M)),l.$$.dirty[0]&536872960&&t(11,v=(a?Qe[v]:Se[v])??Me),l.$$.dirty[0]&960434048|l.$$.dirty[1]&960&&t(34,k={type:"line",stack:we,areaStyle:{color:B,opacity:K},connectNulls:ne==="connect",lineStyle:{width:ie?1:0,color:I},label:{show:ee,formatter(T){return T.value[a?0:1]===0?"":Ft(T.value[a?0:1],Ae??h)},fontSize:he,color:L,position:v,padding:3},labelLayout:{hideOverlap:!ye},emphasis:{focus:"series"},showSymbol:ee||ge,symbol:be,symbolSize:ee&&!ge?0:H,step:le?Te:!1}),l.$$.dirty[0]&637534320|l.$$.dirty[1]&62&&t(31,S=fn(r,o,M,x,a,k,de,E,w,Xe,void 0,void 0,void 0,Ve)),l.$$.dirty[1]&1&&Y.update(T=>(T.series.push(...S),T.legend.data.push(...S.map(Ie=>Ie.name.toString())),T)),l.$$.dirty[0]&4096&&me&&Y.update(T=>({...T,...me})),l.$$.dirty[0]&1073741824&&(m={yAxis:{boundaryGap:["0%","1%"]},xAxis:{boundaryGap:["4%","4%"],type:C}})},[s,n,i,_,M,x,de,ie,ge,le,ee,v,me,p,Ce,re,K,be,H,ne,Te,he,ae,ke,ye,Xe,Ve,Ae,we,a,C,S,w,E,k,o,r,h,L,I,B,U]}class Rs extends Lt{constructor(e){super(),Ot(this,e,Ms,null,wt,{y:4,series:5,options:12,name:6,type:13,fillColor:14,lineColor:15,fillOpacity:16,line:7,markers:8,markerShape:17,markerSize:18,handleMissing:19,step:9,stepPosition:20,labels:10,labelSize:21,labelPosition:11,labelColor:22,labelFmt:23,showAllLabels:24,seriesOrder:25,seriesLabelFmt:26},null,[-1,-1])}}function Ds(l){let e,t,i;e=new Rs({props:{line:l[28],fillColor:l[59],lineColor:l[58],fillOpacity:l[29],handleMissing:l[34],type:l[38],step:l[35],stepPosition:l[36],markers:l[31],markerShape:l[32],markerSize:l[33],labels:l[39],labelSize:l[40],labelPosition:l[41],labelColor:l[56],labelFmt:l[42],showAllLabels:l[43],seriesOrder:l[49],seriesLabelFmt:l[51]}});const n=l[66].default,s=qi(n,l,l[67],null);return{c(){ce(e.$$.fragment),t=j(),s&&s.c()},l(r){ue(e.$$.fragment,r),t=V(r),s&&s.l(r)},m(r,o){fe(e,r,o),b(r,t,o),s&&s.m(r,o),i=!0},p(r,o){const a={};o[0]&268435456&&(a.line=r[28]),o[1]&268435456&&(a.fillColor=r[59]),o[1]&134217728&&(a.lineColor=r[58]),o[0]&536870912&&(a.fillOpacity=r[29]),o[1]&8&&(a.handleMissing=r[34]),o[1]&128&&(a.type=r[38]),o[1]&16&&(a.step=r[35]),o[1]&32&&(a.stepPosition=r[36]),o[1]&1&&(a.markers=r[31]),o[1]&2&&(a.markerShape=r[32]),o[1]&4&&(a.markerSize=r[33]),o[1]&256&&(a.labels=r[39]),o[1]&512&&(a.labelSize=r[40]),o[1]&1024&&(a.labelPosition=r[41]),o[1]&33554432&&(a.labelColor=r[56]),o[1]&2048&&(a.labelFmt=r[42]),o[1]&4096&&(a.showAllLabels=r[43]),o[1]&262144&&(a.seriesOrder=r[49]),o[1]&1048576&&(a.seriesLabelFmt=r[51]),e.$set(a),s&&s.p&&(!i||o[2]&32)&&Wi(s,n,r,r[67],i?Vi(n,r[67],o,null):zi(r[67]),null)},i(r){i||(N(e.$$.fragment,r),N(s,r),i=!0)},o(r){P(e.$$.fragment,r),P(s,r),i=!1},d(r){r&&d(t),oe(e,r),s&&s.d(r)}}}function Ns(l){let e,t;return e=new on({props:{data:l[3],x:l[4],y:l[5],xFmt:l[11],yFmt:l[10],series:l[6],xType:l[7],yLog:l[8],yLogBase:l[9],legend:l[14],xAxisTitle:l[15],yAxisTitle:l[16],xGridlines:l[17],yGridlines:l[18],xAxisLabels:l[19],yAxisLabels:l[20],xBaseline:l[21],yBaseline:l[22],xTickMarks:l[23],yTickMarks:l[24],yMin:l[25],yMax:l[26],yScale:l[27],title:l[12],subtitle:l[13],chartType:Is,sort:l[37],stackType:l[38],stacked100:l[60],chartAreaHeight:l[30],colorPalette:l[57],echartsOptions:l[44],seriesOptions:l[45],printEchartsConfig:l[0],emptySet:l[46],emptyMessage:l[47],renderer:l[48],downloadableData:l[1],downloadableImage:l[2],connectGroup:l[50],seriesColors:l[55],leftPadding:l[52],rightPadding:l[53],xLabelWrap:l[54],$$slots:{default:[Ds]},$$scope:{ctx:l}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.data=i[3]),n[0]&16&&(s.x=i[4]),n[0]&32&&(s.y=i[5]),n[0]&2048&&(s.xFmt=i[11]),n[0]&1024&&(s.yFmt=i[10]),n[0]&64&&(s.series=i[6]),n[0]&128&&(s.xType=i[7]),n[0]&256&&(s.yLog=i[8]),n[0]&512&&(s.yLogBase=i[9]),n[0]&16384&&(s.legend=i[14]),n[0]&32768&&(s.xAxisTitle=i[15]),n[0]&65536&&(s.yAxisTitle=i[16]),n[0]&131072&&(s.xGridlines=i[17]),n[0]&262144&&(s.yGridlines=i[18]),n[0]&524288&&(s.xAxisLabels=i[19]),n[0]&1048576&&(s.yAxisLabels=i[20]),n[0]&2097152&&(s.xBaseline=i[21]),n[0]&4194304&&(s.yBaseline=i[22]),n[0]&8388608&&(s.xTickMarks=i[23]),n[0]&16777216&&(s.yTickMarks=i[24]),n[0]&33554432&&(s.yMin=i[25]),n[0]&67108864&&(s.yMax=i[26]),n[0]&134217728&&(s.yScale=i[27]),n[0]&4096&&(s.title=i[12]),n[0]&8192&&(s.subtitle=i[13]),n[1]&64&&(s.sort=i[37]),n[1]&128&&(s.stackType=i[38]),n[0]&1073741824&&(s.chartAreaHeight=i[30]),n[1]&67108864&&(s.colorPalette=i[57]),n[1]&8192&&(s.echartsOptions=i[44]),n[1]&16384&&(s.seriesOptions=i[45]),n[0]&1&&(s.printEchartsConfig=i[0]),n[1]&32768&&(s.emptySet=i[46]),n[1]&65536&&(s.emptyMessage=i[47]),n[1]&131072&&(s.renderer=i[48]),n[0]&2&&(s.downloadableData=i[1]),n[0]&4&&(s.downloadableImage=i[2]),n[1]&524288&&(s.connectGroup=i[50]),n[1]&16777216&&(s.seriesColors=i[55]),n[1]&2097152&&(s.leftPadding=i[52]),n[1]&4194304&&(s.rightPadding=i[53]),n[1]&8388608&&(s.xLabelWrap=i[54]),n[0]&805306368|n[1]&437526463|n[2]&32&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}let Is="Area Chart";function Fs(l,e,t){let i,n,s,r,o,{$$slots:a={},$$scope:h}=e;const{resolveColor:C,resolveColorsObject:E,resolveColorPalette:w}=ei();let{data:k=void 0}=e,{x:S=void 0}=e,{y:m=void 0}=e,{series:L=void 0}=e,{xType:R=void 0}=e,{yLog:G=void 0}=e,{yLogBase:I=void 0}=e,{yFmt:z=void 0}=e,{xFmt:q=void 0}=e,{title:B=void 0}=e,{subtitle:$=void 0}=e,{legend:Z=void 0}=e,{xAxisTitle:U=void 0}=e,{yAxisTitle:_=void 0}=e,{xGridlines:Y=void 0}=e,{yGridlines:F=void 0}=e,{xAxisLabels:M=void 0}=e,{yAxisLabels:W=void 0}=e,{xBaseline:x=void 0}=e,{yBaseline:te=void 0}=e,{xTickMarks:me=void 0}=e,{yTickMarks:de=void 0}=e,{yMin:p=void 0}=e,{yMax:Ce=void 0}=e,{yScale:re=void 0}=e,{line:K=void 0}=e,{fillColor:ie=void 0}=e,{lineColor:ge=void 0}=e,{fillOpacity:be=void 0}=e,{chartAreaHeight:H=void 0}=e,{markers:ne=void 0}=e,{markerShape:le=void 0}=e,{markerSize:Te=void 0}=e,{handleMissing:ee=void 0}=e,{step:he=void 0}=e,{stepPosition:v=void 0}=e,{sort:ae=void 0}=e,{type:ke="stacked"}=e,Ae=ke==="stacked100",{colorPalette:ye="default"}=e,{labels:Xe=void 0}=e,{labelSize:Ve=void 0}=e,{labelPosition:we=void 0}=e,{labelColor:Se=void 0}=e,{labelFmt:Qe=void 0}=e,{showAllLabels:Me=void 0}=e,{echartsOptions:T=void 0}=e,{seriesOptions:Ie=void 0}=e,{printEchartsConfig:Le=!1}=e,{emptySet:Ze=void 0}=e,{emptyMessage:Re=void 0}=e,{renderer:Je=void 0}=e,{downloadableData:je=void 0}=e,{downloadableImage:Ee=void 0}=e,{seriesColors:pe=void 0}=e,{seriesOrder:it=void 0}=e,{connectGroup:Ye=void 0}=e,{seriesLabelFmt:Fe=void 0}=e,{leftPadding:A=void 0}=e,{rightPadding:se=void 0}=e,{xLabelWrap:$e=void 0}=e;return l.$$set=y=>{"data"in y&&t(3,k=y.data),"x"in y&&t(4,S=y.x),"y"in y&&t(5,m=y.y),"series"in y&&t(6,L=y.series),"xType"in y&&t(7,R=y.xType),"yLog"in y&&t(8,G=y.yLog),"yLogBase"in y&&t(9,I=y.yLogBase),"yFmt"in y&&t(10,z=y.yFmt),"xFmt"in y&&t(11,q=y.xFmt),"title"in y&&t(12,B=y.title),"subtitle"in y&&t(13,$=y.subtitle),"legend"in y&&t(14,Z=y.legend),"xAxisTitle"in y&&t(15,U=y.xAxisTitle),"yAxisTitle"in y&&t(16,_=y.yAxisTitle),"xGridlines"in y&&t(17,Y=y.xGridlines),"yGridlines"in y&&t(18,F=y.yGridlines),"xAxisLabels"in y&&t(19,M=y.xAxisLabels),"yAxisLabels"in y&&t(20,W=y.yAxisLabels),"xBaseline"in y&&t(21,x=y.xBaseline),"yBaseline"in y&&t(22,te=y.yBaseline),"xTickMarks"in y&&t(23,me=y.xTickMarks),"yTickMarks"in y&&t(24,de=y.yTickMarks),"yMin"in y&&t(25,p=y.yMin),"yMax"in y&&t(26,Ce=y.yMax),"yScale"in y&&t(27,re=y.yScale),"line"in y&&t(28,K=y.line),"fillColor"in y&&t(61,ie=y.fillColor),"lineColor"in y&&t(62,ge=y.lineColor),"fillOpacity"in y&&t(29,be=y.fillOpacity),"chartAreaHeight"in y&&t(30,H=y.chartAreaHeight),"markers"in y&&t(31,ne=y.markers),"markerShape"in y&&t(32,le=y.markerShape),"markerSize"in y&&t(33,Te=y.markerSize),"handleMissing"in y&&t(34,ee=y.handleMissing),"step"in y&&t(35,he=y.step),"stepPosition"in y&&t(36,v=y.stepPosition),"sort"in y&&t(37,ae=y.sort),"type"in y&&t(38,ke=y.type),"colorPalette"in y&&t(63,ye=y.colorPalette),"labels"in y&&t(39,Xe=y.labels),"labelSize"in y&&t(40,Ve=y.labelSize),"labelPosition"in y&&t(41,we=y.labelPosition),"labelColor"in y&&t(64,Se=y.labelColor),"labelFmt"in y&&t(42,Qe=y.labelFmt),"showAllLabels"in y&&t(43,Me=y.showAllLabels),"echartsOptions"in y&&t(44,T=y.echartsOptions),"seriesOptions"in y&&t(45,Ie=y.seriesOptions),"printEchartsConfig"in y&&t(0,Le=y.printEchartsConfig),"emptySet"in y&&t(46,Ze=y.emptySet),"emptyMessage"in y&&t(47,Re=y.emptyMessage),"renderer"in y&&t(48,Je=y.renderer),"downloadableData"in y&&t(1,je=y.downloadableData),"downloadableImage"in y&&t(2,Ee=y.downloadableImage),"seriesColors"in y&&t(65,pe=y.seriesColors),"seriesOrder"in y&&t(49,it=y.seriesOrder),"connectGroup"in y&&t(50,Ye=y.connectGroup),"seriesLabelFmt"in y&&t(51,Fe=y.seriesLabelFmt),"leftPadding"in y&&t(52,A=y.leftPadding),"rightPadding"in y&&t(53,se=y.rightPadding),"xLabelWrap"in y&&t(54,$e=y.xLabelWrap),"$$scope"in y&&t(67,h=y.$$scope)},l.$$.update=()=>{l.$$.dirty[1]&1073741824&&t(59,i=C(ie)),l.$$.dirty[2]&1&&t(58,n=C(ge)),l.$$.dirty[2]&2&&t(57,s=w(ye)),l.$$.dirty[2]&4&&t(56,r=C(Se)),l.$$.dirty[0]&1&&t(0,Le=ze(Le)),l.$$.dirty[0]&2&&t(1,je=ze(je)),l.$$.dirty[0]&4&&t(2,Ee=ze(Ee)),l.$$.dirty[2]&8&&t(55,o=E(pe))},[Le,je,Ee,k,S,m,L,R,G,I,z,q,B,$,Z,U,_,Y,F,M,W,x,te,me,de,p,Ce,re,K,be,H,ne,le,Te,ee,he,v,ae,ke,Xe,Ve,we,Qe,Me,T,Ie,Ze,Re,Je,it,Ye,Fe,A,se,$e,o,r,s,n,i,Ae,ie,ge,ye,Se,pe,a,h]}class Hs extends Lt{constructor(e){super(),Ot(this,e,Fs,Ns,wt,{data:3,x:4,y:5,series:6,xType:7,yLog:8,yLogBase:9,yFmt:10,xFmt:11,title:12,subtitle:13,legend:14,xAxisTitle:15,yAxisTitle:16,xGridlines:17,yGridlines:18,xAxisLabels:19,yAxisLabels:20,xBaseline:21,yBaseline:22,xTickMarks:23,yTickMarks:24,yMin:25,yMax:26,yScale:27,line:28,fillColor:61,lineColor:62,fillOpacity:29,chartAreaHeight:30,markers:31,markerShape:32,markerSize:33,handleMissing:34,step:35,stepPosition:36,sort:37,type:38,colorPalette:63,labels:39,labelSize:40,labelPosition:41,labelColor:64,labelFmt:42,showAllLabels:43,echartsOptions:44,seriesOptions:45,printEchartsConfig:0,emptySet:46,emptyMessage:47,renderer:48,downloadableData:1,downloadableImage:2,seriesColors:65,seriesOrder:49,connectGroup:50,seriesLabelFmt:51,leftPadding:52,rightPadding:53,xLabelWrap:54},null,[-1,-1,-1])}}function zl(l,e,t){let i=pt(l,ol(e,[Mn(t,fl)]));if(typeof t=="object")for(let n=0;n<i.length;n++){i[n].stackTotal=0;for(let s=0;s<t.length;s++)i[n].stackTotal=i[n].stackTotal+i[n][t[s]]}return i}let Ps=60;function Bs(l,e,t){let i,n,s,r,o,a,h,C,E,w,k,S,m,L,R,G,I,z,q,B,$=Oe,Z=()=>($(),$=gt(r,A=>t(49,B=A)),r),U,_=Oe,Y=()=>(_(),_=gt(s,A=>t(50,U=A)),s),F,M=Oe,W=()=>(M(),M=gt(o,A=>t(51,F=A)),o),x,te=Oe,me=()=>(te(),te=gt(i,A=>t(52,x=A)),i);l.$$.on_destroy.push(()=>$()),l.$$.on_destroy.push(()=>_()),l.$$.on_destroy.push(()=>M()),l.$$.on_destroy.push(()=>te());const{resolveColor:de}=ei();let{y:p=void 0}=e;const Ce=!!p;let{y2:re=void 0}=e;const K=!!re;let{series:ie=void 0}=e;const ge=!!ie;let{options:be=void 0}=e,{name:H=void 0}=e,{type:ne="stacked"}=e,{stackName:le=void 0}=e,{fillColor:Te=void 0}=e,{fillOpacity:ee=void 0}=e,{outlineColor:he=void 0}=e,{outlineWidth:v=void 0}=e,{labels:ae=!1}=e,{seriesLabels:ke=!0}=e,{labelSize:Ae=11}=e,{labelPosition:ye=void 0}=e,{labelColor:Xe=void 0}=e,{labelFmt:Ve=void 0}=e,we;Ve&&(we=It(Ve));let{yLabelFmt:Se=void 0}=e,Qe;Se&&(Qe=It(Se));let{y2LabelFmt:Me=void 0}=e,T;Me&&(T=It(Me));let{y2SeriesType:Ie="bar"}=e,{stackTotalLabel:Le=!0}=e,{showAllLabels:Ze=!1}=e,{seriesOrder:Re=void 0}=e,Je,je,Ee,pe;const it={outside:"top",inside:"inside"},Ye={outside:"right",inside:"inside"};let{seriesLabelFmt:Fe=void 0}=e;return Zl(()=>{be&&n.update(A=>({...A,...be})),q&&n.update(A=>{if(ne.includes("stacked")?A.tooltip={...A.tooltip,order:"seriesDesc"}:A.tooltip={...A.tooltip,order:"seriesAsc"},ne==="stacked100"&&(S?A.xAxis={...A.xAxis,max:1}:A.yAxis[0]={...A.yAxis[0],max:1}),S)A.yAxis={...A.yAxis,...q.xAxis},A.xAxis={...A.xAxis,...q.yAxis};else if(A.yAxis[0]={...A.yAxis[0],...q.yAxis},A.xAxis={...A.xAxis,...q.xAxis},re&&(A.yAxis[1]={...A.yAxis[1],show:!0},["line","bar","scatter"].includes(Ie)))for(let se=0;se<k;se++)A.series[w+se].type=Ie,A.series[w+se].stack=void 0;return A})}),l.$$set=A=>{"y"in A&&t(4,p=A.y),"y2"in A&&t(5,re=A.y2),"series"in A&&t(6,ie=A.series),"options"in A&&t(13,be=A.options),"name"in A&&t(7,H=A.name),"type"in A&&t(14,ne=A.type),"stackName"in A&&t(8,le=A.stackName),"fillColor"in A&&t(15,Te=A.fillColor),"fillOpacity"in A&&t(16,ee=A.fillOpacity),"outlineColor"in A&&t(17,he=A.outlineColor),"outlineWidth"in A&&t(18,v=A.outlineWidth),"labels"in A&&t(9,ae=A.labels),"seriesLabels"in A&&t(10,ke=A.seriesLabels),"labelSize"in A&&t(19,Ae=A.labelSize),"labelPosition"in A&&t(11,ye=A.labelPosition),"labelColor"in A&&t(20,Xe=A.labelColor),"labelFmt"in A&&t(21,Ve=A.labelFmt),"yLabelFmt"in A&&t(22,Se=A.yLabelFmt),"y2LabelFmt"in A&&t(23,Me=A.y2LabelFmt),"y2SeriesType"in A&&t(24,Ie=A.y2SeriesType),"stackTotalLabel"in A&&t(12,Le=A.stackTotalLabel),"showAllLabels"in A&&t(25,Ze=A.showAllLabels),"seriesOrder"in A&&t(26,Re=A.seriesOrder),"seriesLabelFmt"in A&&t(27,Fe=A.seriesLabelFmt)},l.$$.update=()=>{l.$$.dirty[0]&32768&&Y(t(2,s=de(Te))),l.$$.dirty[0]&131072&&Z(t(1,r=de(he))),l.$$.dirty[0]&512&&t(9,ae=ae==="true"||ae===!0),l.$$.dirty[0]&1024&&t(10,ke=ke==="true"||ke===!0),l.$$.dirty[0]&1048576&&W(t(0,o=de(Xe))),l.$$.dirty[0]&4096&&t(12,Le=Le==="true"||Le===!0),l.$$.dirty[1]&2097152&&t(46,a=x.data),l.$$.dirty[1]&2097152&&t(42,h=x.x),l.$$.dirty[0]&16|l.$$.dirty[1]&2097152&&t(4,p=Ce?p:x.y),l.$$.dirty[0]&32|l.$$.dirty[1]&2097152&&t(5,re=K?re:x.y2),l.$$.dirty[1]&2097152&&t(40,C=x.yFormat),l.$$.dirty[1]&2097152&&t(47,E=x.y2Format),l.$$.dirty[1]&2097152&&t(35,w=x.yCount),l.$$.dirty[1]&2097152&&t(36,k=x.y2Count),l.$$.dirty[1]&2097152&&t(37,S=x.swapXY),l.$$.dirty[1]&2097152&&t(39,m=x.xType),l.$$.dirty[1]&2097152&&t(43,L=x.xMismatch),l.$$.dirty[1]&2097152&&t(44,R=x.columnSummary),l.$$.dirty[1]&2097152&&t(48,G=x.sort),l.$$.dirty[0]&64|l.$$.dirty[1]&2097152&&t(6,ie=ge?ie:x.series),l.$$.dirty[0]&16848|l.$$.dirty[1]&174403&&(!ie&&typeof p!="object"?(t(7,H=H??vt(p,R[p].title)),S&&m!=="category"&&(t(46,a=vi(a,h,p,ie,!0,m!=="time")),t(39,m="category")),t(8,le="stack1"),t(33,Ee=S?"right":"top")):(G===!0&&m==="category"&&(t(31,Je=zl(a,h,p)),typeof p=="object"?t(31,Je=Fi(Je,"stackTotal",!1)):t(31,Je=Fi(Je,p,!1)),t(32,je=Je.map(A=>A[h])),t(46,a=[...a].sort(function(A,se){return je.indexOf(A[h])-je.indexOf(se[h])}))),S||(m==="value"||m==="category")&&ne.includes("stacked")?(t(46,a=vi(a,h,p,ie,!0,m==="value")),t(39,m="category")):m==="time"&&ne.includes("stacked")&&t(46,a=vi(a,h,p,ie,!0,!0)),ne.includes("stacked")?(t(8,le=le??"stack1"),t(33,Ee="inside")):(t(8,le=void 0),t(33,Ee=S?"right":"top")))),l.$$.dirty[0]&16400|l.$$.dirty[1]&34816&&ne==="stacked"&&t(34,pe=zl(a,h,p)),l.$$.dirty[0]&2048|l.$$.dirty[1]&68&&t(11,ye=(S?Ye[ye]:it[ye])??Ee),l.$$.dirty[0]&1913458432|l.$$.dirty[1]&1901168&&t(45,I={type:"bar",stack:le,label:{show:ae&&ke,formatter(A){return A.value[S?0:1]===0?"":Ft(A.value[S?0:1],[Qe??we??C,T??we??E][an(A.componentIndex,w,k)])},position:ye,fontSize:Ae,color:F},labelLayout:{hideOverlap:!Ze},emphasis:{focus:"series"},barMaxWidth:Ps,itemStyle:{color:U,opacity:ee,borderColor:B,borderWidth:v}}),l.$$.dirty[0]&201326832|l.$$.dirty[1]&63552&&t(41,z=fn(a,h,p,ie,S,I,H,L,R,Re,void 0,void 0,re,Fe)),l.$$.dirty[0]&268981072|l.$$.dirty[1]&7880&&n.update(A=>(A.series.push(...z),A.legend.data.push(...z.map(se=>se.name.toString())),ae===!0&&ne==="stacked"&&typeof p=="object"|ie!==void 0&&Le===!0&&ie!==h&&(A.series.push({type:"bar",stack:le,name:"stackTotal",color:"none",data:pe.map(se=>[S?0:L?se[h].toString():se[h],S?L?se[h].toString():se[h]:0]),label:{show:!0,position:S?"right":"top",formatter(se){let $e=0;return z.forEach(y=>{$e+=y.data[se.dataIndex][S?0:1]}),$e===0?"":Ft($e,we??C)},fontWeight:"bold",fontSize:Ae,padding:S?[0,0,0,5]:void 0}}),A.legend.selectedMode=!1),A)),l.$$.dirty[1]&256&&(q={xAxis:{boundaryGap:["1%","2%"],type:m}})},me(t(3,i=Hi(_l))),t(38,n=Hi(gl)),[o,r,s,i,p,re,ie,H,le,ae,ke,ye,Le,be,ne,Te,ee,he,v,Ae,Xe,Ve,Se,Me,Ie,Ze,Re,Fe,we,Qe,T,Je,je,Ee,pe,w,k,S,n,m,C,z,h,L,R,I,a,E,G,B,U,F,x]}class Us extends Lt{constructor(e){super(),Ot(this,e,Bs,null,wt,{y:4,y2:5,series:6,options:13,name:7,type:14,stackName:8,fillColor:15,fillOpacity:16,outlineColor:17,outlineWidth:18,labels:9,seriesLabels:10,labelSize:19,labelPosition:11,labelColor:20,labelFmt:21,yLabelFmt:22,y2LabelFmt:23,y2SeriesType:24,stackTotalLabel:12,showAllLabels:25,seriesOrder:26,seriesLabelFmt:27},null,[-1,-1])}}function Gs(l){let e,t,i;e=new Us({props:{type:l[38],fillColor:l[72],fillOpacity:l[39],outlineColor:l[71],outlineWidth:l[40],labels:l[43],labelSize:l[44],labelPosition:l[45],labelColor:l[69],labelFmt:l[46],yLabelFmt:l[47],y2LabelFmt:l[48],stackTotalLabel:l[49],seriesLabels:l[50],showAllLabels:l[51],y2SeriesType:l[9],seriesOrder:l[60],seriesLabelFmt:l[62]}});const n=l[81].default,s=qi(n,l,l[82],null);return{c(){ce(e.$$.fragment),t=j(),s&&s.c()},l(r){ue(e.$$.fragment,r),t=V(r),s&&s.l(r)},m(r,o){fe(e,r,o),b(r,t,o),s&&s.m(r,o),i=!0},p(r,o){const a={};o[1]&128&&(a.type=r[38]),o[2]&1024&&(a.fillColor=r[72]),o[1]&256&&(a.fillOpacity=r[39]),o[2]&512&&(a.outlineColor=r[71]),o[1]&512&&(a.outlineWidth=r[40]),o[1]&4096&&(a.labels=r[43]),o[1]&8192&&(a.labelSize=r[44]),o[1]&16384&&(a.labelPosition=r[45]),o[2]&128&&(a.labelColor=r[69]),o[1]&32768&&(a.labelFmt=r[46]),o[1]&65536&&(a.yLabelFmt=r[47]),o[1]&131072&&(a.y2LabelFmt=r[48]),o[1]&262144&&(a.stackTotalLabel=r[49]),o[1]&524288&&(a.seriesLabels=r[50]),o[1]&1048576&&(a.showAllLabels=r[51]),o[0]&512&&(a.y2SeriesType=r[9]),o[1]&536870912&&(a.seriesOrder=r[60]),o[2]&1&&(a.seriesLabelFmt=r[62]),e.$set(a),s&&s.p&&(!i||o[2]&1048576)&&Wi(s,n,r,r[82],i?Vi(n,r[82],o,null):zi(r[82]),null)},i(r){i||(N(e.$$.fragment,r),N(s,r),i=!0)},o(r){P(e.$$.fragment,r),P(s,r),i=!1},d(r){r&&d(t),oe(e,r),s&&s.d(r)}}}function qs(l){let e,t;return e=new on({props:{data:l[1],x:l[2],y:l[3],y2:l[4],xFmt:l[12],yFmt:l[10],y2Fmt:l[11],series:l[5],xType:l[6],yLog:l[7],yLogBase:l[8],legend:l[15],xAxisTitle:l[16],yAxisTitle:l[17],y2AxisTitle:l[18],xGridlines:l[19],yGridlines:l[20],y2Gridlines:l[21],xAxisLabels:l[22],yAxisLabels:l[23],y2AxisLabels:l[24],xBaseline:l[25],yBaseline:l[26],y2Baseline:l[27],xTickMarks:l[28],yTickMarks:l[29],y2TickMarks:l[30],yAxisColor:l[68],y2AxisColor:l[67],yMin:l[31],yMax:l[32],yScale:l[33],y2Min:l[34],y2Max:l[35],y2Scale:l[36],swapXY:l[0],title:l[13],subtitle:l[14],chartType:"Bar Chart",stackType:l[38],sort:l[42],stacked100:l[73],chartAreaHeight:l[41],showAllXAxisLabels:l[37],colorPalette:l[70],echartsOptions:l[52],seriesOptions:l[53],printEchartsConfig:l[54],emptySet:l[55],emptyMessage:l[56],renderer:l[57],downloadableData:l[58],downloadableImage:l[59],connectGroup:l[61],xLabelWrap:l[65],seriesColors:l[66],leftPadding:l[63],rightPadding:l[64],$$slots:{default:[Gs]},$$scope:{ctx:l}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&2&&(s.data=i[1]),n[0]&4&&(s.x=i[2]),n[0]&8&&(s.y=i[3]),n[0]&16&&(s.y2=i[4]),n[0]&4096&&(s.xFmt=i[12]),n[0]&1024&&(s.yFmt=i[10]),n[0]&2048&&(s.y2Fmt=i[11]),n[0]&32&&(s.series=i[5]),n[0]&64&&(s.xType=i[6]),n[0]&128&&(s.yLog=i[7]),n[0]&256&&(s.yLogBase=i[8]),n[0]&32768&&(s.legend=i[15]),n[0]&65536&&(s.xAxisTitle=i[16]),n[0]&131072&&(s.yAxisTitle=i[17]),n[0]&262144&&(s.y2AxisTitle=i[18]),n[0]&524288&&(s.xGridlines=i[19]),n[0]&1048576&&(s.yGridlines=i[20]),n[0]&2097152&&(s.y2Gridlines=i[21]),n[0]&4194304&&(s.xAxisLabels=i[22]),n[0]&8388608&&(s.yAxisLabels=i[23]),n[0]&16777216&&(s.y2AxisLabels=i[24]),n[0]&33554432&&(s.xBaseline=i[25]),n[0]&67108864&&(s.yBaseline=i[26]),n[0]&134217728&&(s.y2Baseline=i[27]),n[0]&268435456&&(s.xTickMarks=i[28]),n[0]&536870912&&(s.yTickMarks=i[29]),n[0]&1073741824&&(s.y2TickMarks=i[30]),n[2]&64&&(s.yAxisColor=i[68]),n[2]&32&&(s.y2AxisColor=i[67]),n[1]&1&&(s.yMin=i[31]),n[1]&2&&(s.yMax=i[32]),n[1]&4&&(s.yScale=i[33]),n[1]&8&&(s.y2Min=i[34]),n[1]&16&&(s.y2Max=i[35]),n[1]&32&&(s.y2Scale=i[36]),n[0]&1&&(s.swapXY=i[0]),n[0]&8192&&(s.title=i[13]),n[0]&16384&&(s.subtitle=i[14]),n[1]&128&&(s.stackType=i[38]),n[1]&2048&&(s.sort=i[42]),n[1]&1024&&(s.chartAreaHeight=i[41]),n[1]&64&&(s.showAllXAxisLabels=i[37]),n[2]&256&&(s.colorPalette=i[70]),n[1]&2097152&&(s.echartsOptions=i[52]),n[1]&4194304&&(s.seriesOptions=i[53]),n[1]&8388608&&(s.printEchartsConfig=i[54]),n[1]&16777216&&(s.emptySet=i[55]),n[1]&33554432&&(s.emptyMessage=i[56]),n[1]&67108864&&(s.renderer=i[57]),n[1]&134217728&&(s.downloadableData=i[58]),n[1]&268435456&&(s.downloadableImage=i[59]),n[1]&1073741824&&(s.connectGroup=i[61]),n[2]&8&&(s.xLabelWrap=i[65]),n[2]&16&&(s.seriesColors=i[66]),n[2]&2&&(s.leftPadding=i[63]),n[2]&4&&(s.rightPadding=i[64]),n[0]&512|n[1]&538964864|n[2]&1050241&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ws(l,e,t){let i,n,s,r,o,a,h,{$$slots:C={},$$scope:E}=e;const{resolveColor:w,resolveColorsObject:k,resolveColorPalette:S}=ei();let{data:m=void 0}=e,{x:L=void 0}=e,{y:R=void 0}=e,{y2:G=void 0}=e,{series:I=void 0}=e,{xType:z=void 0}=e,{yLog:q=void 0}=e,{yLogBase:B=void 0}=e,{y2SeriesType:$=void 0}=e,{yFmt:Z=void 0}=e,{y2Fmt:U=void 0}=e,{xFmt:_=void 0}=e,{title:Y=void 0}=e,{subtitle:F=void 0}=e,{legend:M=void 0}=e,{xAxisTitle:W=void 0}=e,{yAxisTitle:x=G?"true":void 0}=e,{y2AxisTitle:te=G?"true":void 0}=e,{xGridlines:me=void 0}=e,{yGridlines:de=void 0}=e,{y2Gridlines:p=void 0}=e,{xAxisLabels:Ce=void 0}=e,{yAxisLabels:re=void 0}=e,{y2AxisLabels:K=void 0}=e,{xBaseline:ie=void 0}=e,{yBaseline:ge=void 0}=e,{y2Baseline:be=void 0}=e,{xTickMarks:H=void 0}=e,{yTickMarks:ne=void 0}=e,{y2TickMarks:le=void 0}=e,{yMin:Te=void 0}=e,{yMax:ee=void 0}=e,{yScale:he=void 0}=e,{y2Min:v=void 0}=e,{y2Max:ae=void 0}=e,{y2Scale:ke=void 0}=e,{swapXY:Ae=!1}=e,{showAllXAxisLabels:ye}=e,{type:Xe="stacked"}=e,Ve=Xe==="stacked100",{fillColor:we=void 0}=e,{fillOpacity:Se=void 0}=e,{outlineColor:Qe=void 0}=e,{outlineWidth:Me=void 0}=e,{chartAreaHeight:T=void 0}=e,{sort:Ie=void 0}=e,{colorPalette:Le="default"}=e,{labels:Ze=void 0}=e,{labelSize:Re=void 0}=e,{labelPosition:Je=void 0}=e,{labelColor:je=void 0}=e,{labelFmt:Ee=void 0}=e,{yLabelFmt:pe=void 0}=e,{y2LabelFmt:it=void 0}=e,{stackTotalLabel:Ye=void 0}=e,{seriesLabels:Fe=void 0}=e,{showAllLabels:A=void 0}=e,{yAxisColor:se=void 0}=e,{y2AxisColor:$e=void 0}=e,{echartsOptions:y=void 0}=e,{seriesOptions:bt=void 0}=e,{printEchartsConfig:yt=!1}=e,{emptySet:tt=void 0}=e,{emptyMessage:qt=void 0}=e,{renderer:St=void 0}=e,{downloadableData:ot=void 0}=e,{downloadableImage:lt=void 0}=e,{seriesColors:Mt=void 0}=e,{seriesOrder:ht=void 0}=e,{connectGroup:Wt=void 0}=e,{seriesLabelFmt:Rt=void 0}=e,{leftPadding:ft=void 0}=e,{rightPadding:Ke=void 0}=e,{xLabelWrap:Ht=void 0}=e;return l.$$set=u=>{"data"in u&&t(1,m=u.data),"x"in u&&t(2,L=u.x),"y"in u&&t(3,R=u.y),"y2"in u&&t(4,G=u.y2),"series"in u&&t(5,I=u.series),"xType"in u&&t(6,z=u.xType),"yLog"in u&&t(7,q=u.yLog),"yLogBase"in u&&t(8,B=u.yLogBase),"y2SeriesType"in u&&t(9,$=u.y2SeriesType),"yFmt"in u&&t(10,Z=u.yFmt),"y2Fmt"in u&&t(11,U=u.y2Fmt),"xFmt"in u&&t(12,_=u.xFmt),"title"in u&&t(13,Y=u.title),"subtitle"in u&&t(14,F=u.subtitle),"legend"in u&&t(15,M=u.legend),"xAxisTitle"in u&&t(16,W=u.xAxisTitle),"yAxisTitle"in u&&t(17,x=u.yAxisTitle),"y2AxisTitle"in u&&t(18,te=u.y2AxisTitle),"xGridlines"in u&&t(19,me=u.xGridlines),"yGridlines"in u&&t(20,de=u.yGridlines),"y2Gridlines"in u&&t(21,p=u.y2Gridlines),"xAxisLabels"in u&&t(22,Ce=u.xAxisLabels),"yAxisLabels"in u&&t(23,re=u.yAxisLabels),"y2AxisLabels"in u&&t(24,K=u.y2AxisLabels),"xBaseline"in u&&t(25,ie=u.xBaseline),"yBaseline"in u&&t(26,ge=u.yBaseline),"y2Baseline"in u&&t(27,be=u.y2Baseline),"xTickMarks"in u&&t(28,H=u.xTickMarks),"yTickMarks"in u&&t(29,ne=u.yTickMarks),"y2TickMarks"in u&&t(30,le=u.y2TickMarks),"yMin"in u&&t(31,Te=u.yMin),"yMax"in u&&t(32,ee=u.yMax),"yScale"in u&&t(33,he=u.yScale),"y2Min"in u&&t(34,v=u.y2Min),"y2Max"in u&&t(35,ae=u.y2Max),"y2Scale"in u&&t(36,ke=u.y2Scale),"swapXY"in u&&t(0,Ae=u.swapXY),"showAllXAxisLabels"in u&&t(37,ye=u.showAllXAxisLabels),"type"in u&&t(38,Xe=u.type),"fillColor"in u&&t(74,we=u.fillColor),"fillOpacity"in u&&t(39,Se=u.fillOpacity),"outlineColor"in u&&t(75,Qe=u.outlineColor),"outlineWidth"in u&&t(40,Me=u.outlineWidth),"chartAreaHeight"in u&&t(41,T=u.chartAreaHeight),"sort"in u&&t(42,Ie=u.sort),"colorPalette"in u&&t(76,Le=u.colorPalette),"labels"in u&&t(43,Ze=u.labels),"labelSize"in u&&t(44,Re=u.labelSize),"labelPosition"in u&&t(45,Je=u.labelPosition),"labelColor"in u&&t(77,je=u.labelColor),"labelFmt"in u&&t(46,Ee=u.labelFmt),"yLabelFmt"in u&&t(47,pe=u.yLabelFmt),"y2LabelFmt"in u&&t(48,it=u.y2LabelFmt),"stackTotalLabel"in u&&t(49,Ye=u.stackTotalLabel),"seriesLabels"in u&&t(50,Fe=u.seriesLabels),"showAllLabels"in u&&t(51,A=u.showAllLabels),"yAxisColor"in u&&t(78,se=u.yAxisColor),"y2AxisColor"in u&&t(79,$e=u.y2AxisColor),"echartsOptions"in u&&t(52,y=u.echartsOptions),"seriesOptions"in u&&t(53,bt=u.seriesOptions),"printEchartsConfig"in u&&t(54,yt=u.printEchartsConfig),"emptySet"in u&&t(55,tt=u.emptySet),"emptyMessage"in u&&t(56,qt=u.emptyMessage),"renderer"in u&&t(57,St=u.renderer),"downloadableData"in u&&t(58,ot=u.downloadableData),"downloadableImage"in u&&t(59,lt=u.downloadableImage),"seriesColors"in u&&t(80,Mt=u.seriesColors),"seriesOrder"in u&&t(60,ht=u.seriesOrder),"connectGroup"in u&&t(61,Wt=u.connectGroup),"seriesLabelFmt"in u&&t(62,Rt=u.seriesLabelFmt),"leftPadding"in u&&t(63,ft=u.leftPadding),"rightPadding"in u&&t(64,Ke=u.rightPadding),"xLabelWrap"in u&&t(65,Ht=u.xLabelWrap),"$$scope"in u&&t(82,E=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&1&&(Ae==="true"||Ae===!0?t(0,Ae=!0):t(0,Ae=!1)),l.$$.dirty[2]&4096&&t(72,i=w(we)),l.$$.dirty[2]&8192&&t(71,n=w(Qe)),l.$$.dirty[2]&16384&&t(70,s=S(Le)),l.$$.dirty[2]&32768&&t(69,r=w(je)),l.$$.dirty[2]&65536&&t(68,o=w(se)),l.$$.dirty[2]&131072&&t(67,a=w($e)),l.$$.dirty[2]&262144&&t(66,h=k(Mt))},[Ae,m,L,R,G,I,z,q,B,$,Z,U,_,Y,F,M,W,x,te,me,de,p,Ce,re,K,ie,ge,be,H,ne,le,Te,ee,he,v,ae,ke,ye,Xe,Se,Me,T,Ie,Ze,Re,Je,Ee,pe,it,Ye,Fe,A,y,bt,yt,tt,qt,St,ot,lt,ht,Wt,Rt,ft,Ke,Ht,h,a,o,r,s,n,i,Ve,we,Qe,Le,je,se,$e,Mt,C,E]}class zs extends Lt{constructor(e){super(),Ot(this,e,Ws,qs,wt,{data:1,x:2,y:3,y2:4,series:5,xType:6,yLog:7,yLogBase:8,y2SeriesType:9,yFmt:10,y2Fmt:11,xFmt:12,title:13,subtitle:14,legend:15,xAxisTitle:16,yAxisTitle:17,y2AxisTitle:18,xGridlines:19,yGridlines:20,y2Gridlines:21,xAxisLabels:22,yAxisLabels:23,y2AxisLabels:24,xBaseline:25,yBaseline:26,y2Baseline:27,xTickMarks:28,yTickMarks:29,y2TickMarks:30,yMin:31,yMax:32,yScale:33,y2Min:34,y2Max:35,y2Scale:36,swapXY:0,showAllXAxisLabels:37,type:38,fillColor:74,fillOpacity:39,outlineColor:75,outlineWidth:40,chartAreaHeight:41,sort:42,colorPalette:76,labels:43,labelSize:44,labelPosition:45,labelColor:77,labelFmt:46,yLabelFmt:47,y2LabelFmt:48,stackTotalLabel:49,seriesLabels:50,showAllLabels:51,yAxisColor:78,y2AxisColor:79,echartsOptions:52,seriesOptions:53,printEchartsConfig:54,emptySet:55,emptyMessage:56,renderer:57,downloadableData:58,downloadableImage:59,seriesColors:80,seriesOrder:60,connectGroup:61,seriesLabelFmt:62,leftPadding:63,rightPadding:64,xLabelWrap:65},null,[-1,-1,-1])}}function Vs(l){let e,t;return e=new Dn({props:{error:l[3]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n&8&&(s.error=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function js(l){let e,t=Ft(l[2],l[4])+"",i,n,s,r=l[1]&&Vl(l);return{c(){e=J("span"),i=Li(t),n=j(),r&&r.c(),this.h()},l(o){e=Q(o,"SPAN",{style:!0});var a=ve(e);i=wi(a,t),n=V(a),r&&r.l(a),a.forEach(d),this.h()},h(){D(e,"color",l[5])},m(o,a){b(o,e,a),xe(e,i),xe(e,n),r&&r.m(e,null),s=!0},p(o,a){(!s||a&20)&&t!==(t=Ft(o[2],o[4])+"")&&dl(i,t),o[1]?r?(r.p(o,a),a&2&&N(r,1)):(r=Vl(o),r.c(),N(r,1),r.m(e,null)):r&&(mt(),P(r,1,1,()=>{r=null}),dt()),(!s||a&32)&&D(e,"color",o[5])},i(o){s||(N(r),s=!0)},o(o){P(r),s=!1},d(o){o&&d(e),r&&r.d()}}}function Ys(l){let e,t,i,n,s,r="Placeholder: no data currently referenced.";return{c(){e=J("span"),t=Li("["),i=Li(l[0]),n=Li("]"),s=J("span"),s.textContent=r,this.h()},l(o){e=Q(o,"SPAN",{class:!0});var a=ve(e);t=wi(a,"["),i=wi(a,l[0]),n=wi(a,"]"),s=Q(a,"SPAN",{class:!0,"data-svelte-h":!0}),Ne(s)!=="svelte-ddarzq"&&(s.textContent=r),a.forEach(d),this.h()},h(){O(s,"class","error-msg svelte-1qvl5jp"),O(e,"class","placeholder svelte-1qvl5jp")},m(o,a){b(o,e,a),xe(e,t),xe(e,i),xe(e,n),xe(e,s)},p(o,a){a&1&&dl(i,o[0])},i:Oe,o:Oe,d(o){o&&d(e)}}}function Vl(l){let e,t;return e=new Nn({props:{description:l[1]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n&2&&(s.description=i[1]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function xs(l){let e,t,i,n;const s=[Ys,js,Vs],r=[];function o(a,h){return a[0]?0:a[3]?2:1}return e=o(l),t=r[e]=s[e](l),{c(){t.c(),i=at()},l(a){t.l(a),i=at()},m(a,h){r[e].m(a,h),b(a,i,h),n=!0},p(a,[h]){let C=e;e=o(a),e===C?r[e].p(a,h):(mt(),P(r[C],1,1,()=>{r[C]=null}),dt(),t=r[e],t?t.p(a,h):(t=r[e]=s[e](a),t.c()),N(t,1),t.m(i.parentNode,i))},i(a){n||(N(t),n=!0)},o(a){P(t),n=!1},d(a){a&&d(i),r[e].d(a)}}}function Xs(l,e,t){let i,n,s=Oe,r=()=>(s(),s=gt(i,B=>t(15,n=B)),i);l.$$.on_destroy.push(()=>s());const{resolveColor:o}=ei();let{data:a=null}=e,{row:h=0}=e,{column:C=null}=e,{value:E=null}=e,{placeholder:w=null}=e,{description:k=void 0}=e,{fmt:S=void 0}=e,m,L,R,{color:G=void 0}=e,I="",{redNegatives:z=!1}=e,q;return l.$$set=B=>{"data"in B&&t(7,a=B.data),"row"in B&&t(10,h=B.row),"column"in B&&t(8,C=B.column),"value"in B&&t(11,E=B.value),"placeholder"in B&&t(0,w=B.placeholder),"description"in B&&t(1,k=B.description),"fmt"in B&&t(12,S=B.fmt),"color"in B&&t(13,G=B.color),"redNegatives"in B&&t(9,z=B.redNegatives)},l.$$.update=()=>{var B;if(l.$$.dirty&2304&&t(8,C=C??E),l.$$.dirty&21897)try{if(t(3,R=void 0),!w)if(a){if(typeof a=="string")throw Error(`Received: data=${a}, expected: data={${a}}`);if(Array.isArray(a)||t(7,a=[a]),isNaN(h))throw Error("row must be a number (row="+h+")");try{Object.keys(a[h])[0]}catch{throw Error("Row "+h+" does not exist in the dataset")}t(8,C=C??Object.keys(a[h])[0]),ul(a,[C]),t(14,q=Zi(a,"array"));const $=q.filter(Z=>{var U;return Z.type==="date"&&!(((U=a[0])==null?void 0:U[Z.id])instanceof Date)}).map(Z=>Z.id);for(let Z=0;Z<$.length;Z++)t(7,a=Rn(a,$[Z]));t(2,L=a[h][C]),t(14,q=q.filter(Z=>Z.id===C)),S?t(4,m=It(S,(B=q[0].format)==null?void 0:B.valueType)):t(4,m=q[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch($){if(t(3,R=$.message),console.error("\x1B[31m%s\x1B[0m",`Error in Value: ${R}`),$l)throw R}l.$$.dirty&2304&&E&&C&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.'),l.$$.dirty&8192&&r(t(6,i=o(G))),l.$$.dirty&512&&t(9,z=z==="true"||z===!0),l.$$.dirty&33284&&(z||n)&&(z&&L<0?t(5,I="rgb(220 38 38)"):n&&t(5,I=n))},[w,k,L,R,m,I,i,a,C,z,h,E,S,G,q,n]}class Qs extends Lt{constructor(e){super(),Ot(this,e,Xs,xs,wt,{data:7,row:10,column:8,value:11,placeholder:0,description:1,fmt:12,color:13,redNegatives:9})}}function Js(l){let e;const t=l[7].default,i=qi(t,l,l[8],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&256)&&Wi(i,t,n,n[8],e?Vi(t,n[8],s,null):zi(n[8]),null)},i(n){e||(N(i,n),e=!0)},o(n){P(i,n),e=!1},d(n){i&&i.d(n)}}}function Ks(l){let e,t;const i=[l[4],{data:kt.isQuery(l[11])?Array.from(l[11]):l[11]}];let n={$$slots:{default:[Js]},$$scope:{ctx:l}};for(let s=0;s<i.length;s+=1)n=$t(n,i[s]);return e=new Qs({props:n}),{c(){ce(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,r){fe(e,s,r),t=!0},p(s,r){const o=r&2064?ln(i,[r&16&&nn(s[4]),r&2048&&{data:kt.isQuery(s[11])?Array.from(s[11]):s[11]}]):{};r&256&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function jl(l){let e,t;return e=new sn({props:{emptyMessage:l[2],emptySet:l[1],chartType:$s,isInitial:l[3]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n&4&&(s.emptyMessage=i[2]),n&2&&(s.emptySet=i[1]),n&8&&(s.isInitial=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Zs(l){let e,t,i=!l[4].placeholder&&jl(l);return{c(){e=J("span"),i&&i.c(),this.h()},l(n){e=Q(n,"SPAN",{slot:!0});var s=ve(e);i&&i.l(s),s.forEach(d),this.h()},h(){O(e,"slot","empty")},m(n,s){b(n,e,s),i&&i.m(e,null),t=!0},p(n,s){n[4].placeholder?i&&(mt(),P(i,1,1,()=>{i=null}),dt()):i?(i.p(n,s),s&16&&N(i,1)):(i=jl(n),i.c(),N(i,1),i.m(e,null))},i(n){t||(N(i),t=!0)},o(n){P(i),t=!1},d(n){n&&d(e),i&&i.d()}}}function vs(l){let e,t="Loading...";return{c(){e=J("span"),e.textContent=t,this.h()},l(i){e=Q(i,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-89gxhc"&&(e.textContent=t),this.h()},h(){O(e,"slot","skeleton"),O(e,"class","text-base-content-muted")},m(i,n){b(i,e,n)},p:Oe,d(i){i&&d(e)}}}function ps(l){let e,t;return e=new tn({props:{data:l[0],$$slots:{skeleton:[vs],empty:[Zs],default:[Ks,({loaded:i})=>({11:i}),({loaded:i})=>i?2048:0]},$$scope:{ctx:l}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,[n]){const s={};n&1&&(s.data=i[0]),n&2334&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}let $s="Value";function er(l,e,t){let i,{$$slots:n={},$$scope:s}=e,{data:r}=e,{column:o}=e,{agg:a}=e;const h=kt.isQuery(r)?r.hash:void 0;let C=(r==null?void 0:r.hash)===h,{emptySet:E=void 0}=e,{emptyMessage:w=void 0}=e;return l.$$set=k=>{t(10,e=$t($t({},e),Pi(k))),"data"in k&&t(0,r=k.data),"column"in k&&t(5,o=k.column),"agg"in k&&t(6,a=k.agg),"emptySet"in k&&t(1,E=k.emptySet),"emptyMessage"in k&&t(2,w=k.emptyMessage),"$$scope"in k&&t(8,s=k.$$scope)},l.$$.update=()=>{l.$$.dirty&97&&a&&t(0,r=r.groupBy(void 0).agg({[a]:{col:o,as:o}})),l.$$.dirty&1&&t(3,C=(r==null?void 0:r.hash)===h),t(4,i=Object.fromEntries(Object.entries(e).filter(([,k])=>k!==void 0)))},e=Pi(e),[r,E,w,C,i,o,a,n,s]}class Ki extends Lt{constructor(e){super(),Ot(this,e,er,ps,wt,{data:0,column:5,agg:6,emptySet:1,emptyMessage:2})}}function tr(l){let e,t=De.title+"",i;return{c(){e=J("h1"),i=Li(t),this.h()},l(n){e=Q(n,"H1",{class:!0});var s=ve(e);i=wi(s,t),s.forEach(d),this.h()},h(){O(e,"class","title")},m(n,s){b(n,e,s),xe(e,i)},p:Oe,d(n){n&&d(e)}}}function ir(l){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:Oe,p:Oe,d:Oe}}function lr(l){let e,t,i,n,s;return document.title=e=De.title,{c(){t=j(),i=J("meta"),n=j(),s=J("meta"),this.h()},l(r){t=V(r),i=Q(r,"META",{property:!0,content:!0}),n=V(r),s=Q(r,"META",{name:!0,content:!0}),this.h()},h(){var r,o;O(i,"property","og:title"),O(i,"content",((r=De.og)==null?void 0:r.title)??De.title),O(s,"name","twitter:title"),O(s,"content",((o=De.og)==null?void 0:o.title)??De.title)},m(r,o){b(r,t,o),b(r,i,o),b(r,n,o),b(r,s,o)},p(r,o){o&0&&e!==(e=De.title)&&(document.title=e)},d(r){r&&(d(t),d(i),d(n),d(s))}}}function nr(l){var s;let e,t,i=sr(),n=((s=De.og)==null?void 0:s.image)&&rr();return{c(){i&&i.c(),e=j(),n&&n.c(),t=at()},l(r){i&&i.l(r),e=V(r),n&&n.l(r),t=at()},m(r,o){i&&i.m(r,o),b(r,e,o),n&&n.m(r,o),b(r,t,o)},p(r,o){var a;i.p(r,o),(a=De.og)!=null&&a.image&&n.p(r,o)},d(r){r&&(d(e),d(t)),i&&i.d(r),n&&n.d(r)}}}function sr(l){let e,t,i,n,s;return{c(){e=J("meta"),t=j(),i=J("meta"),n=j(),s=J("meta"),this.h()},l(r){e=Q(r,"META",{name:!0,content:!0}),t=V(r),i=Q(r,"META",{property:!0,content:!0}),n=V(r),s=Q(r,"META",{name:!0,content:!0}),this.h()},h(){var r,o;O(e,"name","description"),O(e,"content",De.description),O(i,"property","og:description"),O(i,"content",((r=De.og)==null?void 0:r.description)??De.description),O(s,"name","twitter:description"),O(s,"content",((o=De.og)==null?void 0:o.description)??De.description)},m(r,o){b(r,e,o),b(r,t,o),b(r,i,o),b(r,n,o),b(r,s,o)},p:Oe,d(r){r&&(d(e),d(t),d(i),d(n),d(s))}}}function rr(l){let e,t,i;return{c(){e=J("meta"),t=j(),i=J("meta"),this.h()},l(n){e=Q(n,"META",{property:!0,content:!0}),t=V(n),i=Q(n,"META",{name:!0,content:!0}),this.h()},h(){var n,s;O(e,"property","og:image"),O(e,"content",Ol((n=De.og)==null?void 0:n.image)),O(i,"name","twitter:image"),O(i,"content",Ol((s=De.og)==null?void 0:s.image))},m(n,s){b(n,e,s),b(n,t,s),b(n,i,s)},p:Oe,d(n){n&&(d(e),d(t),d(i))}}}function Yl(l){let e,t;return e=new Mi({props:{queryID:"risk_summary",queryResult:l[0]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&1&&(s.queryResult=i[0]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function xl(l){let e,t;return e=new Mi({props:{queryID:"wash_events",queryResult:l[1]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&2&&(s.queryResult=i[1]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Xl(l){let e,t;return e=new Mi({props:{queryID:"slippage_summary",queryResult:l[2]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&4&&(s.queryResult=i[2]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ql(l){let e,t;return e=new Mi({props:{queryID:"spikes",queryResult:l[3]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.queryResult=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Jl(l){let e,t;return e=new Mi({props:{queryID:"risk_scores",queryResult:l[4]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&16&&(s.queryResult=i[4]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Kl(l){let e,t;return e=new Mi({props:{queryID:"daily_volume",queryResult:l[5]}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,n){fe(e,i,n),t=!0},p(i,n){const s={};n[0]&32&&(s.queryResult=i[5]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){P(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function ar(l){let e,t,i,n,s,r,o='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="flex-shrink: 0;"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> <span>HOME</span>',a,h,C='<a href="#ï¸-sentinelsql--analyse-de-fraude-financiÃ¨re">ðŸ›¡ï¸ SentinelSQL â€“ Analyse de Fraude FinanciÃ¨re</a>',E,w,k='<em class="markdown">Projet de fin d&#39;Ã©tudes : MaÃ®trise SQL avancÃ©e avec DuckDB et Evidence.dev â€“ MIAGE UniversitÃ© Paris Dauphine</em>',S,m,L,R,G='<a href="#-tableau-de-bord-de-risque-global">ðŸ“Š Tableau de Bord de Risque Global</a>',I,z,q,B,$,Z,U,_,Y,F,M,W,x='<strong class="markdown">Explication mÃ©tier</strong> : Ces indicateurs clÃ©s (KPIs) offrent une vue d&#39;ensemble de la santÃ© du marchÃ©. Un volume disproportionnÃ© par rapport au nombre d&#39;utilisateurs rÃ©els peut Ãªtre le signe prÃ©curseur d&#39;une activitÃ© de manipulation de liquiditÃ©.',te,me,de,p,Ce='<a href="#ï¸-dÃ©tection-de-wash-trading">ðŸ•µï¸ DÃ©tection de Wash Trading</a>',re,K,ie='<strong class="markdown">ProblÃ©matique</strong> : Le <em class="markdown">wash trading</em> consiste Ã  gonfler artificiellement les volumes via des transactions circulaires oÃ¹ l&#39;acheteur et le vendeur sont la mÃªme entitÃ©.',ge,be,H,ne,le,Te='<strong class="markdown">Analyse technique</strong> : Utilisation d&#39;un <strong class="markdown">Self-Join</strong> sur la table des transactions. Nous filtrons les paires d&#39;opÃ©rations exÃ©cutÃ©es par le mÃªme <code class="markdown">user_id</code> sur le mÃªme <code class="markdown">asset_id</code> dans une fenÃªtre de temps critique (infÃ©rieure Ã  10 secondes).',ee,he,v,ae,ke='<a href="#-volatilitÃ©-relative--slippage">ðŸ“‰ VolatilitÃ© Relative &amp; Slippage</a>',Ae,ye,Xe='<strong class="markdown">ProblÃ©matique</strong> : Le slippage mesure l&#39;Ã©cart entre le prix d&#39;exÃ©cution et le prix du marchÃ©. Un slippage Ã©levÃ© (&gt; 1%) est souvent un indicateur de manipulation de prix ou de front-running.',Ve,we,Se,Qe,Me,T='<strong class="markdown">Expertise mÃ©tier</strong> : La jointure temporelle (Time-series Join) permet de valider la conformitÃ© du prix d&#39;exÃ©cution par rapport aux oracles de marchÃ© externes Ã  l&#39;instant T.',Ie,Le,Ze,Re,Je='<a href="#-anomalies-de-volume-pics-statistiques">âš¡ Anomalies de Volume (Pics Statistiques)</a>',je,Ee,pe='<strong class="markdown">ProblÃ©matique</strong> : Identifier les &quot;Pump and Dump&quot; en isolant les volumes qui s&#39;Ã©cartent statistiquement de la normale.',it,Ye,Fe,A,se,$e='<strong class="markdown">Approche statistique</strong> : Ce tableau exploite les <strong class="markdown">Window Functions</strong> pour calculer une moyenne et un Ã©cart-type mobiles. Une alerte est dÃ©clenchÃ©e dÃ¨s que le volume d&#39;une fenÃªtre dÃ©passe le seuil de 3 Ã©carts-types (3Ïƒ).',y,bt,yt,tt,qt='<a href="#-score-de-risque-utilisateur-z-score">ðŸ† Score de Risque Utilisateur (Z-Score)</a>',St,ot,lt='<strong class="markdown">MÃ©thode</strong> : Nous appliquons une normalisation statistique (Z-Score) pour segmenter les profils.',Mt,ht,Wt='<p class="markdown"><strong class="markdown">Formule appliquÃ©e</strong> : <strong class="markdown">Z = (x - Moyenne) / Ã‰cart-type</strong></p>',Rt,ft,Ke,Ht,u,zt,At,ui='<a href="#-Ã©volution-du-volume-quotidien">ðŸ“ˆ Ã‰volution du Volume Quotidien</a>',Jt,Et,Pt,_e,Bt,Vt,nt,ci='<a href="#-conclusion-du-projet">ðŸŽ“ Conclusion du Projet</a>',Ut,et,mi='Ce dashboard dÃ©montre la capacitÃ© Ã  transformer des donnÃ©es brutes en <strong class="markdown">renseignement financier exploitable</strong> :',ut,He,Ct='<li class="markdown"><strong class="markdown">MaÃ®trise SQL</strong> : Usage intensif de CTEs, Self-Joins et fonctions analytiques.</li> <li class="markdown"><strong class="markdown">Sens mÃ©tier MIAGE</strong> : Application des statistiques Ã  la surveillance rÃ©glementaire.</li> <li class="markdown"><strong class="markdown">Performance</strong> : Traitement de volumes importants via l&#39;architecture DuckDB/Parquet.</li>',jt,Yt,Gt,_t,di='<em class="markdown">Charles Baudoux, Master MIAGE UniversitÃ© Paris Dauphine</em>',xt,st=typeof De<"u"&&De.title&&De.hide_title!==!0&&tr();function Ri(f,g){return typeof De<"u"&&De.title?lr:ir}let Dt=Ri()(l),rt=typeof De=="object"&&nr(),Pe=l[0]&&Yl(l);B=new Ki({props:{data:l[0],column:"total_trades",title:"Total Transactions"}}),Z=new Ki({props:{data:l[0],column:"unique_users",title:"Utilisateurs Distincts"}}),_=new Ki({props:{data:l[0],column:"total_volume",title:"Volume Global (â‚¬)",fmt:"eur"}}),F=new Ki({props:{data:l[0],column:"failed_trades",title:"Transactions Ã‰chouÃ©es"}});let Be=l[1]&&xl(l);H=new rl({props:{data:l[1],title:"DÃ©tection des Boucles de Wash Trading (Self-Join)"}});let Ue=l[2]&&Xl(l);Se=new zs({props:{data:l[2],x:"asset_id",y:"avg_slippage_pct",yFmt:"pct",title:"Analyse du Slippage Moyen par Actif"}});let Ge=l[3]&&Ql(l);Fe=new rl({props:{data:l[3],title:"Pics de Volume DÃ©tectÃ©s (> 3 Sigmas)"}});let qe=l[4]&&Jl(l);Ke=new rl({props:{data:l[4],title:"Segmentation des Profils de Risque (Z-Score)"}});let We=l[5]&&Kl(l);return Pt=new Hs({props:{data:l[5],x:"day",y:"volume",title:"Volume de Trading Quotidien (â‚¬)"}}),{c(){st&&st.c(),e=j(),Dt.c(),t=J("meta"),i=J("meta"),rt&&rt.c(),n=at(),s=j(),r=J("button"),r.innerHTML=o,a=j(),h=J("h1"),h.innerHTML=C,E=j(),w=J("p"),w.innerHTML=k,S=j(),m=J("hr"),L=j(),R=J("h2"),R.innerHTML=G,I=j(),Pe&&Pe.c(),z=j(),q=J("div"),ce(B.$$.fragment),$=j(),ce(Z.$$.fragment),U=j(),ce(_.$$.fragment),Y=j(),ce(F.$$.fragment),M=j(),W=J("p"),W.innerHTML=x,te=j(),me=J("hr"),de=j(),p=J("h2"),p.innerHTML=Ce,re=j(),K=J("p"),K.innerHTML=ie,ge=j(),Be&&Be.c(),be=j(),ce(H.$$.fragment),ne=j(),le=J("p"),le.innerHTML=Te,ee=j(),he=J("hr"),v=j(),ae=J("h2"),ae.innerHTML=ke,Ae=j(),ye=J("p"),ye.innerHTML=Xe,Ve=j(),Ue&&Ue.c(),we=j(),ce(Se.$$.fragment),Qe=j(),Me=J("p"),Me.innerHTML=T,Ie=j(),Le=J("hr"),Ze=j(),Re=J("h2"),Re.innerHTML=Je,je=j(),Ee=J("p"),Ee.innerHTML=pe,it=j(),Ge&&Ge.c(),Ye=j(),ce(Fe.$$.fragment),A=j(),se=J("p"),se.innerHTML=$e,y=j(),bt=J("hr"),yt=j(),tt=J("h2"),tt.innerHTML=qt,St=j(),ot=J("p"),ot.innerHTML=lt,Mt=j(),ht=J("blockquote"),ht.innerHTML=Wt,Rt=j(),qe&&qe.c(),ft=j(),ce(Ke.$$.fragment),Ht=j(),u=J("hr"),zt=j(),At=J("h2"),At.innerHTML=ui,Jt=j(),We&&We.c(),Et=j(),ce(Pt.$$.fragment),_e=j(),Bt=J("hr"),Vt=j(),nt=J("h2"),nt.innerHTML=ci,Ut=j(),et=J("p"),et.innerHTML=mi,ut=j(),He=J("ol"),He.innerHTML=Ct,jt=j(),Yt=J("hr"),Gt=j(),_t=J("p"),_t.innerHTML=di,this.h()},l(f){st&&st.l(f),e=V(f);const g=hn("svelte-2igo1p",document.head);Dt.l(g),t=Q(g,"META",{name:!0,content:!0}),i=Q(g,"META",{name:!0,content:!0}),rt&&rt.l(g),n=at(),g.forEach(d),s=V(f),r=Q(f,"BUTTON",{onclick:!0,style:!0,"data-svelte-h":!0}),Ne(r)!=="svelte-1wwcwrt"&&(r.innerHTML=o),a=V(f),h=Q(f,"H1",{class:!0,id:!0,"data-svelte-h":!0}),Ne(h)!=="svelte-6kw80a"&&(h.innerHTML=C),E=V(f),w=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(w)!=="svelte-1ev2td6"&&(w.innerHTML=k),S=V(f),m=Q(f,"HR",{class:!0}),L=V(f),R=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(R)!=="svelte-3wqnck"&&(R.innerHTML=G),I=V(f),Pe&&Pe.l(f),z=V(f),q=Q(f,"DIV",{style:!0});var ct=ve(q);ue(B.$$.fragment,ct),$=V(ct),ue(Z.$$.fragment,ct),U=V(ct),ue(_.$$.fragment,ct),Y=V(ct),ue(F.$$.fragment,ct),ct.forEach(d),M=V(f),W=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(W)!=="svelte-dm8g3x"&&(W.innerHTML=x),te=V(f),me=Q(f,"HR",{class:!0}),de=V(f),p=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(p)!=="svelte-1yzuibh"&&(p.innerHTML=Ce),re=V(f),K=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(K)!=="svelte-j8vump"&&(K.innerHTML=ie),ge=V(f),Be&&Be.l(f),be=V(f),ue(H.$$.fragment,f),ne=V(f),le=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(le)!=="svelte-lme8ez"&&(le.innerHTML=Te),ee=V(f),he=Q(f,"HR",{class:!0}),v=V(f),ae=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(ae)!=="svelte-zty99a"&&(ae.innerHTML=ke),Ae=V(f),ye=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(ye)!=="svelte-14zsibw"&&(ye.innerHTML=Xe),Ve=V(f),Ue&&Ue.l(f),we=V(f),ue(Se.$$.fragment,f),Qe=V(f),Me=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(Me)!=="svelte-161q66q"&&(Me.innerHTML=T),Ie=V(f),Le=Q(f,"HR",{class:!0}),Ze=V(f),Re=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(Re)!=="svelte-oa57oe"&&(Re.innerHTML=Je),je=V(f),Ee=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(Ee)!=="svelte-b4wrg6"&&(Ee.innerHTML=pe),it=V(f),Ge&&Ge.l(f),Ye=V(f),ue(Fe.$$.fragment,f),A=V(f),se=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(se)!=="svelte-10xwxwo"&&(se.innerHTML=$e),y=V(f),bt=Q(f,"HR",{class:!0}),yt=V(f),tt=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(tt)!=="svelte-si2sr9"&&(tt.innerHTML=qt),St=V(f),ot=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(ot)!=="svelte-hkl3lr"&&(ot.innerHTML=lt),Mt=V(f),ht=Q(f,"BLOCKQUOTE",{class:!0,"data-svelte-h":!0}),Ne(ht)!=="svelte-1qqesxi"&&(ht.innerHTML=Wt),Rt=V(f),qe&&qe.l(f),ft=V(f),ue(Ke.$$.fragment,f),Ht=V(f),u=Q(f,"HR",{class:!0}),zt=V(f),At=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(At)!=="svelte-20nnn5"&&(At.innerHTML=ui),Jt=V(f),We&&We.l(f),Et=V(f),ue(Pt.$$.fragment,f),_e=V(f),Bt=Q(f,"HR",{class:!0}),Vt=V(f),nt=Q(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),Ne(nt)!=="svelte-exy5xh"&&(nt.innerHTML=ci),Ut=V(f),et=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(et)!=="svelte-347sez"&&(et.innerHTML=mi),ut=V(f),He=Q(f,"OL",{class:!0,"data-svelte-h":!0}),Ne(He)!=="svelte-d6npur"&&(He.innerHTML=Ct),jt=V(f),Yt=Q(f,"HR",{class:!0}),Gt=V(f),_t=Q(f,"P",{class:!0,"data-svelte-h":!0}),Ne(_t)!=="svelte-1ctqmxj"&&(_t.innerHTML=di),this.h()},h(){O(t,"name","twitter:card"),O(t,"content","summary_large_image"),O(i,"name","twitter:site"),O(i,"content","@evidence_dev"),O(r,"onclick","const base = window.location.pathname.split('/projets/')[0]; window.top.location.href = window.location.origin + base + '/'; return false;"),D(r,"position","fixed"),D(r,"top","20px"),D(r,"left","20px"),D(r,"z-index","9999"),D(r,"display","inline-flex"),D(r,"align-items","center"),D(r,"gap","8px"),D(r,"padding","10px 16px"),D(r,"background","rgba(37, 99, 235, 0.85)"),D(r,"backdrop-filter","blur(10px)"),D(r,"border","1px solid rgba(255, 255, 255, 0.2)"),D(r,"border-radius","12px"),D(r,"color","white"),D(r,"cursor","pointer"),D(r,"font-family","ui-sans-serif, system-ui, sans-serif"),D(r,"font-size","14px"),D(r,"font-weight","600"),D(r,"box-shadow","0 4px 20px rgba(0, 0, 0, 0.15)"),D(r,"transition","all 0.2s ease"),O(h,"class","markdown"),O(h,"id","ï¸-sentinelsql--analyse-de-fraude-financiÃ¨re"),O(w,"class","markdown"),O(m,"class","markdown"),O(R,"class","markdown"),O(R,"id","-tableau-de-bord-de-risque-global"),D(q,"display","flex"),D(q,"gap","10px"),D(q,"flex-wrap","wrap"),D(q,"margin-bottom","20px"),O(W,"class","markdown"),O(me,"class","markdown"),O(p,"class","markdown"),O(p,"id","ï¸-dÃ©tection-de-wash-trading"),O(K,"class","markdown"),O(le,"class","markdown"),O(he,"class","markdown"),O(ae,"class","markdown"),O(ae,"id","-volatilitÃ©-relative--slippage"),O(ye,"class","markdown"),O(Me,"class","markdown"),O(Le,"class","markdown"),O(Re,"class","markdown"),O(Re,"id","-anomalies-de-volume-pics-statistiques"),O(Ee,"class","markdown"),O(se,"class","markdown"),O(bt,"class","markdown"),O(tt,"class","markdown"),O(tt,"id","-score-de-risque-utilisateur-z-score"),O(ot,"class","markdown"),O(ht,"class","markdown"),O(u,"class","markdown"),O(At,"class","markdown"),O(At,"id","-Ã©volution-du-volume-quotidien"),O(Bt,"class","markdown"),O(nt,"class","markdown"),O(nt,"id","-conclusion-du-projet"),O(et,"class","markdown"),O(He,"class","markdown"),O(Yt,"class","markdown"),O(_t,"class","markdown")},m(f,g){st&&st.m(f,g),b(f,e,g),Dt.m(document.head,null),xe(document.head,t),xe(document.head,i),rt&&rt.m(document.head,null),xe(document.head,n),b(f,s,g),b(f,r,g),b(f,a,g),b(f,h,g),b(f,E,g),b(f,w,g),b(f,S,g),b(f,m,g),b(f,L,g),b(f,R,g),b(f,I,g),Pe&&Pe.m(f,g),b(f,z,g),b(f,q,g),fe(B,q,null),xe(q,$),fe(Z,q,null),xe(q,U),fe(_,q,null),xe(q,Y),fe(F,q,null),b(f,M,g),b(f,W,g),b(f,te,g),b(f,me,g),b(f,de,g),b(f,p,g),b(f,re,g),b(f,K,g),b(f,ge,g),Be&&Be.m(f,g),b(f,be,g),fe(H,f,g),b(f,ne,g),b(f,le,g),b(f,ee,g),b(f,he,g),b(f,v,g),b(f,ae,g),b(f,Ae,g),b(f,ye,g),b(f,Ve,g),Ue&&Ue.m(f,g),b(f,we,g),fe(Se,f,g),b(f,Qe,g),b(f,Me,g),b(f,Ie,g),b(f,Le,g),b(f,Ze,g),b(f,Re,g),b(f,je,g),b(f,Ee,g),b(f,it,g),Ge&&Ge.m(f,g),b(f,Ye,g),fe(Fe,f,g),b(f,A,g),b(f,se,g),b(f,y,g),b(f,bt,g),b(f,yt,g),b(f,tt,g),b(f,St,g),b(f,ot,g),b(f,Mt,g),b(f,ht,g),b(f,Rt,g),qe&&qe.m(f,g),b(f,ft,g),fe(Ke,f,g),b(f,Ht,g),b(f,u,g),b(f,zt,g),b(f,At,g),b(f,Jt,g),We&&We.m(f,g),b(f,Et,g),fe(Pt,f,g),b(f,_e,g),b(f,Bt,g),b(f,Vt,g),b(f,nt,g),b(f,Ut,g),b(f,et,g),b(f,ut,g),b(f,He,g),b(f,jt,g),b(f,Yt,g),b(f,Gt,g),b(f,_t,g),xt=!0},p(f,g){typeof De<"u"&&De.title&&De.hide_title!==!0&&st.p(f,g),Dt.p(f,g),typeof De=="object"&&rt.p(f,g),f[0]?Pe?(Pe.p(f,g),g[0]&1&&N(Pe,1)):(Pe=Yl(f),Pe.c(),N(Pe,1),Pe.m(z.parentNode,z)):Pe&&(mt(),P(Pe,1,1,()=>{Pe=null}),dt());const ct={};g[0]&1&&(ct.data=f[0]),B.$set(ct);const hi={};g[0]&1&&(hi.data=f[0]),Z.$set(hi);const yi={};g[0]&1&&(yi.data=f[0]),_.$set(yi);const Xt={};g[0]&1&&(Xt.data=f[0]),F.$set(Xt),f[1]?Be?(Be.p(f,g),g[0]&2&&N(Be,1)):(Be=xl(f),Be.c(),N(Be,1),Be.m(be.parentNode,be)):Be&&(mt(),P(Be,1,1,()=>{Be=null}),dt());const Kt={};g[0]&2&&(Kt.data=f[1]),H.$set(Kt),f[2]?Ue?(Ue.p(f,g),g[0]&4&&N(Ue,1)):(Ue=Xl(f),Ue.c(),N(Ue,1),Ue.m(we.parentNode,we)):Ue&&(mt(),P(Ue,1,1,()=>{Ue=null}),dt());const Zt={};g[0]&4&&(Zt.data=f[2]),Se.$set(Zt),f[3]?Ge?(Ge.p(f,g),g[0]&8&&N(Ge,1)):(Ge=Ql(f),Ge.c(),N(Ge,1),Ge.m(Ye.parentNode,Ye)):Ge&&(mt(),P(Ge,1,1,()=>{Ge=null}),dt());const ti={};g[0]&8&&(ti.data=f[3]),Fe.$set(ti),f[4]?qe?(qe.p(f,g),g[0]&16&&N(qe,1)):(qe=Jl(f),qe.c(),N(qe,1),qe.m(ft.parentNode,ft)):qe&&(mt(),P(qe,1,1,()=>{qe=null}),dt());const ii={};g[0]&16&&(ii.data=f[4]),Ke.$set(ii),f[5]?We?(We.p(f,g),g[0]&32&&N(We,1)):(We=Kl(f),We.c(),N(We,1),We.m(Et.parentNode,Et)):We&&(mt(),P(We,1,1,()=>{We=null}),dt());const _i={};g[0]&32&&(_i.data=f[5]),Pt.$set(_i)},i(f){xt||(N(Pe),N(B.$$.fragment,f),N(Z.$$.fragment,f),N(_.$$.fragment,f),N(F.$$.fragment,f),N(Be),N(H.$$.fragment,f),N(Ue),N(Se.$$.fragment,f),N(Ge),N(Fe.$$.fragment,f),N(qe),N(Ke.$$.fragment,f),N(We),N(Pt.$$.fragment,f),xt=!0)},o(f){P(Pe),P(B.$$.fragment,f),P(Z.$$.fragment,f),P(_.$$.fragment,f),P(F.$$.fragment,f),P(Be),P(H.$$.fragment,f),P(Ue),P(Se.$$.fragment,f),P(Ge),P(Fe.$$.fragment,f),P(qe),P(Ke.$$.fragment,f),P(We),P(Pt.$$.fragment,f),xt=!1},d(f){f&&(d(e),d(s),d(r),d(a),d(h),d(E),d(w),d(S),d(m),d(L),d(R),d(I),d(z),d(q),d(M),d(W),d(te),d(me),d(de),d(p),d(re),d(K),d(ge),d(be),d(ne),d(le),d(ee),d(he),d(v),d(ae),d(Ae),d(ye),d(Ve),d(we),d(Qe),d(Me),d(Ie),d(Le),d(Ze),d(Re),d(je),d(Ee),d(it),d(Ye),d(A),d(se),d(y),d(bt),d(yt),d(tt),d(St),d(ot),d(Mt),d(ht),d(Rt),d(ft),d(Ht),d(u),d(zt),d(At),d(Jt),d(Et),d(_e),d(Bt),d(Vt),d(nt),d(Ut),d(et),d(ut),d(He),d(jt),d(Yt),d(Gt),d(_t)),st&&st.d(f),Dt.d(f),d(t),d(i),rt&&rt.d(f),d(n),Pe&&Pe.d(f),oe(B),oe(Z),oe(_),oe(F),Be&&Be.d(f),oe(H,f),Ue&&Ue.d(f),oe(Se,f),Ge&&Ge.d(f),oe(Fe,f),qe&&qe.d(f),oe(Ke,f),We&&We.d(f),oe(Pt,f)}}}const De={title:"SentinelSQL | DÃ©tection de Fraude Analytique",description:"Analytique SQL avancÃ©e pour dÃ©tecter le wash trading, les pics de volume et les manipulations de marchÃ©."};function or(l,e,t){let i,n;fi(l,Un,v=>t(32,i=v)),fi(l,Ml,v=>t(38,n=v));let{data:s}=e,{data:r={},customFormattingSettings:o,__db:a,inputs:h}=s;yn(Ml,n="6666cd76f96956469e7be39d750cc7d9",n);let C=In(cl(h));_n(C.subscribe(v=>h=v)),al(Pn,{getCustomFormats:()=>o.customFormats||[]});const E=(v,ae)=>Bn(a.query,v,{query_name:ae});Fn(E),i.params,gn(()=>!0);let w={initialData:void 0,initialError:void 0},k=Tt`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`,S=`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`;r.risk_summary_data&&(r.risk_summary_data instanceof Error?w.initialError=r.risk_summary_data:w.initialData=r.risk_summary_data,r.risk_summary_columns&&(w.knownColumns=r.risk_summary_columns));let m,L=!1;const R=kt.createReactive({callback:v=>{t(0,m=v)},execFn:E},{id:"risk_summary",...w});R(S,{noResolve:k,...w}),globalThis[Symbol.for("risk_summary")]={get value(){return m}};let G={initialData:void 0,initialError:void 0},I=Tt`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- SÃ©curitÃ© build Svelte : b > a Ã©vite l'interprÃ©tation de balise HTML
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- SÃ©curitÃ© build : 10 > sec_diff remplace sec_diff < 10
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 20`,z=`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- SÃ©curitÃ© build Svelte : b > a Ã©vite l'interprÃ©tation de balise HTML
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- SÃ©curitÃ© build : 10 > sec_diff remplace sec_diff < 10
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 20`;r.wash_events_data&&(r.wash_events_data instanceof Error?G.initialError=r.wash_events_data:G.initialData=r.wash_events_data,r.wash_events_columns&&(G.knownColumns=r.wash_events_columns));let q,B=!1;const $=kt.createReactive({callback:v=>{t(1,q=v)},execFn:E},{id:"wash_events",...G});$(z,{noResolve:I,...G}),globalThis[Symbol.for("wash_events")]={get value(){return q}};let Z={initialData:void 0,initialError:void 0},U=Tt`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    COUNT(*) AS trades,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- SÃ©curitÃ© build : 0.1 > slippage_pct (filtre les outliers > 10%)
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`,_=`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    COUNT(*) AS trades,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- SÃ©curitÃ© build : 0.1 > slippage_pct (filtre les outliers > 10%)
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`;r.slippage_summary_data&&(r.slippage_summary_data instanceof Error?Z.initialError=r.slippage_summary_data:Z.initialData=r.slippage_summary_data,r.slippage_summary_columns&&(Z.knownColumns=r.slippage_summary_columns));let Y,F=!1;const M=kt.createReactive({callback:v=>{t(2,Y=v)},execFn:E},{id:"slippage_summary",...Z});M(_,{noResolve:U,...Z}),globalThis[Symbol.for("slippage_summary")]={get value(){return Y}};let W={initialData:void 0,initialError:void 0},x=Tt`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 15`,te=`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 15`;r.spikes_data&&(r.spikes_data instanceof Error?W.initialError=r.spikes_data:W.initialData=r.spikes_data,r.spikes_columns&&(W.knownColumns=r.spikes_columns));let me,de=!1;const p=kt.createReactive({callback:v=>{t(3,me=v)},execFn:E},{id:"spikes",...W});p(te,{noResolve:x,...W}),globalThis[Symbol.for("spikes")]={get value(){return me}};let Ce={initialData:void 0,initialError:void 0},re=Tt`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY user_id
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT
    user_id,
    trade_count,
    ROUND(total_volume) AS volume_total,
    CASE
      WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
      WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
      ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 25`,K=`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY user_id
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT
    user_id,
    trade_count,
    ROUND(total_volume) AS volume_total,
    CASE
      WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
      WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
      ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 25`;r.risk_scores_data&&(r.risk_scores_data instanceof Error?Ce.initialError=r.risk_scores_data:Ce.initialData=r.risk_scores_data,r.risk_scores_columns&&(Ce.knownColumns=r.risk_scores_columns));let ie,ge=!1;const be=kt.createReactive({callback:v=>{t(4,ie=v)},execFn:E},{id:"risk_scores",...Ce});be(K,{noResolve:re,...Ce}),globalThis[Symbol.for("risk_scores")]={get value(){return ie}};let H={initialData:void 0,initialError:void 0},ne=Tt`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`,le=`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`;r.daily_volume_data&&(r.daily_volume_data instanceof Error?H.initialError=r.daily_volume_data:H.initialData=r.daily_volume_data,r.daily_volume_columns&&(H.knownColumns=r.daily_volume_columns));let Te,ee=!1;const he=kt.createReactive({callback:v=>{t(5,Te=v)},execFn:E},{id:"daily_volume",...H});return he(le,{noResolve:ne,...H}),globalThis[Symbol.for("daily_volume")]={get value(){return Te}},l.$$set=v=>{"data"in v&&t(6,s=v.data)},l.$$.update=()=>{l.$$.dirty[0]&64&&t(7,{data:r={},customFormattingSettings:o,__db:a}=s,r),l.$$.dirty[0]&128&&Hn.set(Object.keys(r).length>0),l.$$.dirty[1]&2&&i.params,l.$$.dirty[0]&3840&&(k||!L?k||(R(S,{noResolve:k,...w}),t(11,L=!0)):R(S,{noResolve:k})),l.$$.dirty[0]&61440&&(I||!B?I||($(z,{noResolve:I,...G}),t(15,B=!0)):$(z,{noResolve:I})),l.$$.dirty[0]&983040&&(U||!F?U||(M(_,{noResolve:U,...Z}),t(19,F=!0)):M(_,{noResolve:U})),l.$$.dirty[0]&15728640&&(x||!de?x||(p(te,{noResolve:x,...W}),t(23,de=!0)):p(te,{noResolve:x})),l.$$.dirty[0]&251658240&&(re||!ge?re||(be(K,{noResolve:re,...Ce}),t(27,ge=!0)):be(K,{noResolve:re})),l.$$.dirty[0]&1879048192|l.$$.dirty[1]&1&&(ne||!ee?ne||(he(le,{noResolve:ne,...H}),t(31,ee=!0)):he(le,{noResolve:ne}))},t(9,k=Tt`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`),t(10,S=`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`),t(13,I=Tt`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- SÃ©curitÃ© build Svelte : b > a Ã©vite l'interprÃ©tation de balise HTML
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- SÃ©curitÃ© build : 10 > sec_diff remplace sec_diff < 10
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 20`),t(14,z=`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- SÃ©curitÃ© build Svelte : b > a Ã©vite l'interprÃ©tation de balise HTML
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- SÃ©curitÃ© build : 10 > sec_diff remplace sec_diff < 10
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 20`),t(17,U=Tt`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    COUNT(*) AS trades,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- SÃ©curitÃ© build : 0.1 > slippage_pct (filtre les outliers > 10%)
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`),t(18,_=`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    COUNT(*) AS trades,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- SÃ©curitÃ© build : 0.1 > slippage_pct (filtre les outliers > 10%)
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`),t(21,x=Tt`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 15`),t(22,te=`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 15`),t(25,re=Tt`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY user_id
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT
    user_id,
    trade_count,
    ROUND(total_volume) AS volume_total,
    CASE
      WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
      WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
      ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 25`),t(26,K=`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY user_id
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT
    user_id,
    trade_count,
    ROUND(total_volume) AS volume_total,
    CASE
      WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
      WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
      ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 25`),t(29,ne=Tt`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`),t(30,le=`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`),[m,q,Y,me,ie,Te,s,r,w,k,S,L,G,I,z,B,Z,U,_,F,W,x,te,de,Ce,re,K,ge,H,ne,le,ee,i]}class _r extends Lt{constructor(e){super(),Ot(this,e,or,ar,wt,{data:6},null,[-1,-1])}}export{_r as component};
