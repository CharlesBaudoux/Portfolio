import{s as bt,q as Oe,d as _,i as k,f as it,ad as _i,G as mt,R as M,F as Vt,b as D,e as p,r as Ze,k as $,E as ml,c as X,j as x,I as jt,C as cn,a as Ve,g as tt,z as zt,ae as Ol,l as Yt,aj as mn,af as Pt,ag as gi,M as dn,D as dl,t as ni,u as si,S as Ni,T as Ii,n as al,v as Ei,w as Ci,x as Ti,y as ki,ak as Zl,h as hn,m as yn,o as _n,p as gn}from"../chunks/scheduler.DOwO_r-Y.js";import{S as St,i as At,h as bn,d as fe,t as B,a as N,g as rt,c as at,m as ue,b as ce,e as me}from"../chunks/index.Yeb2f34e.js";import{aa as bi,ab as Sn,ac as An,ad as hl,ae as yl,af as vl,ag as En,h as Bt,f as Cn,ah as Tn,t as pl,ai as Ft,aj as kn,ak as wn,al as sl,am as ol,an as fl,a7 as Ue,ao as ul,w as Bi,ap as On,aq as wt,ar as It,as as Fi,y as Ot,at as $l,au as _l,av as gl,aw as en,ax as tn,Q as gt,a2 as ln,a5 as nn,ay as sn,az as Ln,aA as Rn,aB as Mn,aC as Dn,a9 as Nn,D as rl,e as In,s as Fn,p as Pn,a as Ll,r as Rl,C as Bn}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.gMt3JZZt.js";import{w as cl}from"../chunks/entry.CJ0FOa_6.js";import{h as _t,p as Hn}from"../chunks/setTrackProxy.DjIbdjlZ.js";import{p as Un}from"../chunks/stores.BgLXZNbb.js";import{Q as ai}from"../chunks/QueryViewer.C6G1ZQSr.js";function Ml(l){return t=>t.map(i=>{var n;const s={},r=Object.keys(i);for(const o of r){const a=(n=l[o])!=null?n:o;s[a]=i[o]}return s})}function Gn(l,e){if(l.length===0||e.length===0)return{};const t=Object.keys(l[0]),i=Object.keys(e[0]),n={};for(const s of t)i.includes(s)&&(n[s]=s);return n}function Wn(l,e,t){for(const i in t){const n=t[i];if(l[n]!==e[i])return!1}return!0}function qn(l,e){return i=>{if(!l.length)return i;const n=Gn(i,l),s=Object.keys(l[0]);return i.flatMap(o=>{const a=l.filter(C=>Wn(o,C,n));if(a.length)return a.map(C=>({...o,...C}));const d=Object.fromEntries(s.filter(C=>o[C]==null).map(C=>[C,void 0]));return{...o,...d}})}}function Dl(l){return t=>{const i=t.map(n=>({...n}));for(const n in l){const s=l[n],r=typeof s=="function"?s(i):s,o=r!=null&&r[Symbol.iterator]&&typeof r!="string"?r:t.map(()=>r);let a=-1;for(const d of i)d[n]=o[++a]}return i}}function zn(l){return t=>{const i=jn(l),n=[];for(const s in i){const r=i[s];let o;typeof r=="function"?o=r(t):Array.isArray(r)?o=r:o=Array.from(new Set(t.map(a=>a[s]))),n.push(o.map(a=>({[s]:a})))}return Vn(n)}}function Vn(l){function e(i,n,s){if(!s.length&&n!=null){i.push(n);return}const r=s[0],o=s.slice(1);for(const a of r)e(i,{...n,...a},o)}const t=[];return e(t,null,l),t}function jn(l){if(Array.isArray(l)){const e={};for(const t of l)e[t]=t;return e}else if(typeof l=="object")return l;return{[l]:l}}function rn(l){return t=>{const i=[];for(const n of t){const s={...n};for(const r in l)s[r]==null&&(s[r]=l[r]);i.push(s)}return i}}function Nl(l,e){return i=>{const n=zn(l)(i),s=qn(i)(n);return e?rn(e)(s):s}}function Il(l,e,t){return l==null||e==null?void 0:e===0&&l===0?0:!t&&e===0?void 0:l/e}function Fl(l,e,t){const i=typeof l=="function"?l:o=>o[l],n=o=>o[e],{predicate:s,allowDivideByZero:r}={};return s==null?(o,a,d)=>{const C=n(o),S=i(o,a,d);return Il(S,C,r)}:(o,a,d)=>{if(!s(o,a,d))return;const C=n(o),S=i(o,a,d);return Il(S,C,r)}}const ri=Symbol.for("__evidence-chart-window-debug__"),Yn=(l,e)=>{window[ri]||(window[ri]={}),window[ri][l]=e},Xn=l=>{window[ri]||(window[ri]={}),delete window[ri][l]},li=500,xn=(l,e)=>{var b;const t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)&&l.clientWidth*3*l.clientHeight*3>16777215;bi("light",yl),bi("dark",vl);let i;const n=()=>{i=hl(l,e.theme,{renderer:t?"svg":e.renderer??"canvas"})};n(),Yn(i.id,i),e.connectGroup&&(i.group=e.connectGroup,Sn(e.connectGroup));const s=()=>{if(e.seriesColors){const m=i.getOption();if(!m)return;const O={...m};for(const R of Object.keys(e.seriesColors)){const G=m.series.findIndex(I=>I.name===R);G!==-1&&(O.series[G]={...O.series[G],itemStyle:{...O.series[G].itemStyle,color:e.seriesColors[R]}})}i.setOption(O)}},r=()=>{e.echartsOptions&&i.setOption({...e.echartsOptions})},o=()=>{let m=[];if(e.seriesOptions){const O=e.config.series.reduce((R,{evidenceSeriesType:G},I)=>((G==="reference_line"||G==="reference_area"||G==="reference_point")&&R.push(I),R),[]);for(let R=0;R<e.config.series.length;R++)O.includes(R)?m.push({}):m.push({...e.seriesOptions});i.setOption({series:m})}};i.setOption({...e.config,animationDuration:li,animationDurationUpdate:li}),s(),r(),o();const a=e.dispatch;i.on("click",function(m){a("click",m)});const d=l.parentElement,C=An(()=>{i.resize({animation:{duration:li}}),w()},100);let S;window.ResizeObserver&&d?(S=new ResizeObserver(C),S.observe(d)):window.addEventListener("resize",C);const w=()=>{if(e.showAllXAxisLabels){const m=i.getOption();if(!m)return;const O=new Set(m.series.flatMap(I=>{var z;return(z=I.data)==null?void 0:z.map(W=>W[0])})),R=4/5,G=(l==null?void 0:l.clientWidth)??0;if(!e.swapXY){const I={xAxis:{axisLabel:{interval:0,overflow:e.xAxisLabelOverflow,width:G*R/O.size}}};i.setOption(I)}}},T=m=>{m.theme!==e.theme&&(i.dispose(),e=m,n()),e=m,i.setOption({...e.config,animationDuration:li,animationDurationUpdate:li},!0),s(),r(),o(),i.resize({animation:{duration:li}}),w()};return C(),window[b=Symbol.for("chart renders")]??(window[b]=0),window[Symbol.for("chart renders")]++,{update(m){window[Symbol.for("chart renders")]++,T(m)},destroy(){S?S.unobserve(d):window.removeEventListener("resize",C),i.dispose(),Xn(i.id)}}},Qn=(l,e)=>{bi("light",yl),bi("dark",vl),console.log("echartsCanvasDownloadAction",e.theme);const t=hl(l,e.theme,{renderer:"canvas"});e.config.animation=!1,t.setOption(e.config);const i=()=>{if(e.seriesColors){const d=t.getOption();if(!d)return;const C={...d};for(const S of Object.keys(e.seriesColors)){const w=d.series.findIndex(T=>T.name===S);w!==-1&&(C.series[w]={...C.series[w],itemStyle:{...C.series[w].itemStyle,color:e.seriesColors[S]}})}t.setOption(C)}},n=()=>{e.echartsOptions&&t.setOption({...e.echartsOptions})},s=()=>{let d=[];if(e.seriesOptions){const C=e.config.series.reduce((S,{evidenceSeriesType:w},T)=>((w==="reference_line"||w==="reference_area"||w==="reference_point")&&S.push(T),S),[]);for(let S=0;S<e.config.series.length;S++)C.includes(S)?d.push({}):d.push({...e.seriesOptions});t.setOption({series:d})}};n(),i(),s();let r=t.getConnectedDataURL({type:"png",pixelRatio:3,backgroundColor:e.backgroundColor,excludeComponents:["toolbox"]});const o=new Date,a=new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,19).replaceAll(":","-");return En(r,(e.evidenceChartTitle??e.queryID??"evidence-chart")+`_${a}.png`),t.dispose(),{destroy(){t.dispose()}}},Si=(l,e)=>{bi("evidence-light",yl);const{config:t,ratio:i,echartsOptions:n,seriesOptions:s,seriesColors:r,isMap:o,extraHeight:a,width:d}=e;let C={renderer:"canvas"};o&&(C.height=d*.5+a,l&&l.parentNode&&(l.style.height=C.height+"px",l.parentNode.style.height=C.height+"px"));const S=hl(l,"evidence-light",C);t.animation=!1,S.setOption(t),n&&S.setOption(n);const w=()=>{if(r){const O=S.getOption();if(!O)return;const R={...O};for(const G of Object.keys(r)){const I=O.series.findIndex(z=>z.name===G);I!==-1&&(R.series[I]={...R.series[I],itemStyle:{...R.series[I].itemStyle,color:r[G]}})}S.setOption(R)}},T=()=>{n&&S.setOption({...n})},b=()=>{let O=[];if(s){const R=t.series.reduce((G,{evidenceSeriesType:I},z)=>((I==="reference_line"||I==="reference_area"||I==="reference_point")&&G.push(z),G),[]);for(let G=0;G<t.series.length;G++)R.includes(G)?O.push({}):O.push({...s});S.setOption({series:O})}};T(),w(),b();let m=S.getConnectedDataURL({type:"jpeg",pixelRatio:i,backgroundColor:"#fff",excludeComponents:["toolbox"]});l.innerHTML=`<img src=${m} width="100%" style="
        position: absolute; 
        top: 0;
        user-select: all;
        -webkit-user-select: all;
        -moz-user-select: all;
        -ms-user-select: all;
    " />`,e.config.animation=!0};function Jn(l){let e;function t(s,r){return s[9]?vn:Zn}let i=t(l),n=i(l);return{c(){n.c(),e=it()},l(s){n.l(s),e=it()},m(s,r){n.m(s,r),k(s,e,r)},p(s,r){i===(i=t(s))&&n?n.p(s,r):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&_(e),n.d(s)}}}function Kn(l){let e,t,i,n;return{c(){e=$("div"),this.h()},l(s){e=p(s,"DIV",{class:!0,style:!0}),Ze(e).forEach(_),this.h()},h(){D(e,"class","chart"),M(e,"height",l[1]),M(e,"width",l[2]),M(e,"margin-left","0"),M(e,"margin-top","15px"),M(e,"margin-bottom","10px"),M(e,"overflow","visible"),M(e,"break-inside","avoid")},m(s,r){k(s,e,r),i||(n=Vt(t=Si.call(null,e,{config:l[0],ratio:2,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13]})),i=!0)},p(s,r){r&2&&M(e,"height",s[1]),r&4&&M(e,"width",s[2]),t&&jt(t.update)&&r&8289&&t.update.call(null,{config:s[0],ratio:2,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[13]})},d(s){s&&_(e),i=!1,n()}}}function Zn(l){let e,t,i,n,s,r,o;return{c(){e=$("div"),i=x(),n=$("div"),this.h()},l(a){e=p(a,"DIV",{class:!0,style:!0}),Ze(e).forEach(_),i=X(a),n=p(a,"DIV",{class:!0,style:!0}),Ze(n).forEach(_),this.h()},h(){D(e,"class","chart md:hidden"),M(e,"height",l[1]),M(e,"width","650px"),M(e,"margin-left","0"),M(e,"margin-top","15px"),M(e,"margin-bottom","10px"),M(e,"overflow","visible"),M(e,"break-inside","avoid"),D(n,"class","chart hidden md:block"),M(n,"height",l[1]),M(n,"width","841px"),M(n,"margin-left","0"),M(n,"margin-top","15px"),M(n,"margin-bottom","10px"),M(n,"overflow","visible"),M(n,"break-inside","avoid")},m(a,d){k(a,e,d),k(a,i,d),k(a,n,d),r||(o=[Vt(t=Si.call(null,e,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:650})),Vt(s=Si.call(null,n,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:841}))],r=!0)},p(a,d){d&2&&M(e,"height",a[1]),t&&jt(t.update)&&d&8673&&t.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:650}),d&2&&M(n,"height",a[1]),s&&jt(s.update)&&d&8673&&s.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:841})},d(a){a&&(_(e),_(i),_(n)),r=!1,ml(o)}}}function vn(l){let e,t,i,n,s,r,o;return{c(){e=$("div"),i=x(),n=$("div"),this.h()},l(a){e=p(a,"DIV",{class:!0,style:!0}),Ze(e).forEach(_),i=X(a),n=p(a,"DIV",{class:!0,style:!0}),Ze(n).forEach(_),this.h()},h(){D(e,"class","chart md:hidden"),M(e,"height",l[1]),M(e,"width",l[11]+"px"),M(e,"margin-left","0"),M(e,"margin-top","15px"),M(e,"margin-bottom","10px"),M(e,"overflow","visible"),M(e,"break-inside","avoid"),D(n,"class","chart hidden md:block"),M(n,"height",l[1]),M(n,"width",l[10]+"px"),M(n,"margin-left","0"),M(n,"margin-top","15px"),M(n,"margin-bottom","10px"),M(n,"overflow","visible"),M(n,"break-inside","avoid")},m(a,d){k(a,e,d),k(a,i,d),k(a,n,d),r||(o=[Vt(t=Si.call(null,e,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:l[11]})),Vt(s=Si.call(null,n,{config:l[0],ratio:4,echartsOptions:l[5],seriesOptions:l[6],seriesColors:l[13],isMap:l[7],extraHeight:l[8],width:l[10]}))],r=!0)},p(a,d){d&2&&M(e,"height",a[1]),d&2048&&M(e,"width",a[11]+"px"),t&&jt(t.update)&&d&10721&&t.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:a[11]}),d&2&&M(n,"height",a[1]),d&1024&&M(n,"width",a[10]+"px"),s&&jt(s.update)&&d&9697&&s.update.call(null,{config:a[0],ratio:4,echartsOptions:a[5],seriesOptions:a[6],seriesColors:a[13],isMap:a[7],extraHeight:a[8],width:a[10]})},d(a){a&&(_(e),_(i),_(n)),r=!1,ml(o)}}}function pn(l){let e;function t(s,r){if(s[3])return Kn;if(s[4])return Jn}let i=t(l),n=i&&i(l);return{c(){n&&n.c(),e=it()},l(s){n&&n.l(s),e=it()},m(s,r){n&&n.m(s,r),k(s,e,r)},p(s,[r]){i===(i=t(s))&&n?n.p(s,r):(n&&n.d(1),n=i&&i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Oe,o:Oe,d(s){s&&_(e),n&&n.d(s)}}}function $n(l,e,t){let i,n,s,r,o,a,d=Oe,C=()=>(d(),d=mt(i,y=>t(13,a=y)),i);l.$$.on_destroy.push(()=>d());const{resolveColorsObject:S}=Bt();let{config:w=void 0}=e,{height:T="291px"}=e,{width:b="100%"}=e,{copying:m=!1}=e,{printing:O=!1}=e,{echartsOptions:R=void 0}=e,{seriesOptions:G=void 0}=e,{seriesColors:I=void 0}=e,{isMap:z=!1}=e,{extraHeight:W=void 0}=e,H=!1,te,J;const U=_i("gridConfig");return U&&(H=!0,{cols:te,gapWidth:J}=U),l.$$set=y=>{"config"in y&&t(0,w=y.config),"height"in y&&t(1,T=y.height),"width"in y&&t(2,b=y.width),"copying"in y&&t(3,m=y.copying),"printing"in y&&t(4,O=y.printing),"echartsOptions"in y&&t(5,R=y.echartsOptions),"seriesOptions"in y&&t(6,G=y.seriesOptions),"seriesColors"in y&&t(14,I=y.seriesColors),"isMap"in y&&t(7,z=y.isMap),"extraHeight"in y&&t(8,W=y.extraHeight)},l.$$.update=()=>{l.$$.dirty&16384&&C(t(12,i=S(I))),l.$$.dirty&32768&&t(18,n=Math.min(Number(te),2)),l.$$.dirty&327680&&t(11,s=(650-Number(J)*(n-1))/n),l.$$.dirty&32768&&t(17,r=Math.min(Number(te),3)),l.$$.dirty&196608&&t(10,o=(841-Number(J)*(r-1))/r)},[w,T,b,m,O,R,G,z,W,H,o,s,i,a,I,te,J,r,n]}class es extends St{constructor(e){super(),At(this,e,$n,pn,bt,{config:0,height:1,width:2,copying:3,printing:4,echartsOptions:5,seriesOptions:6,seriesColors:14,isMap:7,extraHeight:8})}}function ts(l){let e,t,i="Loading...",n,s,r;return{c(){e=$("div"),t=$("span"),t.textContent=i,n=x(),s=$("div"),this.h()},l(o){e=p(o,"DIV",{role:!0,class:!0});var a=Ze(e);t=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-1wtojot"&&(t.textContent=i),n=X(a),s=p(a,"DIV",{class:!0,style:!0}),Ze(s).forEach(_),a.forEach(_),this.h()},h(){D(t,"class","sr-only"),D(s,"class","bg-base-100 rounded-md max-w-[100%]"),M(s,"height",l[0]),M(s,"margin-top","15px"),M(s,"margin-bottom","31px"),D(e,"role","status"),D(e,"class","animate-pulse")},m(o,a){k(o,e,a),Ve(e,t),Ve(e,n),Ve(e,s)},p(o,[a]){a&1&&M(s,"height",o[0])},i(o){o&&(r||cn(()=>{r=bn(e,Cn,{}),r.start()}))},o:Oe,d(o){o&&_(e)}}}function is(l,e,t){let{height:i="231px"}=e;return l.$$set=n=>{"height"in n&&t(0,i=n.height)},[i]}class ls extends St{constructor(e){super(),At(this,e,is,ts,bt,{height:0})}}function Pl(l){let e,t,i,n;const s=[ss,ns],r=[];function o(a,d){return 1}return e=o(),t=r[e]=s[e](l),{c(){t.c(),i=it()},l(a){t.l(a),i=it()},m(a,d){r[e].m(a,d),k(a,i,d),n=!0},p(a,d){t.p(a,d)},i(a){n||(N(t),n=!0)},o(a){B(t),n=!1},d(a){a&&_(i),r[e].d(a)}}}function ns(l){let e,t,i,n;return{c(){e=$("div"),this.h()},l(s){e=p(s,"DIV",{class:!0,style:!0}),Ze(e).forEach(_),this.h()},h(){D(e,"class","chart svelte-19r8f8"),M(e,"height",l[3]),M(e,"width",l[4]),M(e,"overflow","visible"),M(e,"display",l[15]?"none":"inherit")},m(s,r){k(s,e,r),i||(n=Vt(t=xn.call(null,e,{config:l[0],...l[25],echartsOptions:l[9],seriesOptions:l[10],dispatch:l[24],renderer:l[6],connectGroup:l[12],xAxisLabelOverflow:l[13],seriesColors:l[19],theme:l[20]})),i=!0)},p(s,r){r[0]&8&&M(e,"height",s[3]),r[0]&16&&M(e,"width",s[4]),r[0]&32768&&M(e,"display",s[15]?"none":"inherit"),t&&jt(t.update)&&r[0]&35141185&&t.update.call(null,{config:s[0],...s[25],echartsOptions:s[9],seriesOptions:s[10],dispatch:s[24],renderer:s[6],connectGroup:s[12],xAxisLabelOverflow:s[13],seriesColors:s[19],theme:s[20]})},i:Oe,o:Oe,d(s){s&&_(e),i=!1,n()}}}function ss(l){let e,t;return e=new ls({props:{height:l[3]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.height=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Bl(l){let e,t,i,n=l[8]&&Hl(l),s=l[5]&&l[7]&&Ul(l);return{c(){e=$("div"),n&&n.c(),t=x(),s&&s.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=Ze(e);n&&n.l(o),t=X(o),s&&s.l(o),o.forEach(_),this.h()},h(){D(e,"class","chart-footer svelte-19r8f8")},m(r,o){k(r,e,o),n&&n.m(e,null),Ve(e,t),s&&s.m(e,null),i=!0},p(r,o){r[8]?n?(n.p(r,o),o[0]&256&&N(n,1)):(n=Hl(r),n.c(),N(n,1),n.m(e,t)):n&&(rt(),B(n,1,1,()=>{n=null}),at()),r[5]&&r[7]?s?(s.p(r,o),o[0]&160&&N(s,1)):(s=Ul(r),s.c(),N(s,1),s.m(e,null)):s&&(rt(),B(s,1,1,()=>{s=null}),at())},i(r){i||(N(n),N(s),i=!0)},o(r){B(n),B(s),i=!1},d(r){r&&_(e),n&&n.d(),s&&s.d()}}}function Hl(l){let e,t;return e=new pl({props:{text:"Save Image",class:"download-button",downloadData:l[32],display:l[17],queryID:l[1],$$slots:{default:[rs]},$$scope:{ctx:l}}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&16384&&(s.downloadData=i[32]),n[0]&131072&&(s.display=i[17]),n[0]&2&&(s.queryID=i[1]),n[1]&32&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function rs(l){let e,t,i,n;return{c(){e=Ii("svg"),t=Ii("rect"),i=Ii("circle"),n=Ii("path"),this.h()},l(s){e=Ni(s,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=Ze(e);t=Ni(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),Ze(t).forEach(_),i=Ni(r,"circle",{cx:!0,cy:!0,r:!0}),Ze(i).forEach(_),n=Ni(r,"path",{d:!0}),Ze(n).forEach(_),r.forEach(_),this.h()},h(){D(t,"x","3"),D(t,"y","3"),D(t,"width","18"),D(t,"height","18"),D(t,"rx","2"),D(i,"cx","8.5"),D(i,"cy","8.5"),D(i,"r","1.5"),D(n,"d","M20.4 14.5L16 10 4 20"),D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"width","12"),D(e,"height","12"),D(e,"viewBox","0 0 24 24"),D(e,"fill","none"),D(e,"stroke","#000"),D(e,"stroke-width","2"),D(e,"stroke-linecap","round"),D(e,"stroke-linejoin","round")},m(s,r){k(s,e,r),Ve(e,t),Ve(e,i),Ve(e,n)},p:Oe,d(s){s&&_(e)}}}function Ul(l){let e,t;return e=new pl({props:{text:"Download Data",data:l[5],queryID:l[1],class:"download-button",display:l[17]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&32&&(s.data=i[5]),n[0]&2&&(s.queryID=i[1]),n[0]&131072&&(s.display=i[17]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Gl(l){let e,t;return e=new Tn({props:{source:JSON.stringify(l[0],void 0,3),copyToClipboard:!0,$$slots:{default:[as]},$$scope:{ctx:l}}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&1&&(s.source=JSON.stringify(i[0],void 0,3)),n[0]&1|n[1]&32&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function as(l){let e=JSON.stringify(l[0],void 0,3)+"",t;return{c(){t=si(e)},l(i){t=ni(i,e)},m(i,n){k(i,t,n)},p(i,n){n[0]&1&&e!==(e=JSON.stringify(i[0],void 0,3)+"")&&dl(t,e)},d(i){i&&_(t)}}}function Wl(l){let e,t,i,n;return{c(){e=$("div"),this.h()},l(s){e=p(s,"DIV",{class:!0,style:!0}),Ze(e).forEach(_),this.h()},h(){D(e,"class","chart svelte-19r8f8"),M(e,"display","none"),M(e,"visibility","visible"),M(e,"height",l[3]),M(e,"width","666px"),M(e,"margin-left","0"),M(e,"margin-top","15px"),M(e,"margin-bottom","15px"),M(e,"overflow","visible")},m(s,r){k(s,e,r),i||(n=Vt(t=Qn.call(null,e,{config:l[0],...l[25],echartsOptions:l[9],seriesOptions:l[10],seriesColors:l[19],queryID:l[1],evidenceChartTitle:l[2],theme:l[20],backgroundColor:l[21].colors["base-100"]})),i=!0)},p(s,r){r[0]&8&&M(e,"height",s[3]),t&&jt(t.update)&&r[0]&37225991&&t.update.call(null,{config:s[0],...s[25],echartsOptions:s[9],seriesOptions:s[10],seriesColors:s[19],queryID:s[1],evidenceChartTitle:s[2],theme:s[20],backgroundColor:s[21].colors["base-100"]})},d(s){s&&_(e),i=!1,n()}}}function os(l){let e,t,i,n,s,r,o,a,d,C,S=!l[16]&&Pl(l);i=new es({props:{config:l[0],height:l[3],width:l[4],copying:l[15],printing:l[16],echartsOptions:l[9],seriesOptions:l[10],seriesColors:l[18]}});let w=(l[7]||l[8])&&Bl(l),T=l[11]&&!l[16]&&Gl(l),b=l[14]&&Wl(l);return{c(){e=$("div"),S&&S.c(),t=x(),me(i.$$.fragment),n=x(),w&&w.c(),s=x(),T&&T.c(),r=x(),b&&b.c(),o=it(),this.h()},l(m){e=p(m,"DIV",{role:!0,class:!0});var O=Ze(e);S&&S.l(O),t=X(O),ce(i.$$.fragment,O),n=X(O),w&&w.l(O),s=X(O),T&&T.l(O),O.forEach(_),r=X(m),b&&b.l(m),o=it(),this.h()},h(){D(e,"role","none"),D(e,"class","chart-container mt-2 mb-3 svelte-19r8f8")},m(m,O){k(m,e,O),S&&S.m(e,null),Ve(e,t),ue(i,e,null),Ve(e,n),w&&w.m(e,null),Ve(e,s),T&&T.m(e,null),k(m,r,O),b&&b.m(m,O),k(m,o,O),a=!0,d||(C=[zt(window,"copy",l[27]),zt(window,"beforeprint",l[28]),zt(window,"afterprint",l[29]),zt(window,"export-beforeprint",l[30]),zt(window,"export-afterprint",l[31]),zt(e,"mouseenter",l[33]),zt(e,"mouseleave",l[34])],d=!0)},p(m,O){m[16]?S&&(rt(),B(S,1,1,()=>{S=null}),at()):S?(S.p(m,O),O[0]&65536&&N(S,1)):(S=Pl(m),S.c(),N(S,1),S.m(e,t));const R={};O[0]&1&&(R.config=m[0]),O[0]&8&&(R.height=m[3]),O[0]&16&&(R.width=m[4]),O[0]&32768&&(R.copying=m[15]),O[0]&65536&&(R.printing=m[16]),O[0]&512&&(R.echartsOptions=m[9]),O[0]&1024&&(R.seriesOptions=m[10]),O[0]&262144&&(R.seriesColors=m[18]),i.$set(R),m[7]||m[8]?w?(w.p(m,O),O[0]&384&&N(w,1)):(w=Bl(m),w.c(),N(w,1),w.m(e,s)):w&&(rt(),B(w,1,1,()=>{w=null}),at()),m[11]&&!m[16]?T?(T.p(m,O),O[0]&67584&&N(T,1)):(T=Gl(m),T.c(),N(T,1),T.m(e,null)):T&&(rt(),B(T,1,1,()=>{T=null}),at()),m[14]?b?b.p(m,O):(b=Wl(m),b.c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null)},i(m){a||(N(S),N(i.$$.fragment,m),N(w),N(T),a=!0)},o(m){B(S),B(i.$$.fragment,m),B(w),B(T),a=!1},d(m){m&&(_(e),_(r),_(o)),S&&S.d(),fe(i),w&&w.d(),T&&T.d(),b&&b.d(m),d=!1,ml(C)}}}function fs(l,e,t){let i;const n=["config","queryID","evidenceChartTitle","height","width","data","renderer","downloadableData","downloadableImage","echartsOptions","seriesOptions","printEchartsConfig","seriesColors","connectGroup","xAxisLabelOverflow"];let s=Ol(e,n),r,o=Oe,a=()=>(o(),o=mt(i,P=>t(19,r=P)),i),d,C;l.$$.on_destroy.push(()=>o());const{activeAppearance:S,theme:w,resolveColorsObject:T}=Bt();Yt(l,S,P=>t(20,d=P)),Yt(l,w,P=>t(21,C=P));let{config:b=void 0}=e,{queryID:m=void 0}=e,{evidenceChartTitle:O=void 0}=e,{height:R="291px"}=e,{width:G="100%"}=e,{data:I}=e,{renderer:z=void 0}=e,{downloadableData:W=void 0}=e,{downloadableImage:H=void 0}=e,{echartsOptions:te=void 0}=e,{seriesOptions:J=void 0}=e,{printEchartsConfig:U}=e,{seriesColors:y=void 0}=e,{connectGroup:V=void 0}=e,{xAxisLabelOverflow:F=void 0}=e;const L=mn();let q=!1,j=!1,ie=!1,de=!1;const he=()=>{t(15,j=!0),dn(),setTimeout(()=>{t(15,j=!1)},0)},ee=()=>t(16,ie=!0),Ee=()=>t(16,ie=!1),ae=()=>t(16,ie=!0),Q=()=>t(16,ie=!1),le=()=>{t(14,q=!0),setTimeout(()=>{t(14,q=!1)},0)},ye=()=>t(17,de=!0),_e=()=>t(17,de=!1);return l.$$set=P=>{e=Pt(Pt({},e),gi(P)),t(25,s=Ol(e,n)),"config"in P&&t(0,b=P.config),"queryID"in P&&t(1,m=P.queryID),"evidenceChartTitle"in P&&t(2,O=P.evidenceChartTitle),"height"in P&&t(3,R=P.height),"width"in P&&t(4,G=P.width),"data"in P&&t(5,I=P.data),"renderer"in P&&t(6,z=P.renderer),"downloadableData"in P&&t(7,W=P.downloadableData),"downloadableImage"in P&&t(8,H=P.downloadableImage),"echartsOptions"in P&&t(9,te=P.echartsOptions),"seriesOptions"in P&&t(10,J=P.seriesOptions),"printEchartsConfig"in P&&t(11,U=P.printEchartsConfig),"seriesColors"in P&&t(26,y=P.seriesColors),"connectGroup"in P&&t(12,V=P.connectGroup),"xAxisLabelOverflow"in P&&t(13,F=P.xAxisLabelOverflow)},l.$$.update=()=>{l.$$.dirty[0]&67108864&&a(t(18,i=T(y)))},[b,m,O,R,G,I,z,W,H,te,J,U,V,F,q,j,ie,de,i,r,d,C,S,w,L,s,y,he,ee,Ee,ae,Q,le,ye,_e]}class us extends St{constructor(e){super(),At(this,e,fs,os,bt,{config:0,queryID:1,evidenceChartTitle:2,height:3,width:4,data:5,renderer:6,downloadableData:7,downloadableImage:8,echartsOptions:9,seriesOptions:10,printEchartsConfig:11,seriesColors:26,connectGroup:12,xAxisLabelOverflow:13},null,[-1,-1])}}function Ai(l,e){const t=new Set(l.map(i=>i[e]));return Array.from(t)}function cs(l,e){return Ft(l,kn({count:wn(e)}))[0].count}function ms(l,e,t){let i;if(typeof t!="object")i=Ft(l,ol(e,Dl({xTotal:fl(t)})),sl({percentOfX:Fl(t,"xTotal")}),Ml({percentOfX:t+"_pct"}));else{i=Ft(l,sl({valueSum:0}));for(let n=0;n<i.length;n++){i[n].valueSum=0;for(let s=0;s<t.length;s++)i[n].valueSum=i[n].valueSum+i[n][t[s]]}i=Ft(i,ol(e,Dl({xTotal:fl("valueSum")})));for(let n=0;n<t.length;n++)i=Ft(i,sl({percentOfX:Fl(t[n],"xTotal")}),Ml({percentOfX:t[n]+"_pct"}))}return i}function yi(l,e,t){return[...l].sort((i,n)=>(i[e]<n[e]?-1:1)*(t?1:-1))}function an(l,e,t){const i=e+t;return l%i<e?0:1}function ds(l){let e,t;return e=new en({props:{error:l[14],title:l[8]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&16384&&(s.error=i[14]),n[0]&256&&(s.title=i[8]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function hs(l){let e,t,i;const n=l[136].default,s=Ei(n,l,l[135],null);return t=new us({props:{config:l[20],height:l[15],width:l[13],data:l[0],queryID:l[6],evidenceChartTitle:l[7],showAllXAxisLabels:l[1],swapXY:l[3],echartsOptions:l[9],seriesOptions:l[10],printEchartsConfig:l[2],renderer:l[11],downloadableData:l[4],downloadableImage:l[5],connectGroup:l[12],xAxisLabelOverflow:l[23],seriesColors:l[16]}}),{c(){s&&s.c(),e=x(),me(t.$$.fragment)},l(r){s&&s.l(r),e=X(r),ce(t.$$.fragment,r)},m(r,o){s&&s.m(r,o),k(r,e,o),ue(t,r,o),i=!0},p(r,o){s&&s.p&&(!i||o[4]&2048)&&Ci(s,n,r,r[135],i?ki(n,r[135],o,null):Ti(r[135]),null);const a={};o[0]&1048576&&(a.config=r[20]),o[0]&32768&&(a.height=r[15]),o[0]&8192&&(a.width=r[13]),o[0]&1&&(a.data=r[0]),o[0]&64&&(a.queryID=r[6]),o[0]&128&&(a.evidenceChartTitle=r[7]),o[0]&2&&(a.showAllXAxisLabels=r[1]),o[0]&8&&(a.swapXY=r[3]),o[0]&512&&(a.echartsOptions=r[9]),o[0]&1024&&(a.seriesOptions=r[10]),o[0]&4&&(a.printEchartsConfig=r[2]),o[0]&2048&&(a.renderer=r[11]),o[0]&16&&(a.downloadableData=r[4]),o[0]&32&&(a.downloadableImage=r[5]),o[0]&4096&&(a.connectGroup=r[12]),o[0]&65536&&(a.seriesColors=r[16]),t.$set(a)},i(r){i||(N(s,r),N(t.$$.fragment,r),i=!0)},o(r){B(s,r),B(t.$$.fragment,r),i=!1},d(r){r&&_(e),s&&s.d(r),fe(t,r)}}}function ys(l){let e,t,i,n;const s=[hs,ds],r=[];function o(a,d){return a[14]?1:0}return e=o(l),t=r[e]=s[e](l),{c(){t.c(),i=it()},l(a){t.l(a),i=it()},m(a,d){r[e].m(a,d),k(a,i,d),n=!0},p(a,d){let C=e;e=o(a),e===C?r[e].p(a,d):(rt(),B(r[C],1,1,()=>{r[C]=null}),at(),t=r[e],t?t.p(a,d):(t=r[e]=s[e](a),t.c()),N(t,1),t.m(i.parentNode,i))},i(a){n||(N(t),n=!0)},o(a){B(t),n=!1},d(a){a&&_(i),r[e].d(a)}}}function _s(l,e,t){let i,n,s,r,o,a=Oe,d=()=>(a(),a=mt(s,c=>t(131,o=c)),s),C,S,w=Oe,T=()=>(w(),w=mt(n,c=>t(133,S=c)),n),b,m=Oe,O=()=>(m(),m=mt(i,c=>t(134,b=c)),i),R;l.$$.on_destroy.push(()=>a()),l.$$.on_destroy.push(()=>w()),l.$$.on_destroy.push(()=>m());let{$$slots:G={},$$scope:I}=e,z=cl({}),W=cl({});Yt(l,W,c=>t(20,R=c));const{theme:H,resolveColor:te,resolveColorsObject:J,resolveColorPalette:U}=Bt();Yt(l,H,c=>t(132,C=c));let{data:y=void 0}=e,{queryID:V=void 0}=e,{x:F=void 0}=e,{y:L=void 0}=e,{y2:q=void 0}=e,{series:j=void 0}=e,{size:ie=void 0}=e,{tooltipTitle:de=void 0}=e,{showAllXAxisLabels:he=void 0}=e,{printEchartsConfig:ee=!1}=e,Ee=!!L,ae=!!F,{swapXY:Q=!1}=e,{title:le=void 0}=e,{subtitle:ye=void 0}=e,{chartType:_e="Chart"}=e,{bubble:P=!1}=e,{hist:ne=!1}=e,{boxplot:se=!1}=e,be,{xType:Z=void 0}=e,{xAxisTitle:Se="false"}=e,{xBaseline:K=!0}=e,{xTickMarks:oe=!1}=e,{xGridlines:Ce=!1}=e,{xAxisLabels:Ae=!0}=e,{sort:ge=!0}=e,{xFmt:Te=void 0}=e,{xMin:Ge=void 0}=e,{xMax:Le=void 0}=e,{yLog:Re=!1}=e,{yType:Me=Re===!0?"log":"value"}=e,{yLogBase:Je=10}=e,{yAxisTitle:E="false"}=e,{yBaseline:ke=!1}=e,{yTickMarks:Fe=!1}=e,{yGridlines:Ye=!0}=e,{yAxisLabels:We=!0}=e,{yMin:we=void 0}=e,{yMax:qe=void 0}=e,{yScale:De=!1}=e,{yFmt:Xe=void 0}=e,{yAxisColor:xe="true"}=e,{y2AxisTitle:ve="false"}=e,{y2Baseline:Ke=!1}=e,{y2TickMarks:g=!1}=e,{y2Gridlines:re=!0}=e,{y2AxisLabels:Qe=!0}=e,{y2Min:h=void 0}=e,{y2Max:Et=void 0}=e,{y2Scale:pe=!1}=e,{y2Fmt:Ct=void 0}=e,{y2AxisColor:Tt="true"}=e,{sizeFmt:ot=void 0}=e,{colorPalette:lt="default"}=e,{legend:$e=void 0}=e,{echartsOptions:dt=void 0}=e,{seriesOptions:Lt=void 0}=e,{seriesColors:nt=void 0}=e,{stackType:Mt=void 0}=e,{stacked100:ft=!1}=e,{chartAreaHeight:ze}=e,{renderer:Ht=void 0}=e,{downloadableData:u=!0}=e,{downloadableImage:Rt=!0}=e,{connectGroup:ht=void 0}=e,{leftPadding:Be=void 0}=e,{rightPadding:He=void 0}=e,{xLabelWrap:Ne=!1}=e;const je=Ne?"break":"truncate";let v,Pe,f=[],A=[],st,Nt,ut,Xt,ct,et,yt,Ut,xt,oi,wi,Ui,Oi,Qt,Gi,Wi,fi,Jt,qi,zi,Vi,ji,Yi,Xi,xi,Qi,Ji,Ki,Zi,Kt,ui,ci,Li,Ri,vi,pi,Zt,$i,el,Mi,bl,tl,Gt=[],vt=!0,Dt=[],mi=[],kt,di,il,Wt;return l.$$set=c=>{"data"in c&&t(0,y=c.data),"queryID"in c&&t(6,V=c.queryID),"x"in c&&t(24,F=c.x),"y"in c&&t(25,L=c.y),"y2"in c&&t(49,q=c.y2),"series"in c&&t(50,j=c.series),"size"in c&&t(51,ie=c.size),"tooltipTitle"in c&&t(52,de=c.tooltipTitle),"showAllXAxisLabels"in c&&t(1,he=c.showAllXAxisLabels),"printEchartsConfig"in c&&t(2,ee=c.printEchartsConfig),"swapXY"in c&&t(3,Q=c.swapXY),"title"in c&&t(7,le=c.title),"subtitle"in c&&t(53,ye=c.subtitle),"chartType"in c&&t(8,_e=c.chartType),"bubble"in c&&t(54,P=c.bubble),"hist"in c&&t(55,ne=c.hist),"boxplot"in c&&t(56,se=c.boxplot),"xType"in c&&t(26,Z=c.xType),"xAxisTitle"in c&&t(27,Se=c.xAxisTitle),"xBaseline"in c&&t(28,K=c.xBaseline),"xTickMarks"in c&&t(29,oe=c.xTickMarks),"xGridlines"in c&&t(30,Ce=c.xGridlines),"xAxisLabels"in c&&t(31,Ae=c.xAxisLabels),"sort"in c&&t(32,ge=c.sort),"xFmt"in c&&t(57,Te=c.xFmt),"xMin"in c&&t(58,Ge=c.xMin),"xMax"in c&&t(59,Le=c.xMax),"yLog"in c&&t(33,Re=c.yLog),"yType"in c&&t(60,Me=c.yType),"yLogBase"in c&&t(61,Je=c.yLogBase),"yAxisTitle"in c&&t(34,E=c.yAxisTitle),"yBaseline"in c&&t(35,ke=c.yBaseline),"yTickMarks"in c&&t(36,Fe=c.yTickMarks),"yGridlines"in c&&t(37,Ye=c.yGridlines),"yAxisLabels"in c&&t(38,We=c.yAxisLabels),"yMin"in c&&t(62,we=c.yMin),"yMax"in c&&t(63,qe=c.yMax),"yScale"in c&&t(39,De=c.yScale),"yFmt"in c&&t(64,Xe=c.yFmt),"yAxisColor"in c&&t(65,xe=c.yAxisColor),"y2AxisTitle"in c&&t(40,ve=c.y2AxisTitle),"y2Baseline"in c&&t(41,Ke=c.y2Baseline),"y2TickMarks"in c&&t(42,g=c.y2TickMarks),"y2Gridlines"in c&&t(43,re=c.y2Gridlines),"y2AxisLabels"in c&&t(44,Qe=c.y2AxisLabels),"y2Min"in c&&t(66,h=c.y2Min),"y2Max"in c&&t(67,Et=c.y2Max),"y2Scale"in c&&t(45,pe=c.y2Scale),"y2Fmt"in c&&t(68,Ct=c.y2Fmt),"y2AxisColor"in c&&t(69,Tt=c.y2AxisColor),"sizeFmt"in c&&t(70,ot=c.sizeFmt),"colorPalette"in c&&t(71,lt=c.colorPalette),"legend"in c&&t(46,$e=c.legend),"echartsOptions"in c&&t(9,dt=c.echartsOptions),"seriesOptions"in c&&t(10,Lt=c.seriesOptions),"seriesColors"in c&&t(72,nt=c.seriesColors),"stackType"in c&&t(73,Mt=c.stackType),"stacked100"in c&&t(74,ft=c.stacked100),"chartAreaHeight"in c&&t(47,ze=c.chartAreaHeight),"renderer"in c&&t(11,Ht=c.renderer),"downloadableData"in c&&t(4,u=c.downloadableData),"downloadableImage"in c&&t(5,Rt=c.downloadableImage),"connectGroup"in c&&t(12,ht=c.connectGroup),"leftPadding"in c&&t(75,Be=c.leftPadding),"rightPadding"in c&&t(76,He=c.rightPadding),"xLabelWrap"in c&&t(48,Ne=c.xLabelWrap),"$$scope"in c&&t(135,I=c.$$scope)},l.$$.update=()=>{var c,Sl,Al,El,Cl,Tl;if(l.$$.dirty[0]&4&&t(2,ee=Ue(ee)),l.$$.dirty[0]&8&&t(3,Q=Ue(Q)),l.$$.dirty[0]&268435456&&t(28,K=Ue(K)),l.$$.dirty[0]&536870912&&t(29,oe=Ue(oe)),l.$$.dirty[0]&1073741824&&t(30,Ce=Ue(Ce)),l.$$.dirty[1]&1&&t(31,Ae=Ue(Ae)),l.$$.dirty[1]&2&&t(32,ge=Ue(ge)),l.$$.dirty[1]&4&&t(33,Re=Ue(Re)),l.$$.dirty[1]&16&&t(35,ke=Ue(ke)),l.$$.dirty[1]&32&&t(36,Fe=Ue(Fe)),l.$$.dirty[1]&64&&t(37,Ye=Ue(Ye)),l.$$.dirty[1]&128&&t(38,We=Ue(We)),l.$$.dirty[1]&256&&t(39,De=Ue(De)),l.$$.dirty[2]&8&&O(t(19,i=te(xe))),l.$$.dirty[1]&1024&&t(41,Ke=Ue(Ke)),l.$$.dirty[1]&2048&&t(42,g=Ue(g)),l.$$.dirty[1]&4096&&t(43,re=Ue(re)),l.$$.dirty[1]&8192&&t(44,Qe=Ue(Qe)),l.$$.dirty[1]&16384&&t(45,pe=Ue(pe)),l.$$.dirty[2]&128&&T(t(18,n=te(Tt))),l.$$.dirty[2]&512&&d(t(17,s=U(lt))),l.$$.dirty[2]&1024&&t(16,r=J(nt)),l.$$.dirty[0]&16&&t(4,u=Ue(u)),l.$$.dirty[0]&32&&t(5,Rt=Ue(Rt)),l.$$.dirty[1]&131072&&t(48,Ne=Ue(Ne)),l.$$.dirty[0]&2130731403|l.$$.dirty[1]&2147352575|l.$$.dirty[2]&2147481975|l.$$.dirty[3]&2147483647|l.$$.dirty[4]&2047)try{if(t(14,di=void 0),t(124,Gt=[]),t(83,A=[]),t(126,Dt=[]),t(127,mi=[]),t(85,Nt=[]),t(77,Ee=!!L),t(78,ae=!!F),ul(y),t(80,v=Bi(y)),t(81,Pe=Object.keys(v)),ae||t(24,F=Pe[0]),!Ee){t(82,f=Pe.filter(function(Y){return![F,j,ie].includes(Y)}));for(let Y=0;Y<f.length;Y++)t(85,Nt=f[Y]),t(84,st=v[Nt].type),st==="number"&&A.push(Nt);t(25,L=A.length>1?A:A[0])}P?t(79,be={x:F,y:L,size:ie}):ne?t(79,be={x:F}):se?t(79,be={}):t(79,be={x:F,y:L});for(let Y in be)be[Y]==null&&Gt.push(Y);if(Gt.length===1)throw Error(new Intl.ListFormat().format(Gt)+" is required");if(Gt.length>1)throw Error(new Intl.ListFormat().format(Gt)+" are required");if(ft===!0&&L.includes("_pct")&&vt===!1)if(typeof L=="object"){for(let Y=0;Y<L.length;Y++)t(25,L[Y]=L[Y].replace("_pct",""),L);t(125,vt=!1)}else t(25,L=L.replace("_pct","")),t(125,vt=!1);if(F&&Dt.push(F),L)if(typeof L=="object")for(t(128,kt=0);kt<L.length;t(128,kt++,kt))Dt.push(L[kt]);else Dt.push(L);if(q)if(typeof q=="object")for(t(128,kt=0);kt<q.length;t(128,kt++,kt))Dt.push(q[kt]);else Dt.push(q);if(ie&&Dt.push(ie),j&&mi.push(j),de&&mi.push(de),ul(y,Dt,mi),ft===!0){if(t(0,y=ms(y,F,L)),typeof L=="object"){for(let Y=0;Y<L.length;Y++)t(25,L[Y]=L[Y]+"_pct",L);t(125,vt=!1)}else t(25,L=L+"_pct"),t(125,vt=!1);t(80,v=Bi(y))}switch(t(86,ut=v[F].type),ut){case"number":t(86,ut="value");break;case"string":t(86,ut="category");break;case"date":t(86,ut="time");break;default:break}if(t(26,Z=Z==="category"?"category":ut),he?t(1,he=he==="true"||he===!0):t(1,he=Z==="category"),Q&&Z!=="category")throw Error("Horizontal charts do not support a value or time-based x-axis. You can either change your SQL query to output string values or set swapXY=false.");if(Q&&q)throw Error("Horizontal charts do not support a secondary y-axis. You can either set swapXY=false or remove the y2 prop from your chart.");if(Q&&t(26,Z="category"),t(87,Xt=ut==="value"&&Z==="category"),t(0,y=ge?ut==="category"?yi(y,L,!1):yi(y,F,!0):y),ut==="time"&&t(0,y=yi(y,F,!0)),t(129,il=Bi(y,"array")),t(130,Wt=il.filter(Y=>Y.type==="date")),t(130,Wt=Wt.map(Y=>Y.id)),Wt.length>0)for(let Y=0;Y<Wt.length;Y++)t(0,y=On(y,Wt[Y]));Te?t(88,ct=wt(Te,(c=v[F].format)==null?void 0:c.valueType)):t(88,ct=v[F].format),L?Xe?typeof L=="object"?t(89,et=wt(Xe,(Sl=v[L[0]].format)==null?void 0:Sl.valueType)):t(89,et=wt(Xe,(Al=v[L].format)==null?void 0:Al.valueType)):typeof L=="object"?t(89,et=v[L[0]].format):t(89,et=v[L].format):t(89,et="str"),q&&(Ct?typeof q=="object"?t(90,yt=wt(Ct,(El=v[q[0]].format)==null?void 0:El.valueType)):t(90,yt=wt(Ct,(Cl=v[q].format)==null?void 0:Cl.valueType)):typeof q=="object"?t(90,yt=v[q[0]].format):t(90,yt=v[q].format)),ie&&(ot?t(91,Ut=wt(ot,(Tl=v[ie].format)==null?void 0:Tl.valueType)):t(91,Ut=v[ie].format)),t(92,xt=v[F].columnUnitSummary),L&&(typeof L=="object"?t(93,oi=v[L[0]].columnUnitSummary):t(93,oi=v[L].columnUnitSummary)),q&&(typeof q=="object"?t(94,wi=v[q[0]].columnUnitSummary):t(94,wi=v[q].columnUnitSummary)),t(27,Se=Se==="true"?It(F,ct):Se==="false"?"":Se),t(34,E=E==="true"?typeof L=="object"?"":It(L,et):E==="false"?"":E),t(40,ve=ve==="true"?typeof q=="object"?"":It(q,yt):ve==="false"?"":ve);let pt=typeof L=="object"?L.length:1,kl=j?cs(y,j):1,hi=pt*kl,ll=typeof q=="object"?q.length:q?1:0,nl=hi+ll;if($e!==void 0&&t(46,$e=$e==="true"||$e===!0),t(46,$e=$e??nl>1),ft===!0&&Re===!0)throw Error("Log axis cannot be used in a 100% stacked chart");if(Mt==="stacked"&&nl>1&&Re===!0)throw Error("Log axis cannot be used in a stacked chart");let $t;if(typeof L=="object"){$t=v[L[0]].columnUnitSummary.min;for(let Y=0;Y<L.length;Y++)v[L[Y]].columnUnitSummary.min<$t&&($t=v[L[Y]].columnUnitSummary.min)}else L&&($t=v[L].columnUnitSummary.min);if(Re===!0&&$t<=0&&$t!==null)throw Error("Log axis cannot display values less than or equal to zero");z.update(Y=>({...Y,data:y,x:F,y:L,y2:q,series:j,swapXY:Q,sort:ge,xType:Z,xFormat:ct,yFormat:et,y2Format:yt,sizeFormat:Ut,xMismatch:Xt,size:ie,yMin:we,y2Min:h,columnSummary:v,xAxisTitle:Se,yAxisTitle:E,y2AxisTitle:ve,tooltipTitle:de,chartAreaHeight:ze,chartType:_e,yCount:pt,y2Count:ll})),t(95,Ui=Ai(y,F));let wl;if(Q?t(96,Oi={type:Me,logBase:Je,position:"top",axisLabel:{show:We,hideOverlap:!0,showMaxLabel:!0,formatter(Y){return Fi(Y,et,oi)},margin:4},min:we,max:qe,scale:De,splitLine:{show:Ye},axisLine:{show:ke,onZero:!1},axisTick:{show:Fe},boundaryGap:!1,z:2}):t(96,Oi={type:Z,min:Ge,max:Le,tooltip:{show:!0,position:"inside",formatter(Y){if(Y.isTruncated())return Y.name}},splitLine:{show:Ce},axisLine:{show:K},axisTick:{show:oe},axisLabel:{show:Ae,hideOverlap:!0,showMaxLabel:Z==="category"||Z==="value",formatter:Z==="time"||Z==="category"?!1:function(Y){return Fi(Y,ct,xt)},margin:6},scale:!0,z:2}),Q?t(97,Qt={type:Z,inverse:"true",splitLine:{show:Ce},axisLine:{show:K},axisTick:{show:oe},axisLabel:{show:Ae,hideOverlap:!0},scale:!0,min:Ge,max:Le,z:2}):(t(97,Qt={type:Me,logBase:Je,splitLine:{show:Ye},axisLine:{show:ke,onZero:!1},axisTick:{show:Fe},axisLabel:{show:We,hideOverlap:!0,margin:4,formatter(Y){return Fi(Y,et,oi)},color:q?b==="true"?o[0]:b!=="false"?b:void 0:void 0},name:E,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0],color:q?b==="true"?o[0]:b!=="false"?b:void 0:void 0},nameGap:6,min:we,max:qe,scale:De,boundaryGap:["0%","1%"],z:2}),wl={type:"value",show:!1,alignTicks:!0,splitLine:{show:re},axisLine:{show:Ke,onZero:!1},axisTick:{show:g},axisLabel:{show:Qe,hideOverlap:!0,margin:4,formatter(Y){return Fi(Y,yt,wi)},color:S==="true"?o[hi]:S!=="false"?S:void 0},name:ve,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,0,0,5],color:S==="true"?o[hi]:S!=="false"?S:void 0},nameGap:6,min:h,max:Et,scale:pe,boundaryGap:["0%","1%"],z:2},t(97,Qt=[Qt,wl])),ze){if(t(47,ze=Number(ze)),isNaN(ze))throw Error("chartAreaHeight must be a number");if(ze<=0)throw Error("chartAreaHeight must be a positive number")}else t(47,ze=180);t(100,fi=!!le),t(101,Jt=!!ye),t(102,qi=$e*(j!==null||typeof L=="object"&&L.length>1)),t(103,zi=E!==""&&Q),t(104,Vi=Se!==""&&!Q),t(105,ji=15),t(106,Yi=13),t(107,Xi=6*Jt),t(108,xi=fi*ji+Jt*Yi+Xi*Math.max(fi,Jt)),t(109,Qi=10),t(110,Ji=10),t(111,Ki=14),t(112,Zi=14),t(113,Kt=15),t(113,Kt=Kt*qi),t(114,ui=7),t(114,ui=ui*Math.max(fi,Jt)),t(115,ci=xi+ui),t(116,Li=ci+Kt+Zi*zi+Qi),t(117,Ri=Vi*Ki+Ji),t(121,$i=8),t(123,Mi=1),Q&&(t(122,el=Ui.length),t(123,Mi=Math.max(1,el/$i))),t(118,vi=ze*Mi+Li+Ri),t(119,pi=ci+Kt+7),t(15,bl=vi+"px"),t(13,tl="100%"),t(120,Zt=Q?E:Se),Zt!==""&&t(120,Zt=Zt+" â†’"),t(98,Gi={id:"horiz-axis-title",type:"text",style:{text:Zt,textAlign:"right",fill:C.colors["base-content-muted"]},cursor:"auto",right:Q?"2%":"3%",top:Q?pi:null,bottom:Q?null:"2%"}),t(99,Wi={title:{text:le,subtext:ye,subtextStyle:{width:tl}},tooltip:{trigger:"axis",show:!0,formatter(Y){let ei,ti,ii,Di;if(nl>1){ti=Y[0].value[Q?1:0],ei=`<span id="tooltip" style='font-weight: 600;'>${Ot(ti,ct)}</span>`;for(let qt=Y.length-1;qt>=0;qt--)Y[qt].seriesName!=="stackTotal"&&(ii=Y[qt].value[Q?0:1],ei=ei+`<br> <span style='font-size: 11px;'>${Y[qt].marker} ${Y[qt].seriesName}<span/><span style='float:right; margin-left: 10px; font-size: 12px;'>${Ot(ii,an(Y[qt].componentIndex,pt,ll)===0?et:yt)}</span>`)}else Z==="value"?(ti=Y[0].value[Q?1:0],ii=Y[0].value[Q?0:1],Di=Y[0].seriesName,ei=`<span id="tooltip" style='font-weight: 600;'>${It(F,ct)}: </span><span style='float:right; margin-left: 10px;'>${Ot(ti,ct)}</span><br/><span style='font-weight: 600;'>${It(Di,et)}: </span><span style='float:right; margin-left: 10px;'>${Ot(ii,et)}</span>`):(ti=Y[0].value[Q?1:0],ii=Y[0].value[Q?0:1],Di=Y[0].seriesName,ei=`<span id="tooltip" style='font-weight: 600;'>${Ot(ti,ct)}</span><br/><span>${It(Di,et)}: </span><span style='float:right; margin-left: 10px;'>${Ot(ii,et)}</span>`);return ei},confine:!0,axisPointer:{type:"shadow"},extraCssText:'box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1; font-feature-settings: "cv02", "tnum";',order:"valueDesc"},legend:{show:$e,type:"scroll",top:ci,padding:[0,0,0,0],data:[]},grid:{left:Be??(Q?"1%":"0.8%"),right:He??(Q?"4%":"3%"),bottom:Ri,top:Li,containLabel:!0},xAxis:Oi,yAxis:Qt,series:[],animation:!0,graphic:Gi,color:o}),W.update(()=>Wi)}catch(pt){if(t(14,di=pt.message),console.error("\x1B[31m%s\x1B[0m",`Error in ${_e}: ${pt.message}`),$l)throw di;z.update(hi=>({...hi,error:di}))}l.$$.dirty[0]&1},al(_l,z),al(gl,W),[y,he,ee,Q,u,Rt,V,le,_e,dt,Lt,Ht,ht,tl,di,bl,r,s,n,i,R,W,H,je,F,L,Z,Se,K,oe,Ce,Ae,ge,Re,E,ke,Fe,Ye,We,De,ve,Ke,g,re,Qe,pe,$e,ze,Ne,q,j,ie,de,ye,P,ne,se,Te,Ge,Le,Me,Je,we,qe,Xe,xe,h,Et,Ct,Tt,ot,lt,nt,Mt,ft,Be,He,Ee,ae,be,v,Pe,f,A,st,Nt,ut,Xt,ct,et,yt,Ut,xt,oi,wi,Ui,Oi,Qt,Gi,Wi,fi,Jt,qi,zi,Vi,ji,Yi,Xi,xi,Qi,Ji,Ki,Zi,Kt,ui,ci,Li,Ri,vi,pi,Zt,$i,el,Mi,Gt,vt,Dt,mi,kt,il,Wt,o,C,S,b,I,G]}class gs extends St{constructor(e){super(),At(this,e,_s,ys,bt,{data:0,queryID:6,x:24,y:25,y2:49,series:50,size:51,tooltipTitle:52,showAllXAxisLabels:1,printEchartsConfig:2,swapXY:3,title:7,subtitle:53,chartType:8,bubble:54,hist:55,boxplot:56,xType:26,xAxisTitle:27,xBaseline:28,xTickMarks:29,xGridlines:30,xAxisLabels:31,sort:32,xFmt:57,xMin:58,xMax:59,yLog:33,yType:60,yLogBase:61,yAxisTitle:34,yBaseline:35,yTickMarks:36,yGridlines:37,yAxisLabels:38,yMin:62,yMax:63,yScale:39,yFmt:64,yAxisColor:65,y2AxisTitle:40,y2Baseline:41,y2TickMarks:42,y2Gridlines:43,y2AxisLabels:44,y2Min:66,y2Max:67,y2Scale:45,y2Fmt:68,y2AxisColor:69,sizeFmt:70,colorPalette:71,legend:46,echartsOptions:9,seriesOptions:10,seriesColors:72,stackType:73,stacked100:74,chartAreaHeight:47,renderer:11,downloadableData:4,downloadableImage:5,connectGroup:12,leftPadding:75,rightPadding:76,xLabelWrap:48},null,[-1,-1,-1,-1,-1])}}function bs(l){let e;const t=l[7].default,i=Ei(t,l,l[8],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&256)&&Ci(i,t,n,n[8],e?ki(t,n[8],s,null):Ti(n[8]),null)},i(n){e||(N(i,n),e=!0)},o(n){B(i,n),e=!1},d(n){i&&i.d(n)}}}function Ss(l){let e,t;const i=[l[5],{data:gt.isQuery(l[11])?Array.from(l[11]):l[11]},{queryID:l[6]}];let n={$$slots:{default:[bs]},$$scope:{ctx:l}};for(let s=0;s<i.length;s+=1)n=Pt(n,i[s]);return e=new gs({props:n}),{c(){me(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,r){ue(e,s,r),t=!0},p(s,r){const o=r&2144?ln(i,[r&32&&nn(s[5]),r&2048&&{data:gt.isQuery(s[11])?Array.from(s[11]):s[11]},r&64&&{queryID:s[6]}]):{};r&256&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function As(l){let e,t;return e=new sn({props:{slot:"empty",emptyMessage:l[2],emptySet:l[1],chartType:l[5].chartType,isInitial:l[4]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n&4&&(s.emptyMessage=i[2]),n&2&&(s.emptySet=i[1]),n&32&&(s.chartType=i[5].chartType),n&16&&(s.isInitial=i[4]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Es(l){let e,t;return e=new en({props:{slot:"error",title:l[5].chartType,error:l[11].error.message}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n&32&&(s.title=i[5].chartType),n&2048&&(s.error=i[11].error.message),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Cs(l){let e,t;return e=new tn({props:{data:l[0],height:l[3],$$slots:{error:[Es,({loaded:i})=>({11:i}),({loaded:i})=>i?2048:0],empty:[As],default:[Ss,({loaded:i})=>({11:i}),({loaded:i})=>i?2048:0]},$$scope:{ctx:l}}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,[n]){const s={};n&1&&(s.data=i[0]),n&8&&(s.height=i[3]),n&2358&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Ts(l,e,t){let i,{$$slots:n={},$$scope:s}=e,{data:r}=e;const o=gt.isQuery(r)?r.hash:void 0;let a=(r==null?void 0:r.hash)===o,{emptySet:d=void 0}=e,{emptyMessage:C=void 0}=e,{height:S=200}=e,w=r==null?void 0:r.id;return l.$$set=T=>{t(10,e=Pt(Pt({},e),gi(T))),"data"in T&&t(0,r=T.data),"emptySet"in T&&t(1,d=T.emptySet),"emptyMessage"in T&&t(2,C=T.emptyMessage),"height"in T&&t(3,S=T.height),"$$scope"in T&&t(8,s=T.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(4,a=(r==null?void 0:r.hash)===o),t(5,i={...Object.fromEntries(Object.entries(e).filter(([,T])=>T!==void 0))})},e=gi(e),[r,d,C,S,a,i,w,n,s]}class on extends St{constructor(e){super(),At(this,e,Ts,Cs,bt,{data:0,emptySet:1,emptyMessage:2,height:3})}}function fn(l,e,t,i,n,s,r,o,a,d,C=void 0,S=void 0,w=void 0,T=void 0){function b(y,V,F,L){let q={name:V,data:y,yAxisIndex:F};return q={...L,...q},q}let m,O,R,G=[],I,z,W,H,te;function J(y,V){const F=[];function L(j){return typeof j>"u"}function q(j,ie){L(j)||(Array.isArray(j)?j.forEach(de=>F.push([de,ie])):F.push([j,ie]))}return q(y,0),q(V,1),F}let U=J(t,w);if(i!=null&&U.length===1)for(H=Ai(l,i),m=0;m<H.length;m++){if(z=l.filter(y=>y[i]===H[m]),n?I=z.map(y=>[y[U[0][0]],o?y[e].toString():y[e]]):I=z.map(y=>[o?y[e].toString():y[e],y[U[0][0]]]),C){let y=z.map(V=>V[C]);I.forEach((V,F)=>V.push(y[F]))}if(S){let y=z.map(V=>V[S]);I.forEach((V,F)=>V.push(y[F]))}W=H[m]??"null",te=U[0][1],R=b(I,W,te,s),G.push(R)}if(i!=null&&U.length>1)for(H=Ai(l,i),m=0;m<H.length;m++)for(z=l.filter(y=>y[i]===H[m]),O=0;O<U.length;O++){if(n?I=z.map(y=>[y[U[O][0]],o?y[e].toString():y[e]]):I=z.map(y=>[o?y[e].toString():y[e],y[U[O][0]]]),C){let y=z.map(V=>V[C]);I.forEach((V,F)=>V.push(y[F]))}if(S){let y=z.map(V=>V[S]);I.forEach((V,F)=>V.push(y[F]))}W=(H[m]??"null")+" - "+a[U[O][0]].title,te=U[O][1],R=b(I,W,te,s),G.push(R)}if(i==null&&U.length>1)for(m=0;m<U.length;m++){if(n?I=l.map(y=>[y[U[m][0]],o?y[e].toString():y[e]]):I=l.map(y=>[o?y[e].toString():y[e],y[U[m][0]]]),C){let y=l.map(V=>V[C]);I.forEach((V,F)=>V.push(y[F]))}if(S){let y=l.map(V=>V[S]);I.forEach((V,F)=>V.push(y[F]))}W=a[U[m][0]].title,te=U[m][1],R=b(I,W,te,s),G.push(R)}if(i==null&&U.length===1){if(n?I=l.map(y=>[y[U[0][0]],o?y[e].toString():y[e]]):I=l.map(y=>[o?y[e].toString():y[e],y[U[0][0]]]),C){let y=l.map(V=>V[C]);I.forEach((V,F)=>V.push(y[F]))}if(S){let y=l.map(V=>V[S]);I.forEach((V,F)=>V.push(y[F]))}W=a[U[0][0]].title,te=U[0][1],R=b(I,W,te,s),G.push(R)}return d&&G.sort((y,V)=>d.indexOf(y.name)-d.indexOf(V.name)),T&&G.forEach(y=>{y.name=Ln(y.name,T)}),G}function ql(l,e){let t={};if(typeof e=="object")for(let i=0;i<e.length;i++)t[e[i]]=0;else t[e]=0;return l=Ft(l,rn(t)),l}function ks(l){let e=[];for(let t=1;t<l.length;t++)e.push(l[t]-l[t-1]);return e}function un(l,e){return(typeof l!="number"||isNaN(l))&&(l=0),(typeof e!="number"||isNaN(e))&&(e=0),l=Math.abs(l),e=Math.abs(e),e<=.01?l:un(e,l%e)}function ws(l,e){if(!Array.isArray(l))throw new TypeError("Cannot calculate extent of non-array value.");let t,i;for(const n of l)typeof n=="number"&&(t===void 0?n>=n&&(t=i=n):(t>n&&(t=n),i<n&&(i=n)));return[t,i]}function Os(l,e){let[t,i]=ws(l);const n=[];let s=t;for(;s<=i;)n.push(Math.round((s+Number.EPSILON)*1e8)/1e8),s+=e;return n}function Ls(l){if(l.length<=1)return;l.sort(function(t,i){return t-i}),l=l.map(function(t){return t*1e8}),l=ks(l);let e=l.reduce((t,i)=>un(t,i))/1e8;return e=Math.round((e+Number.EPSILON)*1e8)/1e8,e}function Hi(l,e,t,i,n=!1,s=!1){var T;let r=!1;const o=l.map(b=>Object.assign({},b,{[e]:b[e]instanceof Date?(r=!0,b[e].toISOString()):b[e]})).filter(b=>b[e]!==void 0&&b[e]!==null),a=Array.from(o).reduce((b,m)=>(m[e]instanceof Date&&(m[e]=m[e].toISOString(),r=!0),i?(b[m[i]??"null"]||(b[m[i]??"null"]=[]),b[m[i]??"null"].push(m)):(b.default||(b.default=[]),b.default.push(m)),b),{}),d={};let C;const S=((T=o.find(b=>b&&b[e]!==null&&b[e]!==void 0))==null?void 0:T[e])??null;switch(typeof S){case"object":throw S===null?new Error(`Column '${e}' is entirely null. Column must contain at least one non-null value.`):new Error("Unexpected object property, expected string, date, or number");case"number":if(C=Ai(o,e),s){const b=Ls(C);d[e]=Os(C,b)}break;case"string":C=Ai(o,e),d[e]=C;break}const w=[];for(const b of Object.values(a)){const m=i?{[i]:null}:{};if(n)if(t instanceof Array)for(let R=0;R<t.length;R++)m[t[R]]=0;else m[t]=0;else if(t instanceof Array)for(let R=0;R<t.length;R++)m[t[R]]=null;else m[t]=null;i&&(d[i]=i);const O=[];Object.keys(d).length===0?O.push(Nl([e],m)):O.push(Nl(d,m)),w.push(Ft(b,...O))}return r?w.flat().map(b=>({...b,[e]:new Date(b[e])})):w.flat()}function Rs(l,e,t){let i,n,s,r,o,a,d,C,S,w,T,b,m,O,R=Oe,G=()=>(R(),R=mt(s,E=>t(38,O=E)),s),I,z=Oe,W=()=>(z(),z=mt(n,E=>t(39,I=E)),n),H,te=Oe,J=()=>(te(),te=mt(i,E=>t(40,H=E)),i),U;l.$$.on_destroy.push(()=>R()),l.$$.on_destroy.push(()=>z()),l.$$.on_destroy.push(()=>te());let y=_i(_l);Yt(l,y,E=>t(41,U=E));let V=_i(gl);const{resolveColor:F}=Bt();let{y:L=void 0}=e;const q=!!L;let{series:j=void 0}=e;const ie=!!j;let{options:de=void 0}=e,{name:he=void 0}=e,{type:ee="stacked"}=e,{fillColor:Ee=void 0}=e,{lineColor:ae=void 0}=e,{fillOpacity:Q=void 0}=e,{line:le=!0}=e,{markers:ye=!1}=e,{markerShape:_e="circle"}=e,{markerSize:P=8}=e,{handleMissing:ne="gap"}=e,{step:se=!1}=e,{stepPosition:be="end"}=e,{labels:Z=!1}=e,{labelSize:Se=11}=e,{labelPosition:K="top"}=e,{labelColor:oe=void 0}=e,{labelFmt:Ce=void 0}=e,Ae;Ce&&(Ae=wt(Ce));let{showAllLabels:ge=!1}=e,{seriesOrder:Te=void 0}=e,{seriesLabelFmt:Ge=void 0}=e,Le;const Re={above:"top",below:"bottom",middle:"inside"},Me={above:"right",below:"left",middle:"inside"};let Je=a?"right":"top";return Zl(()=>{V.update(E=>(E.tooltip={...E.tooltip,order:"seriesDesc"},a?(E.yAxis={...E.yAxis,...m.xAxis},E.xAxis={...E.xAxis,...m.yAxis}):(E.yAxis[0]={...E.yAxis[0],...m.yAxis},E.xAxis={...E.xAxis,...m.xAxis}),ee==="stacked100"&&(a?E.xAxis={...E.xAxis,max:1}:E.yAxis[0]={...E.yAxis[0],max:1}),Z&&(E.axisPointer={triggerEmphasis:!1}),E))}),l.$$set=E=>{"y"in E&&t(4,L=E.y),"series"in E&&t(5,j=E.series),"options"in E&&t(12,de=E.options),"name"in E&&t(6,he=E.name),"type"in E&&t(13,ee=E.type),"fillColor"in E&&t(14,Ee=E.fillColor),"lineColor"in E&&t(15,ae=E.lineColor),"fillOpacity"in E&&t(16,Q=E.fillOpacity),"line"in E&&t(7,le=E.line),"markers"in E&&t(8,ye=E.markers),"markerShape"in E&&t(17,_e=E.markerShape),"markerSize"in E&&t(18,P=E.markerSize),"handleMissing"in E&&t(19,ne=E.handleMissing),"step"in E&&t(9,se=E.step),"stepPosition"in E&&t(20,be=E.stepPosition),"labels"in E&&t(10,Z=E.labels),"labelSize"in E&&t(21,Se=E.labelSize),"labelPosition"in E&&t(11,K=E.labelPosition),"labelColor"in E&&t(22,oe=E.labelColor),"labelFmt"in E&&t(23,Ce=E.labelFmt),"showAllLabels"in E&&t(24,ge=E.showAllLabels),"seriesOrder"in E&&t(25,Te=E.seriesOrder),"seriesLabelFmt"in E&&t(26,Ge=E.seriesLabelFmt)},l.$$.update=()=>{l.$$.dirty[0]&16384&&J(t(2,i=F(Ee))),l.$$.dirty[0]&32768&&W(t(1,n=F(ae))),l.$$.dirty[0]&128&&t(7,le=le==="true"||le===!0),l.$$.dirty[0]&256&&t(8,ye=ye==="true"||ye===!0),l.$$.dirty[0]&512&&t(9,se=se==="true"||se===!0),l.$$.dirty[0]&1024&&t(10,Z=Z==="true"||Z===!0),l.$$.dirty[0]&4194304&&G(t(0,s=F(oe))),l.$$.dirty[1]&1024&&t(36,r=U.data),l.$$.dirty[1]&1024&&t(35,o=U.x),l.$$.dirty[0]&16|l.$$.dirty[1]&1024&&t(4,L=q?L:U.y),l.$$.dirty[1]&1024&&t(29,a=U.swapXY),l.$$.dirty[1]&1024&&t(37,d=U.yFormat),l.$$.dirty[1]&1024&&t(30,C=U.xType),l.$$.dirty[1]&1024&&t(33,S=U.xMismatch),l.$$.dirty[1]&1024&&t(32,w=U.columnSummary),l.$$.dirty[0]&32|l.$$.dirty[1]&1024&&t(5,j=ie?j:U.series),l.$$.dirty[0]&1073741936|l.$$.dirty[1]&50&&(!j&&typeof L!="object"?t(6,he=he??It(L,w[L].title)):(t(28,Le="area"),t(36,r=Hi(r,o,L,j,!1,C==="value")),t(36,r=ql(r,L)),t(30,C=C==="value"?"category":C))),l.$$.dirty[0]&524304|l.$$.dirty[1]&32&&ne==="zero"&&t(36,r=ql(r,L)),l.$$.dirty[0]&536872960&&t(11,K=(a?Me[K]:Re[K])??Je),l.$$.dirty[0]&960434048|l.$$.dirty[1]&960&&t(34,T={type:"line",stack:Le,areaStyle:{color:H,opacity:Q},connectNulls:ne==="connect",lineStyle:{width:le?1:0,color:I},label:{show:Z,formatter(E){return E.value[a?0:1]===0?"":Ot(E.value[a?0:1],Ae??d)},fontSize:Se,color:O,position:K,padding:3},labelLayout:{hideOverlap:!ge},emphasis:{focus:"series"},showSymbol:Z||ye,symbol:_e,symbolSize:Z&&!ye?0:P,step:se?be:!1}),l.$$.dirty[0]&637534320|l.$$.dirty[1]&62&&t(31,b=fn(r,o,L,j,a,T,he,S,w,Te,void 0,void 0,void 0,Ge)),l.$$.dirty[1]&1&&V.update(E=>(E.series.push(...b),E.legend.data.push(...b.map(ke=>ke.name.toString())),E)),l.$$.dirty[0]&4096&&de&&V.update(E=>({...E,...de})),l.$$.dirty[0]&1073741824&&(m={yAxis:{boundaryGap:["0%","1%"]},xAxis:{boundaryGap:["4%","4%"],type:C}})},[s,n,i,y,L,j,he,le,ye,se,Z,K,de,ee,Ee,ae,Q,_e,P,ne,be,Se,oe,Ce,ge,Te,Ge,Ae,Le,a,C,b,w,S,T,o,r,d,O,I,H,U]}class Ms extends St{constructor(e){super(),At(this,e,Rs,null,bt,{y:4,series:5,options:12,name:6,type:13,fillColor:14,lineColor:15,fillOpacity:16,line:7,markers:8,markerShape:17,markerSize:18,handleMissing:19,step:9,stepPosition:20,labels:10,labelSize:21,labelPosition:11,labelColor:22,labelFmt:23,showAllLabels:24,seriesOrder:25,seriesLabelFmt:26},null,[-1,-1])}}function Ds(l){let e,t,i;e=new Ms({props:{line:l[28],fillColor:l[59],lineColor:l[58],fillOpacity:l[29],handleMissing:l[34],type:l[38],step:l[35],stepPosition:l[36],markers:l[31],markerShape:l[32],markerSize:l[33],labels:l[39],labelSize:l[40],labelPosition:l[41],labelColor:l[56],labelFmt:l[42],showAllLabels:l[43],seriesOrder:l[49],seriesLabelFmt:l[51]}});const n=l[66].default,s=Ei(n,l,l[67],null);return{c(){me(e.$$.fragment),t=x(),s&&s.c()},l(r){ce(e.$$.fragment,r),t=X(r),s&&s.l(r)},m(r,o){ue(e,r,o),k(r,t,o),s&&s.m(r,o),i=!0},p(r,o){const a={};o[0]&268435456&&(a.line=r[28]),o[1]&268435456&&(a.fillColor=r[59]),o[1]&134217728&&(a.lineColor=r[58]),o[0]&536870912&&(a.fillOpacity=r[29]),o[1]&8&&(a.handleMissing=r[34]),o[1]&128&&(a.type=r[38]),o[1]&16&&(a.step=r[35]),o[1]&32&&(a.stepPosition=r[36]),o[1]&1&&(a.markers=r[31]),o[1]&2&&(a.markerShape=r[32]),o[1]&4&&(a.markerSize=r[33]),o[1]&256&&(a.labels=r[39]),o[1]&512&&(a.labelSize=r[40]),o[1]&1024&&(a.labelPosition=r[41]),o[1]&33554432&&(a.labelColor=r[56]),o[1]&2048&&(a.labelFmt=r[42]),o[1]&4096&&(a.showAllLabels=r[43]),o[1]&262144&&(a.seriesOrder=r[49]),o[1]&1048576&&(a.seriesLabelFmt=r[51]),e.$set(a),s&&s.p&&(!i||o[2]&32)&&Ci(s,n,r,r[67],i?ki(n,r[67],o,null):Ti(r[67]),null)},i(r){i||(N(e.$$.fragment,r),N(s,r),i=!0)},o(r){B(e.$$.fragment,r),B(s,r),i=!1},d(r){r&&_(t),fe(e,r),s&&s.d(r)}}}function Ns(l){let e,t;return e=new on({props:{data:l[3],x:l[4],y:l[5],xFmt:l[11],yFmt:l[10],series:l[6],xType:l[7],yLog:l[8],yLogBase:l[9],legend:l[14],xAxisTitle:l[15],yAxisTitle:l[16],xGridlines:l[17],yGridlines:l[18],xAxisLabels:l[19],yAxisLabels:l[20],xBaseline:l[21],yBaseline:l[22],xTickMarks:l[23],yTickMarks:l[24],yMin:l[25],yMax:l[26],yScale:l[27],title:l[12],subtitle:l[13],chartType:Is,sort:l[37],stackType:l[38],stacked100:l[60],chartAreaHeight:l[30],colorPalette:l[57],echartsOptions:l[44],seriesOptions:l[45],printEchartsConfig:l[0],emptySet:l[46],emptyMessage:l[47],renderer:l[48],downloadableData:l[1],downloadableImage:l[2],connectGroup:l[50],seriesColors:l[55],leftPadding:l[52],rightPadding:l[53],xLabelWrap:l[54],$$slots:{default:[Ds]},$$scope:{ctx:l}}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.data=i[3]),n[0]&16&&(s.x=i[4]),n[0]&32&&(s.y=i[5]),n[0]&2048&&(s.xFmt=i[11]),n[0]&1024&&(s.yFmt=i[10]),n[0]&64&&(s.series=i[6]),n[0]&128&&(s.xType=i[7]),n[0]&256&&(s.yLog=i[8]),n[0]&512&&(s.yLogBase=i[9]),n[0]&16384&&(s.legend=i[14]),n[0]&32768&&(s.xAxisTitle=i[15]),n[0]&65536&&(s.yAxisTitle=i[16]),n[0]&131072&&(s.xGridlines=i[17]),n[0]&262144&&(s.yGridlines=i[18]),n[0]&524288&&(s.xAxisLabels=i[19]),n[0]&1048576&&(s.yAxisLabels=i[20]),n[0]&2097152&&(s.xBaseline=i[21]),n[0]&4194304&&(s.yBaseline=i[22]),n[0]&8388608&&(s.xTickMarks=i[23]),n[0]&16777216&&(s.yTickMarks=i[24]),n[0]&33554432&&(s.yMin=i[25]),n[0]&67108864&&(s.yMax=i[26]),n[0]&134217728&&(s.yScale=i[27]),n[0]&4096&&(s.title=i[12]),n[0]&8192&&(s.subtitle=i[13]),n[1]&64&&(s.sort=i[37]),n[1]&128&&(s.stackType=i[38]),n[0]&1073741824&&(s.chartAreaHeight=i[30]),n[1]&67108864&&(s.colorPalette=i[57]),n[1]&8192&&(s.echartsOptions=i[44]),n[1]&16384&&(s.seriesOptions=i[45]),n[0]&1&&(s.printEchartsConfig=i[0]),n[1]&32768&&(s.emptySet=i[46]),n[1]&65536&&(s.emptyMessage=i[47]),n[1]&131072&&(s.renderer=i[48]),n[0]&2&&(s.downloadableData=i[1]),n[0]&4&&(s.downloadableImage=i[2]),n[1]&524288&&(s.connectGroup=i[50]),n[1]&16777216&&(s.seriesColors=i[55]),n[1]&2097152&&(s.leftPadding=i[52]),n[1]&4194304&&(s.rightPadding=i[53]),n[1]&8388608&&(s.xLabelWrap=i[54]),n[0]&805306368|n[1]&437526463|n[2]&32&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}let Is="Area Chart";function Fs(l,e,t){let i,n,s,r,o,{$$slots:a={},$$scope:d}=e;const{resolveColor:C,resolveColorsObject:S,resolveColorPalette:w}=Bt();let{data:T=void 0}=e,{x:b=void 0}=e,{y:m=void 0}=e,{series:O=void 0}=e,{xType:R=void 0}=e,{yLog:G=void 0}=e,{yLogBase:I=void 0}=e,{yFmt:z=void 0}=e,{xFmt:W=void 0}=e,{title:H=void 0}=e,{subtitle:te=void 0}=e,{legend:J=void 0}=e,{xAxisTitle:U=void 0}=e,{yAxisTitle:y=void 0}=e,{xGridlines:V=void 0}=e,{yGridlines:F=void 0}=e,{xAxisLabels:L=void 0}=e,{yAxisLabels:q=void 0}=e,{xBaseline:j=void 0}=e,{yBaseline:ie=void 0}=e,{xTickMarks:de=void 0}=e,{yTickMarks:he=void 0}=e,{yMin:ee=void 0}=e,{yMax:Ee=void 0}=e,{yScale:ae=void 0}=e,{line:Q=void 0}=e,{fillColor:le=void 0}=e,{lineColor:ye=void 0}=e,{fillOpacity:_e=void 0}=e,{chartAreaHeight:P=void 0}=e,{markers:ne=void 0}=e,{markerShape:se=void 0}=e,{markerSize:be=void 0}=e,{handleMissing:Z=void 0}=e,{step:Se=void 0}=e,{stepPosition:K=void 0}=e,{sort:oe=void 0}=e,{type:Ce="stacked"}=e,Ae=Ce==="stacked100",{colorPalette:ge="default"}=e,{labels:Te=void 0}=e,{labelSize:Ge=void 0}=e,{labelPosition:Le=void 0}=e,{labelColor:Re=void 0}=e,{labelFmt:Me=void 0}=e,{showAllLabels:Je=void 0}=e,{echartsOptions:E=void 0}=e,{seriesOptions:ke=void 0}=e,{printEchartsConfig:Fe=!1}=e,{emptySet:Ye=void 0}=e,{emptyMessage:We=void 0}=e,{renderer:we=void 0}=e,{downloadableData:qe=void 0}=e,{downloadableImage:De=void 0}=e,{seriesColors:Xe=void 0}=e,{seriesOrder:xe=void 0}=e,{connectGroup:ve=void 0}=e,{seriesLabelFmt:Ke=void 0}=e,{leftPadding:g=void 0}=e,{rightPadding:re=void 0}=e,{xLabelWrap:Qe=void 0}=e;return l.$$set=h=>{"data"in h&&t(3,T=h.data),"x"in h&&t(4,b=h.x),"y"in h&&t(5,m=h.y),"series"in h&&t(6,O=h.series),"xType"in h&&t(7,R=h.xType),"yLog"in h&&t(8,G=h.yLog),"yLogBase"in h&&t(9,I=h.yLogBase),"yFmt"in h&&t(10,z=h.yFmt),"xFmt"in h&&t(11,W=h.xFmt),"title"in h&&t(12,H=h.title),"subtitle"in h&&t(13,te=h.subtitle),"legend"in h&&t(14,J=h.legend),"xAxisTitle"in h&&t(15,U=h.xAxisTitle),"yAxisTitle"in h&&t(16,y=h.yAxisTitle),"xGridlines"in h&&t(17,V=h.xGridlines),"yGridlines"in h&&t(18,F=h.yGridlines),"xAxisLabels"in h&&t(19,L=h.xAxisLabels),"yAxisLabels"in h&&t(20,q=h.yAxisLabels),"xBaseline"in h&&t(21,j=h.xBaseline),"yBaseline"in h&&t(22,ie=h.yBaseline),"xTickMarks"in h&&t(23,de=h.xTickMarks),"yTickMarks"in h&&t(24,he=h.yTickMarks),"yMin"in h&&t(25,ee=h.yMin),"yMax"in h&&t(26,Ee=h.yMax),"yScale"in h&&t(27,ae=h.yScale),"line"in h&&t(28,Q=h.line),"fillColor"in h&&t(61,le=h.fillColor),"lineColor"in h&&t(62,ye=h.lineColor),"fillOpacity"in h&&t(29,_e=h.fillOpacity),"chartAreaHeight"in h&&t(30,P=h.chartAreaHeight),"markers"in h&&t(31,ne=h.markers),"markerShape"in h&&t(32,se=h.markerShape),"markerSize"in h&&t(33,be=h.markerSize),"handleMissing"in h&&t(34,Z=h.handleMissing),"step"in h&&t(35,Se=h.step),"stepPosition"in h&&t(36,K=h.stepPosition),"sort"in h&&t(37,oe=h.sort),"type"in h&&t(38,Ce=h.type),"colorPalette"in h&&t(63,ge=h.colorPalette),"labels"in h&&t(39,Te=h.labels),"labelSize"in h&&t(40,Ge=h.labelSize),"labelPosition"in h&&t(41,Le=h.labelPosition),"labelColor"in h&&t(64,Re=h.labelColor),"labelFmt"in h&&t(42,Me=h.labelFmt),"showAllLabels"in h&&t(43,Je=h.showAllLabels),"echartsOptions"in h&&t(44,E=h.echartsOptions),"seriesOptions"in h&&t(45,ke=h.seriesOptions),"printEchartsConfig"in h&&t(0,Fe=h.printEchartsConfig),"emptySet"in h&&t(46,Ye=h.emptySet),"emptyMessage"in h&&t(47,We=h.emptyMessage),"renderer"in h&&t(48,we=h.renderer),"downloadableData"in h&&t(1,qe=h.downloadableData),"downloadableImage"in h&&t(2,De=h.downloadableImage),"seriesColors"in h&&t(65,Xe=h.seriesColors),"seriesOrder"in h&&t(49,xe=h.seriesOrder),"connectGroup"in h&&t(50,ve=h.connectGroup),"seriesLabelFmt"in h&&t(51,Ke=h.seriesLabelFmt),"leftPadding"in h&&t(52,g=h.leftPadding),"rightPadding"in h&&t(53,re=h.rightPadding),"xLabelWrap"in h&&t(54,Qe=h.xLabelWrap),"$$scope"in h&&t(67,d=h.$$scope)},l.$$.update=()=>{l.$$.dirty[1]&1073741824&&t(59,i=C(le)),l.$$.dirty[2]&1&&t(58,n=C(ye)),l.$$.dirty[2]&2&&t(57,s=w(ge)),l.$$.dirty[2]&4&&t(56,r=C(Re)),l.$$.dirty[0]&1&&t(0,Fe=Ue(Fe)),l.$$.dirty[0]&2&&t(1,qe=Ue(qe)),l.$$.dirty[0]&4&&t(2,De=Ue(De)),l.$$.dirty[2]&8&&t(55,o=S(Xe))},[Fe,qe,De,T,b,m,O,R,G,I,z,W,H,te,J,U,y,V,F,L,q,j,ie,de,he,ee,Ee,ae,Q,_e,P,ne,se,be,Z,Se,K,oe,Ce,Te,Ge,Le,Me,Je,E,ke,Ye,We,we,xe,ve,Ke,g,re,Qe,o,r,s,n,i,Ae,le,ye,ge,Re,Xe,a,d]}class Ps extends St{constructor(e){super(),At(this,e,Fs,Ns,bt,{data:3,x:4,y:5,series:6,xType:7,yLog:8,yLogBase:9,yFmt:10,xFmt:11,title:12,subtitle:13,legend:14,xAxisTitle:15,yAxisTitle:16,xGridlines:17,yGridlines:18,xAxisLabels:19,yAxisLabels:20,xBaseline:21,yBaseline:22,xTickMarks:23,yTickMarks:24,yMin:25,yMax:26,yScale:27,line:28,fillColor:61,lineColor:62,fillOpacity:29,chartAreaHeight:30,markers:31,markerShape:32,markerSize:33,handleMissing:34,step:35,stepPosition:36,sort:37,type:38,colorPalette:63,labels:39,labelSize:40,labelPosition:41,labelColor:64,labelFmt:42,showAllLabels:43,echartsOptions:44,seriesOptions:45,printEchartsConfig:0,emptySet:46,emptyMessage:47,renderer:48,downloadableData:1,downloadableImage:2,seriesColors:65,seriesOrder:49,connectGroup:50,seriesLabelFmt:51,leftPadding:52,rightPadding:53,xLabelWrap:54},null,[-1,-1,-1])}}function zl(l,e,t){let i=Ft(l,ol(e,[Rn(t,fl)]));if(typeof t=="object")for(let n=0;n<i.length;n++){i[n].stackTotal=0;for(let s=0;s<t.length;s++)i[n].stackTotal=i[n].stackTotal+i[n][t[s]]}return i}let Bs=60;function Hs(l,e,t){let i,n,s,r,o,a,d,C,S,w,T,b,m,O,R,G,I,z,W,H,te=Oe,J=()=>(te(),te=mt(r,g=>t(49,H=g)),r),U,y=Oe,V=()=>(y(),y=mt(s,g=>t(50,U=g)),s),F,L=Oe,q=()=>(L(),L=mt(o,g=>t(51,F=g)),o),j,ie=Oe,de=()=>(ie(),ie=mt(i,g=>t(52,j=g)),i);l.$$.on_destroy.push(()=>te()),l.$$.on_destroy.push(()=>y()),l.$$.on_destroy.push(()=>L()),l.$$.on_destroy.push(()=>ie());const{resolveColor:he}=Bt();let{y:ee=void 0}=e;const Ee=!!ee;let{y2:ae=void 0}=e;const Q=!!ae;let{series:le=void 0}=e;const ye=!!le;let{options:_e=void 0}=e,{name:P=void 0}=e,{type:ne="stacked"}=e,{stackName:se=void 0}=e,{fillColor:be=void 0}=e,{fillOpacity:Z=void 0}=e,{outlineColor:Se=void 0}=e,{outlineWidth:K=void 0}=e,{labels:oe=!1}=e,{seriesLabels:Ce=!0}=e,{labelSize:Ae=11}=e,{labelPosition:ge=void 0}=e,{labelColor:Te=void 0}=e,{labelFmt:Ge=void 0}=e,Le;Ge&&(Le=wt(Ge));let{yLabelFmt:Re=void 0}=e,Me;Re&&(Me=wt(Re));let{y2LabelFmt:Je=void 0}=e,E;Je&&(E=wt(Je));let{y2SeriesType:ke="bar"}=e,{stackTotalLabel:Fe=!0}=e,{showAllLabels:Ye=!1}=e,{seriesOrder:We=void 0}=e,we,qe,De,Xe;const xe={outside:"top",inside:"inside"},ve={outside:"right",inside:"inside"};let{seriesLabelFmt:Ke=void 0}=e;return Zl(()=>{_e&&n.update(g=>({...g,..._e})),W&&n.update(g=>{if(ne.includes("stacked")?g.tooltip={...g.tooltip,order:"seriesDesc"}:g.tooltip={...g.tooltip,order:"seriesAsc"},ne==="stacked100"&&(b?g.xAxis={...g.xAxis,max:1}:g.yAxis[0]={...g.yAxis[0],max:1}),b)g.yAxis={...g.yAxis,...W.xAxis},g.xAxis={...g.xAxis,...W.yAxis};else if(g.yAxis[0]={...g.yAxis[0],...W.yAxis},g.xAxis={...g.xAxis,...W.xAxis},ae&&(g.yAxis[1]={...g.yAxis[1],show:!0},["line","bar","scatter"].includes(ke)))for(let re=0;re<T;re++)g.series[w+re].type=ke,g.series[w+re].stack=void 0;return g})}),l.$$set=g=>{"y"in g&&t(4,ee=g.y),"y2"in g&&t(5,ae=g.y2),"series"in g&&t(6,le=g.series),"options"in g&&t(13,_e=g.options),"name"in g&&t(7,P=g.name),"type"in g&&t(14,ne=g.type),"stackName"in g&&t(8,se=g.stackName),"fillColor"in g&&t(15,be=g.fillColor),"fillOpacity"in g&&t(16,Z=g.fillOpacity),"outlineColor"in g&&t(17,Se=g.outlineColor),"outlineWidth"in g&&t(18,K=g.outlineWidth),"labels"in g&&t(9,oe=g.labels),"seriesLabels"in g&&t(10,Ce=g.seriesLabels),"labelSize"in g&&t(19,Ae=g.labelSize),"labelPosition"in g&&t(11,ge=g.labelPosition),"labelColor"in g&&t(20,Te=g.labelColor),"labelFmt"in g&&t(21,Ge=g.labelFmt),"yLabelFmt"in g&&t(22,Re=g.yLabelFmt),"y2LabelFmt"in g&&t(23,Je=g.y2LabelFmt),"y2SeriesType"in g&&t(24,ke=g.y2SeriesType),"stackTotalLabel"in g&&t(12,Fe=g.stackTotalLabel),"showAllLabels"in g&&t(25,Ye=g.showAllLabels),"seriesOrder"in g&&t(26,We=g.seriesOrder),"seriesLabelFmt"in g&&t(27,Ke=g.seriesLabelFmt)},l.$$.update=()=>{l.$$.dirty[0]&32768&&V(t(2,s=he(be))),l.$$.dirty[0]&131072&&J(t(1,r=he(Se))),l.$$.dirty[0]&512&&t(9,oe=oe==="true"||oe===!0),l.$$.dirty[0]&1024&&t(10,Ce=Ce==="true"||Ce===!0),l.$$.dirty[0]&1048576&&q(t(0,o=he(Te))),l.$$.dirty[0]&4096&&t(12,Fe=Fe==="true"||Fe===!0),l.$$.dirty[1]&2097152&&t(46,a=j.data),l.$$.dirty[1]&2097152&&t(42,d=j.x),l.$$.dirty[0]&16|l.$$.dirty[1]&2097152&&t(4,ee=Ee?ee:j.y),l.$$.dirty[0]&32|l.$$.dirty[1]&2097152&&t(5,ae=Q?ae:j.y2),l.$$.dirty[1]&2097152&&t(40,C=j.yFormat),l.$$.dirty[1]&2097152&&t(47,S=j.y2Format),l.$$.dirty[1]&2097152&&t(35,w=j.yCount),l.$$.dirty[1]&2097152&&t(36,T=j.y2Count),l.$$.dirty[1]&2097152&&t(37,b=j.swapXY),l.$$.dirty[1]&2097152&&t(39,m=j.xType),l.$$.dirty[1]&2097152&&t(43,O=j.xMismatch),l.$$.dirty[1]&2097152&&t(44,R=j.columnSummary),l.$$.dirty[1]&2097152&&t(48,G=j.sort),l.$$.dirty[0]&64|l.$$.dirty[1]&2097152&&t(6,le=ye?le:j.series),l.$$.dirty[0]&16848|l.$$.dirty[1]&174403&&(!le&&typeof ee!="object"?(t(7,P=P??It(ee,R[ee].title)),b&&m!=="category"&&(t(46,a=Hi(a,d,ee,le,!0,m!=="time")),t(39,m="category")),t(8,se="stack1"),t(33,De=b?"right":"top")):(G===!0&&m==="category"&&(t(31,we=zl(a,d,ee)),typeof ee=="object"?t(31,we=yi(we,"stackTotal",!1)):t(31,we=yi(we,ee,!1)),t(32,qe=we.map(g=>g[d])),t(46,a=[...a].sort(function(g,re){return qe.indexOf(g[d])-qe.indexOf(re[d])}))),b||(m==="value"||m==="category")&&ne.includes("stacked")?(t(46,a=Hi(a,d,ee,le,!0,m==="value")),t(39,m="category")):m==="time"&&ne.includes("stacked")&&t(46,a=Hi(a,d,ee,le,!0,!0)),ne.includes("stacked")?(t(8,se=se??"stack1"),t(33,De="inside")):(t(8,se=void 0),t(33,De=b?"right":"top")))),l.$$.dirty[0]&16400|l.$$.dirty[1]&34816&&ne==="stacked"&&t(34,Xe=zl(a,d,ee)),l.$$.dirty[0]&2048|l.$$.dirty[1]&68&&t(11,ge=(b?ve[ge]:xe[ge])??De),l.$$.dirty[0]&1913458432|l.$$.dirty[1]&1901168&&t(45,I={type:"bar",stack:se,label:{show:oe&&Ce,formatter(g){return g.value[b?0:1]===0?"":Ot(g.value[b?0:1],[Me??Le??C,E??Le??S][an(g.componentIndex,w,T)])},position:ge,fontSize:Ae,color:F},labelLayout:{hideOverlap:!Ye},emphasis:{focus:"series"},barMaxWidth:Bs,itemStyle:{color:U,opacity:Z,borderColor:H,borderWidth:K}}),l.$$.dirty[0]&201326832|l.$$.dirty[1]&63552&&t(41,z=fn(a,d,ee,le,b,I,P,O,R,We,void 0,void 0,ae,Ke)),l.$$.dirty[0]&268981072|l.$$.dirty[1]&7880&&n.update(g=>(g.series.push(...z),g.legend.data.push(...z.map(re=>re.name.toString())),oe===!0&&ne==="stacked"&&typeof ee=="object"|le!==void 0&&Fe===!0&&le!==d&&(g.series.push({type:"bar",stack:se,name:"stackTotal",color:"none",data:Xe.map(re=>[b?0:O?re[d].toString():re[d],b?O?re[d].toString():re[d]:0]),label:{show:!0,position:b?"right":"top",formatter(re){let Qe=0;return z.forEach(h=>{Qe+=h.data[re.dataIndex][b?0:1]}),Qe===0?"":Ot(Qe,Le??C)},fontWeight:"bold",fontSize:Ae,padding:b?[0,0,0,5]:void 0}}),g.legend.selectedMode=!1),g)),l.$$.dirty[1]&256&&(W={xAxis:{boundaryGap:["1%","2%"],type:m}})},de(t(3,i=_i(_l))),t(38,n=_i(gl)),[o,r,s,i,ee,ae,le,P,se,oe,Ce,ge,Fe,_e,ne,be,Z,Se,K,Ae,Te,Ge,Re,Je,ke,Ye,We,Ke,Le,Me,E,we,qe,De,Xe,w,T,b,n,m,C,z,d,O,R,I,a,S,G,H,U,F,j]}class Us extends St{constructor(e){super(),At(this,e,Hs,null,bt,{y:4,y2:5,series:6,options:13,name:7,type:14,stackName:8,fillColor:15,fillOpacity:16,outlineColor:17,outlineWidth:18,labels:9,seriesLabels:10,labelSize:19,labelPosition:11,labelColor:20,labelFmt:21,yLabelFmt:22,y2LabelFmt:23,y2SeriesType:24,stackTotalLabel:12,showAllLabels:25,seriesOrder:26,seriesLabelFmt:27},null,[-1,-1])}}function Gs(l){let e,t,i;e=new Us({props:{type:l[38],fillColor:l[72],fillOpacity:l[39],outlineColor:l[71],outlineWidth:l[40],labels:l[43],labelSize:l[44],labelPosition:l[45],labelColor:l[69],labelFmt:l[46],yLabelFmt:l[47],y2LabelFmt:l[48],stackTotalLabel:l[49],seriesLabels:l[50],showAllLabels:l[51],y2SeriesType:l[9],seriesOrder:l[60],seriesLabelFmt:l[62]}});const n=l[81].default,s=Ei(n,l,l[82],null);return{c(){me(e.$$.fragment),t=x(),s&&s.c()},l(r){ce(e.$$.fragment,r),t=X(r),s&&s.l(r)},m(r,o){ue(e,r,o),k(r,t,o),s&&s.m(r,o),i=!0},p(r,o){const a={};o[1]&128&&(a.type=r[38]),o[2]&1024&&(a.fillColor=r[72]),o[1]&256&&(a.fillOpacity=r[39]),o[2]&512&&(a.outlineColor=r[71]),o[1]&512&&(a.outlineWidth=r[40]),o[1]&4096&&(a.labels=r[43]),o[1]&8192&&(a.labelSize=r[44]),o[1]&16384&&(a.labelPosition=r[45]),o[2]&128&&(a.labelColor=r[69]),o[1]&32768&&(a.labelFmt=r[46]),o[1]&65536&&(a.yLabelFmt=r[47]),o[1]&131072&&(a.y2LabelFmt=r[48]),o[1]&262144&&(a.stackTotalLabel=r[49]),o[1]&524288&&(a.seriesLabels=r[50]),o[1]&1048576&&(a.showAllLabels=r[51]),o[0]&512&&(a.y2SeriesType=r[9]),o[1]&536870912&&(a.seriesOrder=r[60]),o[2]&1&&(a.seriesLabelFmt=r[62]),e.$set(a),s&&s.p&&(!i||o[2]&1048576)&&Ci(s,n,r,r[82],i?ki(n,r[82],o,null):Ti(r[82]),null)},i(r){i||(N(e.$$.fragment,r),N(s,r),i=!0)},o(r){B(e.$$.fragment,r),B(s,r),i=!1},d(r){r&&_(t),fe(e,r),s&&s.d(r)}}}function Ws(l){let e,t;return e=new on({props:{data:l[1],x:l[2],y:l[3],y2:l[4],xFmt:l[12],yFmt:l[10],y2Fmt:l[11],series:l[5],xType:l[6],yLog:l[7],yLogBase:l[8],legend:l[15],xAxisTitle:l[16],yAxisTitle:l[17],y2AxisTitle:l[18],xGridlines:l[19],yGridlines:l[20],y2Gridlines:l[21],xAxisLabels:l[22],yAxisLabels:l[23],y2AxisLabels:l[24],xBaseline:l[25],yBaseline:l[26],y2Baseline:l[27],xTickMarks:l[28],yTickMarks:l[29],y2TickMarks:l[30],yAxisColor:l[68],y2AxisColor:l[67],yMin:l[31],yMax:l[32],yScale:l[33],y2Min:l[34],y2Max:l[35],y2Scale:l[36],swapXY:l[0],title:l[13],subtitle:l[14],chartType:"Bar Chart",stackType:l[38],sort:l[42],stacked100:l[73],chartAreaHeight:l[41],showAllXAxisLabels:l[37],colorPalette:l[70],echartsOptions:l[52],seriesOptions:l[53],printEchartsConfig:l[54],emptySet:l[55],emptyMessage:l[56],renderer:l[57],downloadableData:l[58],downloadableImage:l[59],connectGroup:l[61],xLabelWrap:l[65],seriesColors:l[66],leftPadding:l[63],rightPadding:l[64],$$slots:{default:[Gs]},$$scope:{ctx:l}}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&2&&(s.data=i[1]),n[0]&4&&(s.x=i[2]),n[0]&8&&(s.y=i[3]),n[0]&16&&(s.y2=i[4]),n[0]&4096&&(s.xFmt=i[12]),n[0]&1024&&(s.yFmt=i[10]),n[0]&2048&&(s.y2Fmt=i[11]),n[0]&32&&(s.series=i[5]),n[0]&64&&(s.xType=i[6]),n[0]&128&&(s.yLog=i[7]),n[0]&256&&(s.yLogBase=i[8]),n[0]&32768&&(s.legend=i[15]),n[0]&65536&&(s.xAxisTitle=i[16]),n[0]&131072&&(s.yAxisTitle=i[17]),n[0]&262144&&(s.y2AxisTitle=i[18]),n[0]&524288&&(s.xGridlines=i[19]),n[0]&1048576&&(s.yGridlines=i[20]),n[0]&2097152&&(s.y2Gridlines=i[21]),n[0]&4194304&&(s.xAxisLabels=i[22]),n[0]&8388608&&(s.yAxisLabels=i[23]),n[0]&16777216&&(s.y2AxisLabels=i[24]),n[0]&33554432&&(s.xBaseline=i[25]),n[0]&67108864&&(s.yBaseline=i[26]),n[0]&134217728&&(s.y2Baseline=i[27]),n[0]&268435456&&(s.xTickMarks=i[28]),n[0]&536870912&&(s.yTickMarks=i[29]),n[0]&1073741824&&(s.y2TickMarks=i[30]),n[2]&64&&(s.yAxisColor=i[68]),n[2]&32&&(s.y2AxisColor=i[67]),n[1]&1&&(s.yMin=i[31]),n[1]&2&&(s.yMax=i[32]),n[1]&4&&(s.yScale=i[33]),n[1]&8&&(s.y2Min=i[34]),n[1]&16&&(s.y2Max=i[35]),n[1]&32&&(s.y2Scale=i[36]),n[0]&1&&(s.swapXY=i[0]),n[0]&8192&&(s.title=i[13]),n[0]&16384&&(s.subtitle=i[14]),n[1]&128&&(s.stackType=i[38]),n[1]&2048&&(s.sort=i[42]),n[1]&1024&&(s.chartAreaHeight=i[41]),n[1]&64&&(s.showAllXAxisLabels=i[37]),n[2]&256&&(s.colorPalette=i[70]),n[1]&2097152&&(s.echartsOptions=i[52]),n[1]&4194304&&(s.seriesOptions=i[53]),n[1]&8388608&&(s.printEchartsConfig=i[54]),n[1]&16777216&&(s.emptySet=i[55]),n[1]&33554432&&(s.emptyMessage=i[56]),n[1]&67108864&&(s.renderer=i[57]),n[1]&134217728&&(s.downloadableData=i[58]),n[1]&268435456&&(s.downloadableImage=i[59]),n[1]&1073741824&&(s.connectGroup=i[61]),n[2]&8&&(s.xLabelWrap=i[65]),n[2]&16&&(s.seriesColors=i[66]),n[2]&2&&(s.leftPadding=i[63]),n[2]&4&&(s.rightPadding=i[64]),n[0]&512|n[1]&538964864|n[2]&1050241&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function qs(l,e,t){let i,n,s,r,o,a,d,{$$slots:C={},$$scope:S}=e;const{resolveColor:w,resolveColorsObject:T,resolveColorPalette:b}=Bt();let{data:m=void 0}=e,{x:O=void 0}=e,{y:R=void 0}=e,{y2:G=void 0}=e,{series:I=void 0}=e,{xType:z=void 0}=e,{yLog:W=void 0}=e,{yLogBase:H=void 0}=e,{y2SeriesType:te=void 0}=e,{yFmt:J=void 0}=e,{y2Fmt:U=void 0}=e,{xFmt:y=void 0}=e,{title:V=void 0}=e,{subtitle:F=void 0}=e,{legend:L=void 0}=e,{xAxisTitle:q=void 0}=e,{yAxisTitle:j=G?"true":void 0}=e,{y2AxisTitle:ie=G?"true":void 0}=e,{xGridlines:de=void 0}=e,{yGridlines:he=void 0}=e,{y2Gridlines:ee=void 0}=e,{xAxisLabels:Ee=void 0}=e,{yAxisLabels:ae=void 0}=e,{y2AxisLabels:Q=void 0}=e,{xBaseline:le=void 0}=e,{yBaseline:ye=void 0}=e,{y2Baseline:_e=void 0}=e,{xTickMarks:P=void 0}=e,{yTickMarks:ne=void 0}=e,{y2TickMarks:se=void 0}=e,{yMin:be=void 0}=e,{yMax:Z=void 0}=e,{yScale:Se=void 0}=e,{y2Min:K=void 0}=e,{y2Max:oe=void 0}=e,{y2Scale:Ce=void 0}=e,{swapXY:Ae=!1}=e,{showAllXAxisLabels:ge}=e,{type:Te="stacked"}=e,Ge=Te==="stacked100",{fillColor:Le=void 0}=e,{fillOpacity:Re=void 0}=e,{outlineColor:Me=void 0}=e,{outlineWidth:Je=void 0}=e,{chartAreaHeight:E=void 0}=e,{sort:ke=void 0}=e,{colorPalette:Fe="default"}=e,{labels:Ye=void 0}=e,{labelSize:We=void 0}=e,{labelPosition:we=void 0}=e,{labelColor:qe=void 0}=e,{labelFmt:De=void 0}=e,{yLabelFmt:Xe=void 0}=e,{y2LabelFmt:xe=void 0}=e,{stackTotalLabel:ve=void 0}=e,{seriesLabels:Ke=void 0}=e,{showAllLabels:g=void 0}=e,{yAxisColor:re=void 0}=e,{y2AxisColor:Qe=void 0}=e,{echartsOptions:h=void 0}=e,{seriesOptions:Et=void 0}=e,{printEchartsConfig:pe=!1}=e,{emptySet:Ct=void 0}=e,{emptyMessage:Tt=void 0}=e,{renderer:ot=void 0}=e,{downloadableData:lt=void 0}=e,{downloadableImage:$e=void 0}=e,{seriesColors:dt=void 0}=e,{seriesOrder:Lt=void 0}=e,{connectGroup:nt=void 0}=e,{seriesLabelFmt:Mt=void 0}=e,{leftPadding:ft=void 0}=e,{rightPadding:ze=void 0}=e,{xLabelWrap:Ht=void 0}=e;return l.$$set=u=>{"data"in u&&t(1,m=u.data),"x"in u&&t(2,O=u.x),"y"in u&&t(3,R=u.y),"y2"in u&&t(4,G=u.y2),"series"in u&&t(5,I=u.series),"xType"in u&&t(6,z=u.xType),"yLog"in u&&t(7,W=u.yLog),"yLogBase"in u&&t(8,H=u.yLogBase),"y2SeriesType"in u&&t(9,te=u.y2SeriesType),"yFmt"in u&&t(10,J=u.yFmt),"y2Fmt"in u&&t(11,U=u.y2Fmt),"xFmt"in u&&t(12,y=u.xFmt),"title"in u&&t(13,V=u.title),"subtitle"in u&&t(14,F=u.subtitle),"legend"in u&&t(15,L=u.legend),"xAxisTitle"in u&&t(16,q=u.xAxisTitle),"yAxisTitle"in u&&t(17,j=u.yAxisTitle),"y2AxisTitle"in u&&t(18,ie=u.y2AxisTitle),"xGridlines"in u&&t(19,de=u.xGridlines),"yGridlines"in u&&t(20,he=u.yGridlines),"y2Gridlines"in u&&t(21,ee=u.y2Gridlines),"xAxisLabels"in u&&t(22,Ee=u.xAxisLabels),"yAxisLabels"in u&&t(23,ae=u.yAxisLabels),"y2AxisLabels"in u&&t(24,Q=u.y2AxisLabels),"xBaseline"in u&&t(25,le=u.xBaseline),"yBaseline"in u&&t(26,ye=u.yBaseline),"y2Baseline"in u&&t(27,_e=u.y2Baseline),"xTickMarks"in u&&t(28,P=u.xTickMarks),"yTickMarks"in u&&t(29,ne=u.yTickMarks),"y2TickMarks"in u&&t(30,se=u.y2TickMarks),"yMin"in u&&t(31,be=u.yMin),"yMax"in u&&t(32,Z=u.yMax),"yScale"in u&&t(33,Se=u.yScale),"y2Min"in u&&t(34,K=u.y2Min),"y2Max"in u&&t(35,oe=u.y2Max),"y2Scale"in u&&t(36,Ce=u.y2Scale),"swapXY"in u&&t(0,Ae=u.swapXY),"showAllXAxisLabels"in u&&t(37,ge=u.showAllXAxisLabels),"type"in u&&t(38,Te=u.type),"fillColor"in u&&t(74,Le=u.fillColor),"fillOpacity"in u&&t(39,Re=u.fillOpacity),"outlineColor"in u&&t(75,Me=u.outlineColor),"outlineWidth"in u&&t(40,Je=u.outlineWidth),"chartAreaHeight"in u&&t(41,E=u.chartAreaHeight),"sort"in u&&t(42,ke=u.sort),"colorPalette"in u&&t(76,Fe=u.colorPalette),"labels"in u&&t(43,Ye=u.labels),"labelSize"in u&&t(44,We=u.labelSize),"labelPosition"in u&&t(45,we=u.labelPosition),"labelColor"in u&&t(77,qe=u.labelColor),"labelFmt"in u&&t(46,De=u.labelFmt),"yLabelFmt"in u&&t(47,Xe=u.yLabelFmt),"y2LabelFmt"in u&&t(48,xe=u.y2LabelFmt),"stackTotalLabel"in u&&t(49,ve=u.stackTotalLabel),"seriesLabels"in u&&t(50,Ke=u.seriesLabels),"showAllLabels"in u&&t(51,g=u.showAllLabels),"yAxisColor"in u&&t(78,re=u.yAxisColor),"y2AxisColor"in u&&t(79,Qe=u.y2AxisColor),"echartsOptions"in u&&t(52,h=u.echartsOptions),"seriesOptions"in u&&t(53,Et=u.seriesOptions),"printEchartsConfig"in u&&t(54,pe=u.printEchartsConfig),"emptySet"in u&&t(55,Ct=u.emptySet),"emptyMessage"in u&&t(56,Tt=u.emptyMessage),"renderer"in u&&t(57,ot=u.renderer),"downloadableData"in u&&t(58,lt=u.downloadableData),"downloadableImage"in u&&t(59,$e=u.downloadableImage),"seriesColors"in u&&t(80,dt=u.seriesColors),"seriesOrder"in u&&t(60,Lt=u.seriesOrder),"connectGroup"in u&&t(61,nt=u.connectGroup),"seriesLabelFmt"in u&&t(62,Mt=u.seriesLabelFmt),"leftPadding"in u&&t(63,ft=u.leftPadding),"rightPadding"in u&&t(64,ze=u.rightPadding),"xLabelWrap"in u&&t(65,Ht=u.xLabelWrap),"$$scope"in u&&t(82,S=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&1&&(Ae==="true"||Ae===!0?t(0,Ae=!0):t(0,Ae=!1)),l.$$.dirty[2]&4096&&t(72,i=w(Le)),l.$$.dirty[2]&8192&&t(71,n=w(Me)),l.$$.dirty[2]&16384&&t(70,s=b(Fe)),l.$$.dirty[2]&32768&&t(69,r=w(qe)),l.$$.dirty[2]&65536&&t(68,o=w(re)),l.$$.dirty[2]&131072&&t(67,a=w(Qe)),l.$$.dirty[2]&262144&&t(66,d=T(dt))},[Ae,m,O,R,G,I,z,W,H,te,J,U,y,V,F,L,q,j,ie,de,he,ee,Ee,ae,Q,le,ye,_e,P,ne,se,be,Z,Se,K,oe,Ce,ge,Te,Re,Je,E,ke,Ye,We,we,De,Xe,xe,ve,Ke,g,h,Et,pe,Ct,Tt,ot,lt,$e,Lt,nt,Mt,ft,ze,Ht,d,a,o,r,s,n,i,Ge,Le,Me,Fe,qe,re,Qe,dt,C,S]}class zs extends St{constructor(e){super(),At(this,e,qs,Ws,bt,{data:1,x:2,y:3,y2:4,series:5,xType:6,yLog:7,yLogBase:8,y2SeriesType:9,yFmt:10,y2Fmt:11,xFmt:12,title:13,subtitle:14,legend:15,xAxisTitle:16,yAxisTitle:17,y2AxisTitle:18,xGridlines:19,yGridlines:20,y2Gridlines:21,xAxisLabels:22,yAxisLabels:23,y2AxisLabels:24,xBaseline:25,yBaseline:26,y2Baseline:27,xTickMarks:28,yTickMarks:29,y2TickMarks:30,yMin:31,yMax:32,yScale:33,y2Min:34,y2Max:35,y2Scale:36,swapXY:0,showAllXAxisLabels:37,type:38,fillColor:74,fillOpacity:39,outlineColor:75,outlineWidth:40,chartAreaHeight:41,sort:42,colorPalette:76,labels:43,labelSize:44,labelPosition:45,labelColor:77,labelFmt:46,yLabelFmt:47,y2LabelFmt:48,stackTotalLabel:49,seriesLabels:50,showAllLabels:51,yAxisColor:78,y2AxisColor:79,echartsOptions:52,seriesOptions:53,printEchartsConfig:54,emptySet:55,emptyMessage:56,renderer:57,downloadableData:58,downloadableImage:59,seriesColors:80,seriesOrder:60,connectGroup:61,seriesLabelFmt:62,leftPadding:63,rightPadding:64,xLabelWrap:65},null,[-1,-1,-1])}}function Vs(l){let e,t;return e=new Dn({props:{error:l[3]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n&8&&(s.error=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function js(l){let e,t=Ot(l[2],l[4])+"",i,n,s,r=l[1]&&Vl(l);return{c(){e=$("span"),i=si(t),n=x(),r&&r.c(),this.h()},l(o){e=p(o,"SPAN",{style:!0});var a=Ze(e);i=ni(a,t),n=X(a),r&&r.l(a),a.forEach(_),this.h()},h(){M(e,"color",l[5])},m(o,a){k(o,e,a),Ve(e,i),Ve(e,n),r&&r.m(e,null),s=!0},p(o,a){(!s||a&20)&&t!==(t=Ot(o[2],o[4])+"")&&dl(i,t),o[1]?r?(r.p(o,a),a&2&&N(r,1)):(r=Vl(o),r.c(),N(r,1),r.m(e,null)):r&&(rt(),B(r,1,1,()=>{r=null}),at()),(!s||a&32)&&M(e,"color",o[5])},i(o){s||(N(r),s=!0)},o(o){B(r),s=!1},d(o){o&&_(e),r&&r.d()}}}function Ys(l){let e,t,i,n,s,r="Placeholder: no data currently referenced.";return{c(){e=$("span"),t=si("["),i=si(l[0]),n=si("]"),s=$("span"),s.textContent=r,this.h()},l(o){e=p(o,"SPAN",{class:!0});var a=Ze(e);t=ni(a,"["),i=ni(a,l[0]),n=ni(a,"]"),s=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),tt(s)!=="svelte-ddarzq"&&(s.textContent=r),a.forEach(_),this.h()},h(){D(s,"class","error-msg svelte-1qvl5jp"),D(e,"class","placeholder svelte-1qvl5jp")},m(o,a){k(o,e,a),Ve(e,t),Ve(e,i),Ve(e,n),Ve(e,s)},p(o,a){a&1&&dl(i,o[0])},i:Oe,o:Oe,d(o){o&&_(e)}}}function Vl(l){let e,t;return e=new Nn({props:{description:l[1]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n&2&&(s.description=i[1]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Xs(l){let e,t,i,n;const s=[Ys,js,Vs],r=[];function o(a,d){return a[0]?0:a[3]?2:1}return e=o(l),t=r[e]=s[e](l),{c(){t.c(),i=it()},l(a){t.l(a),i=it()},m(a,d){r[e].m(a,d),k(a,i,d),n=!0},p(a,[d]){let C=e;e=o(a),e===C?r[e].p(a,d):(rt(),B(r[C],1,1,()=>{r[C]=null}),at(),t=r[e],t?t.p(a,d):(t=r[e]=s[e](a),t.c()),N(t,1),t.m(i.parentNode,i))},i(a){n||(N(t),n=!0)},o(a){B(t),n=!1},d(a){a&&_(i),r[e].d(a)}}}function xs(l,e,t){let i,n,s=Oe,r=()=>(s(),s=mt(i,H=>t(15,n=H)),i);l.$$.on_destroy.push(()=>s());const{resolveColor:o}=Bt();let{data:a=null}=e,{row:d=0}=e,{column:C=null}=e,{value:S=null}=e,{placeholder:w=null}=e,{description:T=void 0}=e,{fmt:b=void 0}=e,m,O,R,{color:G=void 0}=e,I="",{redNegatives:z=!1}=e,W;return l.$$set=H=>{"data"in H&&t(7,a=H.data),"row"in H&&t(10,d=H.row),"column"in H&&t(8,C=H.column),"value"in H&&t(11,S=H.value),"placeholder"in H&&t(0,w=H.placeholder),"description"in H&&t(1,T=H.description),"fmt"in H&&t(12,b=H.fmt),"color"in H&&t(13,G=H.color),"redNegatives"in H&&t(9,z=H.redNegatives)},l.$$.update=()=>{var H;if(l.$$.dirty&2304&&t(8,C=C??S),l.$$.dirty&21897)try{if(t(3,R=void 0),!w)if(a){if(typeof a=="string")throw Error(`Received: data=${a}, expected: data={${a}}`);if(Array.isArray(a)||t(7,a=[a]),isNaN(d))throw Error("row must be a number (row="+d+")");try{Object.keys(a[d])[0]}catch{throw Error("Row "+d+" does not exist in the dataset")}t(8,C=C??Object.keys(a[d])[0]),ul(a,[C]),t(14,W=Bi(a,"array"));const te=W.filter(J=>{var U;return J.type==="date"&&!(((U=a[0])==null?void 0:U[J.id])instanceof Date)}).map(J=>J.id);for(let J=0;J<te.length;J++)t(7,a=Mn(a,te[J]));t(2,O=a[d][C]),t(14,W=W.filter(J=>J.id===C)),b?t(4,m=wt(b,(H=W[0].format)==null?void 0:H.valueType)):t(4,m=W[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch(te){if(t(3,R=te.message),console.error("\x1B[31m%s\x1B[0m",`Error in Value: ${R}`),$l)throw R}l.$$.dirty&2304&&S&&C&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.'),l.$$.dirty&8192&&r(t(6,i=o(G))),l.$$.dirty&512&&t(9,z=z==="true"||z===!0),l.$$.dirty&33284&&(z||n)&&(z&&O<0?t(5,I="rgb(220 38 38)"):n&&t(5,I=n))},[w,T,O,R,m,I,i,a,C,z,d,S,b,G,W,n]}class Qs extends St{constructor(e){super(),At(this,e,xs,Xs,bt,{data:7,row:10,column:8,value:11,placeholder:0,description:1,fmt:12,color:13,redNegatives:9})}}function Js(l){let e;const t=l[7].default,i=Ei(t,l,l[8],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&256)&&Ci(i,t,n,n[8],e?ki(t,n[8],s,null):Ti(n[8]),null)},i(n){e||(N(i,n),e=!0)},o(n){B(i,n),e=!1},d(n){i&&i.d(n)}}}function Ks(l){let e,t;const i=[l[4],{data:gt.isQuery(l[11])?Array.from(l[11]):l[11]}];let n={$$slots:{default:[Js]},$$scope:{ctx:l}};for(let s=0;s<i.length;s+=1)n=Pt(n,i[s]);return e=new Qs({props:n}),{c(){me(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,r){ue(e,s,r),t=!0},p(s,r){const o=r&2064?ln(i,[r&16&&nn(s[4]),r&2048&&{data:gt.isQuery(s[11])?Array.from(s[11]):s[11]}]):{};r&256&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function jl(l){let e,t;return e=new sn({props:{emptyMessage:l[2],emptySet:l[1],chartType:$s,isInitial:l[3]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n&4&&(s.emptyMessage=i[2]),n&2&&(s.emptySet=i[1]),n&8&&(s.isInitial=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Zs(l){let e,t,i=!l[4].placeholder&&jl(l);return{c(){e=$("span"),i&&i.c(),this.h()},l(n){e=p(n,"SPAN",{slot:!0});var s=Ze(e);i&&i.l(s),s.forEach(_),this.h()},h(){D(e,"slot","empty")},m(n,s){k(n,e,s),i&&i.m(e,null),t=!0},p(n,s){n[4].placeholder?i&&(rt(),B(i,1,1,()=>{i=null}),at()):i?(i.p(n,s),s&16&&N(i,1)):(i=jl(n),i.c(),N(i,1),i.m(e,null))},i(n){t||(N(i),t=!0)},o(n){B(i),t=!1},d(n){n&&_(e),i&&i.d()}}}function vs(l){let e,t="Loading...";return{c(){e=$("span"),e.textContent=t,this.h()},l(i){e=p(i,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-89gxhc"&&(e.textContent=t),this.h()},h(){D(e,"slot","skeleton"),D(e,"class","text-base-content-muted")},m(i,n){k(i,e,n)},p:Oe,d(i){i&&_(e)}}}function ps(l){let e,t;return e=new tn({props:{data:l[0],$$slots:{skeleton:[vs],empty:[Zs],default:[Ks,({loaded:i})=>({11:i}),({loaded:i})=>i?2048:0]},$$scope:{ctx:l}}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,[n]){const s={};n&1&&(s.data=i[0]),n&2334&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}let $s="Value";function er(l,e,t){let i,{$$slots:n={},$$scope:s}=e,{data:r}=e,{column:o}=e,{agg:a}=e;const d=gt.isQuery(r)?r.hash:void 0;let C=(r==null?void 0:r.hash)===d,{emptySet:S=void 0}=e,{emptyMessage:w=void 0}=e;return l.$$set=T=>{t(10,e=Pt(Pt({},e),gi(T))),"data"in T&&t(0,r=T.data),"column"in T&&t(5,o=T.column),"agg"in T&&t(6,a=T.agg),"emptySet"in T&&t(1,S=T.emptySet),"emptyMessage"in T&&t(2,w=T.emptyMessage),"$$scope"in T&&t(8,s=T.$$scope)},l.$$.update=()=>{l.$$.dirty&97&&a&&t(0,r=r.groupBy(void 0).agg({[a]:{col:o,as:o}})),l.$$.dirty&1&&t(3,C=(r==null?void 0:r.hash)===d),t(4,i=Object.fromEntries(Object.entries(e).filter(([,T])=>T!==void 0)))},e=gi(e),[r,S,w,C,i,o,a,n,s]}class Pi extends St{constructor(e){super(),At(this,e,er,ps,bt,{data:0,column:5,agg:6,emptySet:1,emptyMessage:2})}}function tr(l){let e,t=Ie.title+"",i;return{c(){e=$("h1"),i=si(t),this.h()},l(n){e=p(n,"H1",{class:!0});var s=Ze(e);i=ni(s,t),s.forEach(_),this.h()},h(){D(e,"class","title")},m(n,s){k(n,e,s),Ve(e,i)},p:Oe,d(n){n&&_(e)}}}function ir(l){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:Oe,p:Oe,d:Oe}}function lr(l){let e,t,i,n,s;return document.title=e=Ie.title,{c(){t=x(),i=$("meta"),n=x(),s=$("meta"),this.h()},l(r){t=X(r),i=p(r,"META",{property:!0,content:!0}),n=X(r),s=p(r,"META",{name:!0,content:!0}),this.h()},h(){var r,o;D(i,"property","og:title"),D(i,"content",((r=Ie.og)==null?void 0:r.title)??Ie.title),D(s,"name","twitter:title"),D(s,"content",((o=Ie.og)==null?void 0:o.title)??Ie.title)},m(r,o){k(r,t,o),k(r,i,o),k(r,n,o),k(r,s,o)},p(r,o){o&0&&e!==(e=Ie.title)&&(document.title=e)},d(r){r&&(_(t),_(i),_(n),_(s))}}}function nr(l){var s;let e,t,i=sr(),n=((s=Ie.og)==null?void 0:s.image)&&rr();return{c(){i&&i.c(),e=x(),n&&n.c(),t=it()},l(r){i&&i.l(r),e=X(r),n&&n.l(r),t=it()},m(r,o){i&&i.m(r,o),k(r,e,o),n&&n.m(r,o),k(r,t,o)},p(r,o){var a;i.p(r,o),(a=Ie.og)!=null&&a.image&&n.p(r,o)},d(r){r&&(_(e),_(t)),i&&i.d(r),n&&n.d(r)}}}function sr(l){let e,t,i,n,s;return{c(){e=$("meta"),t=x(),i=$("meta"),n=x(),s=$("meta"),this.h()},l(r){e=p(r,"META",{name:!0,content:!0}),t=X(r),i=p(r,"META",{property:!0,content:!0}),n=X(r),s=p(r,"META",{name:!0,content:!0}),this.h()},h(){var r,o;D(e,"name","description"),D(e,"content",Ie.description),D(i,"property","og:description"),D(i,"content",((r=Ie.og)==null?void 0:r.description)??Ie.description),D(s,"name","twitter:description"),D(s,"content",((o=Ie.og)==null?void 0:o.description)??Ie.description)},m(r,o){k(r,e,o),k(r,t,o),k(r,i,o),k(r,n,o),k(r,s,o)},p:Oe,d(r){r&&(_(e),_(t),_(i),_(n),_(s))}}}function rr(l){let e,t,i;return{c(){e=$("meta"),t=x(),i=$("meta"),this.h()},l(n){e=p(n,"META",{property:!0,content:!0}),t=X(n),i=p(n,"META",{name:!0,content:!0}),this.h()},h(){var n,s;D(e,"property","og:image"),D(e,"content",Ll((n=Ie.og)==null?void 0:n.image)),D(i,"name","twitter:image"),D(i,"content",Ll((s=Ie.og)==null?void 0:s.image))},m(n,s){k(n,e,s),k(n,t,s),k(n,i,s)},p:Oe,d(n){n&&(_(e),_(t),_(i))}}}function Yl(l){let e,t;return e=new ai({props:{queryID:"risk_summary",queryResult:l[0]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&1&&(s.queryResult=i[0]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Xl(l){let e,t;return e=new ai({props:{queryID:"wash_events",queryResult:l[1]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&2&&(s.queryResult=i[1]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function xl(l){let e,t;return e=new ai({props:{queryID:"slippage_data",queryResult:l[2]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&4&&(s.queryResult=i[2]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Ql(l){let e,t;return e=new ai({props:{queryID:"spikes",queryResult:l[3]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.queryResult=i[3]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Jl(l){let e,t;return e=new ai({props:{queryID:"risk_scores",queryResult:l[4]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&16&&(s.queryResult=i[4]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function Kl(l){let e,t;return e=new ai({props:{queryID:"daily_volume",queryResult:l[5]}}),{c(){me(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,n){ue(e,i,n),t=!0},p(i,n){const s={};n[0]&32&&(s.queryResult=i[5]),e.$set(s)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function ar(l){let e,t,i,n,s,r,o='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> <span>HOME</span>',a,d,C='<a href="#ï¸-sentinelsql--analyse-de-fraude-financiÃ¨re">ðŸ›¡ï¸ SentinelSQL â€“ Analyse de Fraude FinanciÃ¨re</a>',S,w,T='<em class="markdown">DÃ©monstration de maÃ®trise SQL avancÃ©e avec DuckDB et Evidence.dev â€“ Projet MIAGE UniversitÃ© Paris Dauphine</em>',b,m,O,R,G='<a href="#-tableau-de-bord-de-risque-global">ðŸ“Š Tableau de Bord de Risque Global</a>',I,z,W,H,te,J,U,y,V,F,L,q,j='<p class="markdown"><strong class="markdown">Expertise mÃ©tier</strong> : Ces indicateurs permettent de surveiller la vÃ©locitÃ© du marchÃ©. Une dÃ©viation du volume par rapport au nombre d&#39;utilisateurs uniques est souvent le premier signal d&#39;une manipulation coordonnÃ©e.</p>',ie,de,he,ee,Ee='<a href="#ï¸-dÃ©tection-de-wash-trading">ðŸ•µï¸ DÃ©tection de Wash Trading</a>',ae,Q,le='<strong class="markdown">MÃ©thode</strong> : Identification des transactions circulaires via un <code class="markdown">Self-Join</code>. On repÃ¨re les utilisateurs qui achÃ¨tent et vendent le mÃªme actif, au mÃªme prix, en moins de 10 secondes.',ye,_e,P,ne,se,be,Z,Se='<a href="#-volatilitÃ©-relative--slippage">ðŸ“‰ VolatilitÃ© Relative &amp; Slippage</a>',K,oe,Ce='<strong class="markdown">ProblÃ©matique</strong> : Un slippage Ã©levÃ© (&gt; 1%) indique une exÃ©cution de mauvaise qualitÃ© ou une manipulation potentielle des prix de l&#39;oracle de l&#39;exchange.',Ae,ge,Te,Ge,Le,Re,Me,Je='<a href="#-anomalies-de-volume-pics-statistiques">âš¡ Anomalies de Volume (Pics Statistiques)</a>',E,ke,Fe='<strong class="markdown">Analyse</strong> : Utilisation de <code class="markdown">Window Functions</code> pour calculer l&#39;Ã©cart-type mobile sur 24h et dÃ©tecter les volumes dÃ©passant 3 sigmas.',Ye,We,we,qe,De,Xe,xe,ve='<a href="#-score-de-risque-utilisateur">ðŸ† Score de Risque Utilisateur</a>',Ke,g,re,Qe,h,Et,pe,Ct='<a href="#-Ã©volution-du-volume-quotidien">ðŸ“ˆ Ã‰volution du Volume Quotidien</a>',Tt,ot,lt,$e,dt,Lt,nt,Mt='<em class="markdown">Projet SentinelSQL â€“ Charles Baudoux, Master MIAGE UniversitÃ© Paris Dauphine</em>',ft,ze=typeof Ie<"u"&&Ie.title&&Ie.hide_title!==!0&&tr();function Ht(f,A){return typeof Ie<"u"&&Ie.title?lr:ir}let Rt=Ht()(l),ht=typeof Ie=="object"&&nr(),Be=l[0]&&Yl(l);H=new Pi({props:{data:l[0],column:"total_trades",title:"Total Transactions"}}),J=new Pi({props:{data:l[0],column:"unique_users",title:"Utilisateurs"}}),y=new Pi({props:{data:l[0],column:"total_volume",title:"Volume Global (â‚¬)",fmt:"eur"}}),F=new Pi({props:{data:l[0],column:"avg_trade_size",title:"Taille Moyenne",fmt:"eur"}});let He=l[1]&&Xl(l);P=new rl({props:{data:l[1],title:"Top Alertes Wash Trading"}});let Ne=l[2]&&xl(l);Te=new zs({props:{data:l[2],x:"asset_id",y:"avg_slippage_pct",yFmt:"pct",title:"Slippage Moyen par Actif (vs Prix MarchÃ©)"}});let je=l[3]&&Ql(l);we=new rl({props:{data:l[3],title:"Pics de Volume (Anomalies Statistiques)"}});let v=l[4]&&Jl(l);re=new rl({props:{data:l[4],title:"Classement du Risque par Utilisateur"}});let Pe=l[5]&&Kl(l);return lt=new Ps({props:{data:l[5],x:"day",y:"volume",title:"Volume Quotidien (â‚¬)"}}),{c(){ze&&ze.c(),e=x(),Rt.c(),t=$("meta"),i=$("meta"),ht&&ht.c(),n=it(),s=x(),r=$("button"),r.innerHTML=o,a=x(),d=$("h1"),d.innerHTML=C,S=x(),w=$("p"),w.innerHTML=T,b=x(),m=$("hr"),O=x(),R=$("h2"),R.innerHTML=G,I=x(),Be&&Be.c(),z=x(),W=$("div"),me(H.$$.fragment),te=x(),me(J.$$.fragment),U=x(),me(y.$$.fragment),V=x(),me(F.$$.fragment),L=x(),q=$("blockquote"),q.innerHTML=j,ie=x(),de=$("hr"),he=x(),ee=$("h2"),ee.innerHTML=Ee,ae=x(),Q=$("p"),Q.innerHTML=le,ye=x(),He&&He.c(),_e=x(),me(P.$$.fragment),ne=x(),se=$("hr"),be=x(),Z=$("h2"),Z.innerHTML=Se,K=x(),oe=$("p"),oe.innerHTML=Ce,Ae=x(),Ne&&Ne.c(),ge=x(),me(Te.$$.fragment),Ge=x(),Le=$("hr"),Re=x(),Me=$("h2"),Me.innerHTML=Je,E=x(),ke=$("p"),ke.innerHTML=Fe,Ye=x(),je&&je.c(),We=x(),me(we.$$.fragment),qe=x(),De=$("hr"),Xe=x(),xe=$("h2"),xe.innerHTML=ve,Ke=x(),v&&v.c(),g=x(),me(re.$$.fragment),Qe=x(),h=$("hr"),Et=x(),pe=$("h2"),pe.innerHTML=Ct,Tt=x(),Pe&&Pe.c(),ot=x(),me(lt.$$.fragment),$e=x(),dt=$("hr"),Lt=x(),nt=$("p"),nt.innerHTML=Mt,this.h()},l(f){ze&&ze.l(f),e=X(f);const A=hn("svelte-2igo1p",document.head);Rt.l(A),t=p(A,"META",{name:!0,content:!0}),i=p(A,"META",{name:!0,content:!0}),ht&&ht.l(A),n=it(),A.forEach(_),s=X(f),r=p(f,"BUTTON",{onclick:!0,style:!0,"data-svelte-h":!0}),tt(r)!=="svelte-5o422x"&&(r.innerHTML=o),a=X(f),d=p(f,"H1",{class:!0,id:!0,"data-svelte-h":!0}),tt(d)!=="svelte-6kw80a"&&(d.innerHTML=C),S=X(f),w=p(f,"P",{class:!0,"data-svelte-h":!0}),tt(w)!=="svelte-ucjson"&&(w.innerHTML=T),b=X(f),m=p(f,"HR",{class:!0}),O=X(f),R=p(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),tt(R)!=="svelte-3wqnck"&&(R.innerHTML=G),I=X(f),Be&&Be.l(f),z=X(f),W=p(f,"DIV",{style:!0});var st=Ze(W);ce(H.$$.fragment,st),te=X(st),ce(J.$$.fragment,st),U=X(st),ce(y.$$.fragment,st),V=X(st),ce(F.$$.fragment,st),st.forEach(_),L=X(f),q=p(f,"BLOCKQUOTE",{class:!0,"data-svelte-h":!0}),tt(q)!=="svelte-5w8g64"&&(q.innerHTML=j),ie=X(f),de=p(f,"HR",{class:!0}),he=X(f),ee=p(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),tt(ee)!=="svelte-1yzuibh"&&(ee.innerHTML=Ee),ae=X(f),Q=p(f,"P",{class:!0,"data-svelte-h":!0}),tt(Q)!=="svelte-12impfd"&&(Q.innerHTML=le),ye=X(f),He&&He.l(f),_e=X(f),ce(P.$$.fragment,f),ne=X(f),se=p(f,"HR",{class:!0}),be=X(f),Z=p(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),tt(Z)!=="svelte-zty99a"&&(Z.innerHTML=Se),K=X(f),oe=p(f,"P",{class:!0,"data-svelte-h":!0}),tt(oe)!=="svelte-1jw8ztd"&&(oe.innerHTML=Ce),Ae=X(f),Ne&&Ne.l(f),ge=X(f),ce(Te.$$.fragment,f),Ge=X(f),Le=p(f,"HR",{class:!0}),Re=X(f),Me=p(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),tt(Me)!=="svelte-oa57oe"&&(Me.innerHTML=Je),E=X(f),ke=p(f,"P",{class:!0,"data-svelte-h":!0}),tt(ke)!=="svelte-16fgvmg"&&(ke.innerHTML=Fe),Ye=X(f),je&&je.l(f),We=X(f),ce(we.$$.fragment,f),qe=X(f),De=p(f,"HR",{class:!0}),Xe=X(f),xe=p(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),tt(xe)!=="svelte-v1tx9r"&&(xe.innerHTML=ve),Ke=X(f),v&&v.l(f),g=X(f),ce(re.$$.fragment,f),Qe=X(f),h=p(f,"HR",{class:!0}),Et=X(f),pe=p(f,"H2",{class:!0,id:!0,"data-svelte-h":!0}),tt(pe)!=="svelte-20nnn5"&&(pe.innerHTML=Ct),Tt=X(f),Pe&&Pe.l(f),ot=X(f),ce(lt.$$.fragment,f),$e=X(f),dt=p(f,"HR",{class:!0}),Lt=X(f),nt=p(f,"P",{class:!0,"data-svelte-h":!0}),tt(nt)!=="svelte-em1s4o"&&(nt.innerHTML=Mt),this.h()},h(){D(t,"name","twitter:card"),D(t,"content","summary_large_image"),D(i,"name","twitter:site"),D(i,"content","@evidence_dev"),D(r,"onclick","const base = window.location.pathname.split('/projets/')[0]; window.top.location.href = window.location.origin + base + '/'; return false;"),M(r,"position","fixed"),M(r,"top","20px"),M(r,"left","20px"),M(r,"z-index","9999"),M(r,"display","inline-flex"),M(r,"align-items","center"),M(r,"gap","8px"),M(r,"padding","10px 16px"),M(r,"background","rgba(37, 99, 235, 0.85)"),M(r,"backdrop-filter","blur(10px)"),M(r,"border","1px solid rgba(255, 255, 255, 0.2)"),M(r,"border-radius","12px"),M(r,"color","white"),M(r,"cursor","pointer"),M(r,"font-family","ui-sans-serif, system-ui, sans-serif"),M(r,"font-size","14px"),M(r,"font-weight","600"),M(r,"box-shadow","0 4px 20px rgba(0, 0, 0, 0.15)"),M(r,"transition","all 0.2s ease"),D(d,"class","markdown"),D(d,"id","ï¸-sentinelsql--analyse-de-fraude-financiÃ¨re"),D(w,"class","markdown"),D(m,"class","markdown"),D(R,"class","markdown"),D(R,"id","-tableau-de-bord-de-risque-global"),M(W,"display","flex"),M(W,"gap","15px"),M(W,"flex-wrap","wrap"),M(W,"margin-bottom","25px"),D(q,"class","markdown"),D(de,"class","markdown"),D(ee,"class","markdown"),D(ee,"id","ï¸-dÃ©tection-de-wash-trading"),D(Q,"class","markdown"),D(se,"class","markdown"),D(Z,"class","markdown"),D(Z,"id","-volatilitÃ©-relative--slippage"),D(oe,"class","markdown"),D(Le,"class","markdown"),D(Me,"class","markdown"),D(Me,"id","-anomalies-de-volume-pics-statistiques"),D(ke,"class","markdown"),D(De,"class","markdown"),D(xe,"class","markdown"),D(xe,"id","-score-de-risque-utilisateur"),D(h,"class","markdown"),D(pe,"class","markdown"),D(pe,"id","-Ã©volution-du-volume-quotidien"),D(dt,"class","markdown"),D(nt,"class","markdown")},m(f,A){ze&&ze.m(f,A),k(f,e,A),Rt.m(document.head,null),Ve(document.head,t),Ve(document.head,i),ht&&ht.m(document.head,null),Ve(document.head,n),k(f,s,A),k(f,r,A),k(f,a,A),k(f,d,A),k(f,S,A),k(f,w,A),k(f,b,A),k(f,m,A),k(f,O,A),k(f,R,A),k(f,I,A),Be&&Be.m(f,A),k(f,z,A),k(f,W,A),ue(H,W,null),Ve(W,te),ue(J,W,null),Ve(W,U),ue(y,W,null),Ve(W,V),ue(F,W,null),k(f,L,A),k(f,q,A),k(f,ie,A),k(f,de,A),k(f,he,A),k(f,ee,A),k(f,ae,A),k(f,Q,A),k(f,ye,A),He&&He.m(f,A),k(f,_e,A),ue(P,f,A),k(f,ne,A),k(f,se,A),k(f,be,A),k(f,Z,A),k(f,K,A),k(f,oe,A),k(f,Ae,A),Ne&&Ne.m(f,A),k(f,ge,A),ue(Te,f,A),k(f,Ge,A),k(f,Le,A),k(f,Re,A),k(f,Me,A),k(f,E,A),k(f,ke,A),k(f,Ye,A),je&&je.m(f,A),k(f,We,A),ue(we,f,A),k(f,qe,A),k(f,De,A),k(f,Xe,A),k(f,xe,A),k(f,Ke,A),v&&v.m(f,A),k(f,g,A),ue(re,f,A),k(f,Qe,A),k(f,h,A),k(f,Et,A),k(f,pe,A),k(f,Tt,A),Pe&&Pe.m(f,A),k(f,ot,A),ue(lt,f,A),k(f,$e,A),k(f,dt,A),k(f,Lt,A),k(f,nt,A),ft=!0},p(f,A){typeof Ie<"u"&&Ie.title&&Ie.hide_title!==!0&&ze.p(f,A),Rt.p(f,A),typeof Ie=="object"&&ht.p(f,A),f[0]?Be?(Be.p(f,A),A[0]&1&&N(Be,1)):(Be=Yl(f),Be.c(),N(Be,1),Be.m(z.parentNode,z)):Be&&(rt(),B(Be,1,1,()=>{Be=null}),at());const st={};A[0]&1&&(st.data=f[0]),H.$set(st);const Nt={};A[0]&1&&(Nt.data=f[0]),J.$set(Nt);const ut={};A[0]&1&&(ut.data=f[0]),y.$set(ut);const Xt={};A[0]&1&&(Xt.data=f[0]),F.$set(Xt),f[1]?He?(He.p(f,A),A[0]&2&&N(He,1)):(He=Xl(f),He.c(),N(He,1),He.m(_e.parentNode,_e)):He&&(rt(),B(He,1,1,()=>{He=null}),at());const ct={};A[0]&2&&(ct.data=f[1]),P.$set(ct),f[2]?Ne?(Ne.p(f,A),A[0]&4&&N(Ne,1)):(Ne=xl(f),Ne.c(),N(Ne,1),Ne.m(ge.parentNode,ge)):Ne&&(rt(),B(Ne,1,1,()=>{Ne=null}),at());const et={};A[0]&4&&(et.data=f[2]),Te.$set(et),f[3]?je?(je.p(f,A),A[0]&8&&N(je,1)):(je=Ql(f),je.c(),N(je,1),je.m(We.parentNode,We)):je&&(rt(),B(je,1,1,()=>{je=null}),at());const yt={};A[0]&8&&(yt.data=f[3]),we.$set(yt),f[4]?v?(v.p(f,A),A[0]&16&&N(v,1)):(v=Jl(f),v.c(),N(v,1),v.m(g.parentNode,g)):v&&(rt(),B(v,1,1,()=>{v=null}),at());const Ut={};A[0]&16&&(Ut.data=f[4]),re.$set(Ut),f[5]?Pe?(Pe.p(f,A),A[0]&32&&N(Pe,1)):(Pe=Kl(f),Pe.c(),N(Pe,1),Pe.m(ot.parentNode,ot)):Pe&&(rt(),B(Pe,1,1,()=>{Pe=null}),at());const xt={};A[0]&32&&(xt.data=f[5]),lt.$set(xt)},i(f){ft||(N(Be),N(H.$$.fragment,f),N(J.$$.fragment,f),N(y.$$.fragment,f),N(F.$$.fragment,f),N(He),N(P.$$.fragment,f),N(Ne),N(Te.$$.fragment,f),N(je),N(we.$$.fragment,f),N(v),N(re.$$.fragment,f),N(Pe),N(lt.$$.fragment,f),ft=!0)},o(f){B(Be),B(H.$$.fragment,f),B(J.$$.fragment,f),B(y.$$.fragment,f),B(F.$$.fragment,f),B(He),B(P.$$.fragment,f),B(Ne),B(Te.$$.fragment,f),B(je),B(we.$$.fragment,f),B(v),B(re.$$.fragment,f),B(Pe),B(lt.$$.fragment,f),ft=!1},d(f){f&&(_(e),_(s),_(r),_(a),_(d),_(S),_(w),_(b),_(m),_(O),_(R),_(I),_(z),_(W),_(L),_(q),_(ie),_(de),_(he),_(ee),_(ae),_(Q),_(ye),_(_e),_(ne),_(se),_(be),_(Z),_(K),_(oe),_(Ae),_(ge),_(Ge),_(Le),_(Re),_(Me),_(E),_(ke),_(Ye),_(We),_(qe),_(De),_(Xe),_(xe),_(Ke),_(g),_(Qe),_(h),_(Et),_(pe),_(Tt),_(ot),_($e),_(dt),_(Lt),_(nt)),ze&&ze.d(f),Rt.d(f),_(t),_(i),ht&&ht.d(f),_(n),Be&&Be.d(f),fe(H),fe(J),fe(y),fe(F),He&&He.d(f),fe(P,f),Ne&&Ne.d(f),fe(Te,f),je&&je.d(f),fe(we,f),v&&v.d(f),fe(re,f),Pe&&Pe.d(f),fe(lt,f)}}}const Ie={title:"SentinelSQL | DÃ©tection de Fraude Analytique",description:"Analytique SQL avancÃ©e pour dÃ©tecter le wash trading et les manipulations de marchÃ©."};function or(l,e,t){let i,n;Yt(l,Un,K=>t(32,i=K)),Yt(l,Rl,K=>t(38,n=K));let{data:s}=e,{data:r={},customFormattingSettings:o,__db:a,inputs:d}=s;yn(Rl,n="6666cd76f96956469e7be39d750cc7d9",n);let C=In(cl(d));_n(C.subscribe(K=>d=K)),al(Bn,{getCustomFormats:()=>o.customFormats||[]});const S=(K,oe)=>Hn(a.query,K,{query_name:oe});Fn(S),i.params,gn(()=>!0);let w={initialData:void 0,initialError:void 0},T=_t`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`,b=`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`;r.risk_summary_data&&(r.risk_summary_data instanceof Error?w.initialError=r.risk_summary_data:w.initialData=r.risk_summary_data,r.risk_summary_columns&&(w.knownColumns=r.risk_summary_columns));let m,O=!1;const R=gt.createReactive({callback:K=>{t(0,m=K)},execFn:S},{id:"risk_summary",...w});R(b,{noResolve:T,...w}),globalThis[Symbol.for("risk_summary")]={get value(){return m}};let G={initialData:void 0,initialError:void 0},I=_t`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- Correction Build : b.trade_id > a.trade_id au lieu de <
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- Correction Build : 10 > sec_diff
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 15`,z=`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- Correction Build : b.trade_id > a.trade_id au lieu de <
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- Correction Build : 10 > sec_diff
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 15`;r.wash_events_data&&(r.wash_events_data instanceof Error?G.initialError=r.wash_events_data:G.initialData=r.wash_events_data,r.wash_events_columns&&(G.knownColumns=r.wash_events_columns));let W,H=!1;const te=gt.createReactive({callback:K=>{t(1,W=K)},execFn:S},{id:"wash_events",...G});te(z,{noResolve:I,...G}),globalThis[Symbol.for("wash_events")]={get value(){return W}};let J={initialData:void 0,initialError:void 0},U=_t`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- Correction Build : 0.1 > slippage_pct
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`,y=`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- Correction Build : 0.1 > slippage_pct
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`;r.slippage_data_data&&(r.slippage_data_data instanceof Error?J.initialError=r.slippage_data_data:J.initialData=r.slippage_data_data,r.slippage_data_columns&&(J.knownColumns=r.slippage_data_columns));let V,F=!1;const L=gt.createReactive({callback:K=>{t(2,V=K)},execFn:S},{id:"slippage_data",...J});L(y,{noResolve:U,...J}),globalThis[Symbol.for("slippage_data")]={get value(){return V}};let q={initialData:void 0,initialError:void 0},j=_t`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
-- Correction Build : volume > (mean_24h + (3 * std_24h))
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 10`,ie=`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
-- Correction Build : volume > (mean_24h + (3 * std_24h))
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 10`;r.spikes_data&&(r.spikes_data instanceof Error?q.initialError=r.spikes_data:q.initialData=r.spikes_data,r.spikes_columns&&(q.knownColumns=r.spikes_columns));let de,he=!1;const ee=gt.createReactive({callback:K=>{t(3,de=K)},execFn:S},{id:"spikes",...q});ee(ie,{noResolve:j,...q}),globalThis[Symbol.for("spikes")]={get value(){return de}};let Ee={initialData:void 0,initialError:void 0},ae=_t`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  GROUP BY 1
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT 
    user_id,
    trade_count,
    ROUND(total_volume) as volume_total,
    CASE 
        WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
        WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
        ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 20`,Q=`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  GROUP BY 1
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT 
    user_id,
    trade_count,
    ROUND(total_volume) as volume_total,
    CASE 
        WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
        WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
        ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 20`;r.risk_scores_data&&(r.risk_scores_data instanceof Error?Ee.initialError=r.risk_scores_data:Ee.initialData=r.risk_scores_data,r.risk_scores_columns&&(Ee.knownColumns=r.risk_scores_columns));let le,ye=!1;const _e=gt.createReactive({callback:K=>{t(4,le=K)},execFn:S},{id:"risk_scores",...Ee});_e(Q,{noResolve:ae,...Ee}),globalThis[Symbol.for("risk_scores")]={get value(){return le}};let P={initialData:void 0,initialError:void 0},ne=_t`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`,se=`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`;r.daily_volume_data&&(r.daily_volume_data instanceof Error?P.initialError=r.daily_volume_data:P.initialData=r.daily_volume_data,r.daily_volume_columns&&(P.knownColumns=r.daily_volume_columns));let be,Z=!1;const Se=gt.createReactive({callback:K=>{t(5,be=K)},execFn:S},{id:"daily_volume",...P});return Se(se,{noResolve:ne,...P}),globalThis[Symbol.for("daily_volume")]={get value(){return be}},l.$$set=K=>{"data"in K&&t(6,s=K.data)},l.$$.update=()=>{l.$$.dirty[0]&64&&t(7,{data:r={},customFormattingSettings:o,__db:a}=s,r),l.$$.dirty[0]&128&&Pn.set(Object.keys(r).length>0),l.$$.dirty[1]&2&&i.params,l.$$.dirty[0]&3840&&(T||!O?T||(R(b,{noResolve:T,...w}),t(11,O=!0)):R(b,{noResolve:T})),l.$$.dirty[0]&61440&&(I||!H?I||(te(z,{noResolve:I,...G}),t(15,H=!0)):te(z,{noResolve:I})),l.$$.dirty[0]&983040&&(U||!F?U||(L(y,{noResolve:U,...J}),t(19,F=!0)):L(y,{noResolve:U})),l.$$.dirty[0]&15728640&&(j||!he?j||(ee(ie,{noResolve:j,...q}),t(23,he=!0)):ee(ie,{noResolve:j})),l.$$.dirty[0]&251658240&&(ae||!ye?ae||(_e(Q,{noResolve:ae,...Ee}),t(27,ye=!0)):_e(Q,{noResolve:ae})),l.$$.dirty[0]&1879048192|l.$$.dirty[1]&1&&(ne||!Z?ne||(Se(se,{noResolve:ne,...P}),t(31,Z=!0)):Se(se,{noResolve:ne}))},t(9,T=_t`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`),t(10,b=`SELECT
    COUNT(*) AS total_trades,
    COUNT(DISTINCT user_id) AS unique_users,
    SUM(amount * price) AS total_volume,
    AVG(amount * price) AS avg_trade_size,
    SUM(CASE WHEN status = 'failed' THEN 1 ELSE 0 END) AS failed_trades
FROM sentinel.transactions`),t(13,I=_t`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- Correction Build : b.trade_id > a.trade_id au lieu de <
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- Correction Build : 10 > sec_diff
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 15`),t(14,z=`WITH suspicious_pairs AS (
  SELECT
    a.user_id,
    a.asset_id,
    a.price,
    ABS(EXTRACT(EPOCH FROM (b.timestamp - a.timestamp))) AS sec_diff
  FROM sentinel.transactions a
  INNER JOIN sentinel.transactions b
    ON a.user_id = b.user_id
    AND a.asset_id = b.asset_id
    AND a.price = b.price
    -- Correction Build : b.trade_id > a.trade_id au lieu de <
    AND b.trade_id > a.trade_id
  WHERE a.status = 'completed' AND b.status = 'completed'
)
SELECT
    user_id,
    asset_id,
    COUNT(*) AS wash_count,
    AVG(sec_diff) AS avg_time_gap
FROM suspicious_pairs
-- Correction Build : 10 > sec_diff
WHERE 10 > sec_diff
GROUP BY ALL
ORDER BY wash_count DESC
LIMIT 15`),t(17,U=_t`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- Correction Build : 0.1 > slippage_pct
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`),t(18,y=`WITH trade_prices AS (
  SELECT
    t.asset_id,
    ABS(t.price - m.market_price) / NULLIF(m.market_price, 0) AS slippage_pct
  FROM sentinel.transactions t
  INNER JOIN sentinel.market_prices m
    ON t.asset_id = m.asset_id
    AND DATE_TRUNC('minute', t.timestamp) = m.timestamp
  WHERE t.status = 'completed'
)
SELECT
    asset_id,
    AVG(slippage_pct) AS avg_slippage_pct
FROM trade_prices
-- Correction Build : 0.1 > slippage_pct
WHERE 0.1 > slippage_pct
GROUP BY ALL
ORDER BY avg_slippage_pct DESC`),t(21,j=_t`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
-- Correction Build : volume > (mean_24h + (3 * std_24h))
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 10`),t(22,ie=`WITH windowed_volume AS (
  SELECT
    DATE_TRUNC('minute', timestamp) AS window_start,
    SUM(amount) AS volume,
    AVG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS mean_24h,
    STDDEV(SUM(amount)) OVER (ORDER BY DATE_TRUNC('minute', timestamp) RANGE BETWEEN INTERVAL '24 hours' PRECEDING AND CURRENT ROW) AS std_24h
  FROM sentinel.transactions
  WHERE status = 'completed'
  GROUP BY 1
)
SELECT
    window_start,
    volume,
    volume / NULLIF(mean_24h, 0) AS volume_ratio
FROM windowed_volume
-- Correction Build : volume > (mean_24h + (3 * std_24h))
WHERE volume > (mean_24h + 3 * std_24h)
ORDER BY volume_ratio DESC
LIMIT 10`),t(25,ae=_t`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  GROUP BY 1
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT 
    user_id,
    trade_count,
    ROUND(total_volume) as volume_total,
    CASE 
        WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
        WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
        ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 20`),t(26,Q=`WITH user_metrics AS (
  SELECT
    user_id,
    COUNT(*) AS trade_count,
    SUM(amount * price) AS total_volume
  FROM sentinel.transactions
  GROUP BY 1
),
stats AS (
  SELECT
    *,
    (trade_count - AVG(trade_count) OVER()) / NULLIF(STDDEV(trade_count) OVER(), 0) AS z_score
  FROM user_metrics
)
SELECT 
    user_id,
    trade_count,
    ROUND(total_volume) as volume_total,
    CASE 
        WHEN z_score > 2 THEN 'ðŸ”´ CRITIQUE'
        WHEN z_score > 1 THEN 'ðŸŸ  Ã‰LEVÃ‰'
        ELSE 'ðŸŸ¢ NORMAL'
    END AS risk_level
FROM stats
ORDER BY trade_count DESC
LIMIT 20`),t(29,ne=_t`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`),t(30,se=`SELECT
  DATE(timestamp) AS day,
  SUM(amount * price) AS volume
FROM sentinel.transactions
WHERE status = 'completed'
GROUP BY 1
ORDER BY 1`),[m,W,V,de,le,be,s,r,w,T,b,O,G,I,z,H,J,U,y,F,q,j,ie,he,Ee,ae,Q,ye,P,ne,se,Z,i]}class _r extends St{constructor(e){super(),At(this,e,or,ar,bt,{data:6},null,[-1,-1])}}export{_r as component};
